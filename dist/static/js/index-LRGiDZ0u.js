import{d as S,fO as te,f as t,p as R,a as E,gF as ne,x as ue,T as le,A as W,r as ie,n as se,y as ae,gG as L,ai as me,a3 as de,_ as X,h as x,B as Y,k as B,e as y,g as I,w as r,j as s,F as ee,l as ce,b as H,t as ve}from"./index-CrpkX2s8.js";var oe=function(e,u){var i,l=u.arg;if(!l){console.error("参数有误");return}var a=u.value,n=te(l)?l.value:(i=u.instance)===null||i===void 0?void 0:i.$refs[l];if(!n){console.error("没有找到 ".concat(l," 对应的实例"));return}if(typeof n.addReference!="function"){console.error("".concat(l," 对应的实例不是 VContextmenu"));return}e.$contextmenuKey=l,n.addReference(e,a)},re=function(e,u){var i,l=e.$contextmenuKey;if(l){var a=te(l)?l.value:(i=u.instance)===null||i===void 0?void 0:i.$refs[l];if(!a){console.error("没有找到 ".concat(l," 对应的实例"));return}if(typeof a.removeReference!="function"){console.error("".concat(l," 对应的实例不是 VContextmenu"));return}a.removeReference(e)}},fe=function(e,u){re(e,u),oe(e,u)},q={mounted:oe,updated:fe,beforeUnmount:re},m={contextmenu:"v-contextmenu",contextmenuIcon:"v-contextmenu-icon",contextmenuInner:"v-contextmenu-inner",contextmenuDivider:"v-contextmenu-divider",contextmenuItem:"v-contextmenu-item",contextmenuItemHover:"v-contextmenu-item--hover",contextmenuItemDisabled:"v-contextmenu-item--disabled",contextmenuGroup:"v-contextmenu-group",contextmenuGroupTitle:"v-contextmenu-group__title",contextmenuGroupMenus:"v-contextmenu-group__menus",contextmenuSubmenu:"v-contextmenu-submenu",contextmenuSubmenuTitle:"v-contextmenu-submenu__title",contextmenuSubmenuMenus:"v-contextmenu-submenu__menus",contextmenuSubmenuMenusTop:"v-contextmenu-submenu__menus--top",contextmenuSubmenuMenusRight:"v-contextmenu-submenu__menus--right",contextmenuSubmenuMenusBottom:"v-contextmenu-submenu__menus--bottom",contextmenuSubmenuMenusLeft:"v-contextmenu-submenu__menus--left",contextmenuSubmenuArrow:"v-contextmenu-submenu__arrow"};function xe(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!me(o)}var pe={trigger:["contextmenu"]},A=S({name:"VContextmenu",props:{modelValue:{type:Boolean,default:!1},autoAdjustPlacement:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},teleport:{type:[String,Object],default:function(){return"body"}},preventContextmenu:{type:Boolean,default:!0}},emits:["show","hide","update:modelValue","contextmenu"],setup:function(e,u){var i=u.emit,l=E(null),a=E(e.modelValue||!1),n=function(c){a.value=c,i("update:modelValue",c)},f=E({top:0,left:0}),h=R(function(){return{top:"".concat(f.value.top,"px"),left:"".concat(f.value.left,"px")}}),$=E(null),b=function(c,_){var v=c instanceof Event?_:c,G=(v==null?void 0:v.autoAdjustPlacement)||e.autoAdjustPlacement,C={top:(v==null?void 0:v.top)||0,left:(v==null?void 0:v.left)||0};if(c instanceof Event){var T,K;c.preventDefault(),C.top=(T=v==null?void 0:v.top)!==null&&T!==void 0?T:c.pageY,C.left=(K=v==null?void 0:v.left)!==null&&K!==void 0?K:c.pageX}n(!0),ue(function(){if(G){var U=l.value;if(!U)return;var z=U.clientWidth,J=U.clientHeight;if(J+C.top>=window.innerHeight+window.scrollY){var Q=C.top-J;Q>window.scrollY&&(C.top=Q)}if(z+C.left>=window.innerWidth+window.scrollX){var Z=C.left-z;Z>window.scrollX&&(C.left=Z)}}f.value=C,i("show")})},w=function(){$.value=null,n(!1),i("hide")},d=ie(new Map),p=E(),k=R(function(){return p.value&&d.get(p.value)}),N=function(c,_){var v=(function(){return _!=null&&_.trigger?Array.isArray(_.trigger)?_.trigger:[_.trigger]:pe.trigger})(),G=function(T){e.disabled||(p.value=c,b(T,{}))};v.forEach(function(C){c.addEventListener(C,G)}),d.set(c,{triggers:v,handler:G})},j=function(c){var _=d.get(c);_&&(_.triggers.forEach(function(v){c.removeEventListener(v,_.handler)}),d.delete(c))},V=function(c){if(!(!c.target||!l.value||!p.value)){var _=l.value.contains(c.target)||k.value&&k.value.triggers.includes("click")&&p.value.contains(c.target);_||n(!1)}};return se(a,function(M){M?document.addEventListener("click",V):document.removeEventListener("click",V)}),ae(function(){document.removeEventListener("click",V)}),L("visible",a),L("autoAdjustPlacement",e.autoAdjustPlacement),L("show",b),L("hide",w),{visible:a,style:h,currentReferenceOptions:k,currentOptions:$,contextmenuRef:l,addReference:N,removeReference:j,toggle:n,show:b,hide:w}},methods:{renderContent:function(){var e=this,u,i;return W(t("div",{class:m.contextmenu,ref:"contextmenuRef",style:this.style,onContextmenu:function(a){e.$props.preventContextmenu&&a.preventDefault(),e.$emit("contextmenu",a)}},[t("ul",{class:m.contextmenuInner},[(u=(i=this.$slots).default)===null||u===void 0?void 0:u.call(i,{triggerOptions:"currentReferenceOptions",options:"currentOptions"})])]),[[de,"visible"]])}},render:function(){var e;return this.visible?this.teleport?t(le,{to:this.teleport},xe(e=this.renderContent())?e:{default:function(){return[e]}}):this.renderContent():null}});function _e(o,e){if(typeof o!="object"||!o)return o;var u=o[Symbol.toPrimitive];if(u!==void 0){var i=u.call(o,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(o)}function be(o){var e=_e(o,"string");return typeof e=="symbol"?e:String(e)}function g(o,e,u){return e=be(e),e in o?Object.defineProperty(o,e,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[e]=u,o}var D=S({name:"VContextmenuItem",props:{disabled:{type:Boolean,default:!1},hideOnClick:{type:Boolean,default:!0},contextmenuAsClick:{type:Boolean,default:!0}},emits:["click","contextmenu","mouseenter","mouseleave"],setup:function(e,u){var i=u.emit,l=ne("hide"),a=E(!1),n=R(function(){return g(g(g({},m.contextmenuItem,!0),m.contextmenuItemDisabled,e.disabled),m.contextmenuItemHover,a.value)}),f=function(d){i("click",d),!e.disabled&&e.hideOnClick&&(l==null||l())},h=function(d){if(i("contextmenu",d),e.contextmenuAsClick){if(e.disabled)return;e.hideOnClick&&(l==null||l())}},$=function(d){i("mouseenter",d),!e.disabled&&(a.value=!0)},b=function(d){i("mouseleave",d),!e.disabled&&(a.value=!1)};return{classes:n,handleClick:f,handleContextmenu:h,handleMouseenter:$,handleMouseleave:b}},render:function(){var e,u;return t("li",{class:this.classes,onClick:this.handleClick,onContextmenu:this.handleContextmenu,onMouseenter:this.handleMouseenter,onMouseleave:this.handleMouseleave},[(e=(u=this.$slots).default)===null||e===void 0?void 0:e.call(u)])}}),F=S({name:"VContextmenuDivider",render:function(){return t("li",{class:m.contextmenuDivider},null)}}),ge=S({name:"VContextmenuIcon",props:{name:{type:String,required:!0}},render:function(){return t("i",{class:[m.contextmenuIcon,"".concat(m.contextmenuIcon,"-").concat(this.name)]},null)}}),P=S({name:"VContextmenuSubmenu",props:{title:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["mouseenter","mouseleave"],setup:function(e,u){var i=u.emit,l=E(null),a=ne("autoAdjustPlacement"),n=E(["top","right"]),f=E(!1),h=function(p){e.disabled||(f.value=!0,i("mouseenter",p),ue(function(){var k=[];if(a){var N=p.target,j=N.getBoundingClientRect();if(!l.value)return;var V=l.value.clientWidth,M=l.value.clientHeight;j.right+V>=window.innerWidth?k.push("left"):k.push("right"),j.bottom+M>=window.innerHeight?k.push("bottom"):k.push("top")}n.value=k}))},$=function(p){e.disabled||(f.value=!1,i("mouseleave",p))},b=R(function(){return g(g(g(g({},m.contextmenuItem,!0),m.contextmenuSubmenuTitle,!0),m.contextmenuItemHover,f.value),m.contextmenuItemDisabled,e.disabled)}),w=R(function(){return g(g(g(g(g(g({},m.contextmenu,!0),m.contextmenuSubmenuMenus,!0),m.contextmenuSubmenuMenusTop,n.value.includes("top")),m.contextmenuSubmenuMenusRight,n.value.includes("right")),m.contextmenuSubmenuMenusBottom,n.value.includes("bottom")),m.contextmenuSubmenuMenusLeft,n.value.includes("left"))});return{hover:f,submenuRef:l,titleClasses:b,menusClasses:w,handleMouseenter:h,handleMouseleave:$}},render:function(){var e,u,i,l;return t("li",{class:m.contextmenuSubmenu,onMouseenter:this.handleMouseenter,onMouseleave:this.handleMouseleave},[t("div",{class:this.titleClasses},[((e=(u=this.$slots).title)===null||e===void 0?void 0:e.call(u))||this.title,t("span",{class:m.contextmenuSubmenuArrow},[t(ge,{name:"right-arrow"},null)])]),this.hover?t("div",{ref:"submenuRef",class:this.menusClasses},[t("ul",{class:m.contextmenuInner},[(i=(l=this.$slots).default)===null||i===void 0?void 0:i.call(l)])]):null])}}),O=S({name:"VContextmenuGroup",props:{title:{type:String,default:void 0},maxWidth:{type:[Number,String],default:void 0}},setup:function(e){var u=R(function(){if(e.maxWidth)return{"max-width":typeof e.maxWidth=="number"?"".concat(e.maxWidth,"px"):e.maxWidth,"overflow-x":"auto"}});return{style:u}},methods:{renderTitle:function(){var e,u,i=((e=(u=this.$slots).title)===null||e===void 0?void 0:e.call(u))||this.title;return i?t("div",{class:m.contextmenuGroupTitle},[i]):null}},render:function(){var e,u;return t("li",{class:m.contextmenuGroup},[this.renderTitle(),t("ul",{style:this.style,class:m.contextmenuGroupMenus},[(e=(u=this.$slots).default)===null||e===void 0?void 0:e.call(u)])])}});const he=S({name:"ExampleSimple",components:{[A.name]:A,[D.name]:D,[F.name]:F,[P.name]:P,[O.name]:O},directives:{contextmenu:q}}),$e={class:"wrapper"};function Ce(o,e,u,i,l,a){const n=x("v-contextmenu-item"),f=x("v-contextmenu-divider"),h=x("v-contextmenu-submenu"),$=x("v-contextmenu"),b=Y("contextmenu");return y(),B("div",null,[e[9]||(e[9]=I("div",{class:"mb-2"},"基础用法",-1)),W((y(),B("div",$e,[...e[0]||(e[0]=[I("code",null,"右键点击此区域",-1)])])),[[b,void 0,"contextmenu"]]),t($,{ref:"contextmenu"},{default:r(()=>[t(n,null,{default:r(()=>[...e[1]||(e[1]=[s("GitHub",-1)])]),_:1}),t(n,null,{default:r(()=>[...e[2]||(e[2]=[s("GitLab",-1)])]),_:1}),t(f),t(h,{title:"蔬菜菜"},{default:r(()=>[t(n,null,{default:r(()=>[...e[3]||(e[3]=[s("土豆",-1)])]),_:1}),t(h,{title:"青菜"},{default:r(()=>[t(n,null,{default:r(()=>[...e[4]||(e[4]=[s("小油菜",-1)])]),_:1}),t(n,null,{default:r(()=>[...e[5]||(e[5]=[s("空心菜",-1)])]),_:1})]),_:1}),t(n,null,{default:r(()=>[...e[6]||(e[6]=[s("黄瓜",-1)])]),_:1})]),_:1}),t(n,{disabled:""},{default:r(()=>[...e[7]||(e[7]=[s("菠萝蜜",-1)])]),_:1}),t(f),t(n,null,{default:r(()=>[...e[8]||(e[8]=[s("哈密瓜",-1)])]),_:1})]),_:1},512)])}const ye=X(he,[["render",Ce],["__scopeId","data-v-3af067fd"]]),we=S({name:"ExampleSFC",components:{[A.name]:A,[D.name]:D,[F.name]:F,[P.name]:P,[O.name]:O},directives:{contextmenu:q}}),Se={class:"wrapper"};function ke(o,e,u,i,l,a){const n=x("v-contextmenu-item"),f=x("v-contextmenu-group"),h=x("v-contextmenu-divider"),$=x("v-contextmenu"),b=Y("contextmenu");return y(),B("div",null,[e[9]||(e[9]=I("div",{class:"mb-2"},"按钮组",-1)),W((y(),B("div",Se,[...e[0]||(e[0]=[I("code",null,"右键点击此区域",-1)])])),[[b,void 0,"contextmenu"]]),t($,{ref:"contextmenu"},{default:r(()=>[t(n,null,{default:r(()=>[...e[1]||(e[1]=[s("菜单",-1)])]),_:1}),t(f,null,{default:r(()=>[t(n,null,{default:r(()=>[...e[2]||(e[2]=[s("Github",-1)])]),_:1}),t(n,null,{default:r(()=>[...e[3]||(e[3]=[s("Codepen",-1)])]),_:1}),t(n,{disabled:""},{default:r(()=>[...e[4]||(e[4]=[s("Alipay",-1)])]),_:1}),t(n,null,{default:r(()=>[...e[5]||(e[5]=[s("Wechat",-1)])]),_:1})]),_:1}),t(h),t(f,{title:"按钮组"},{default:r(()=>[t(n,null,{default:r(()=>[...e[6]||(e[6]=[s("菜单1",-1)])]),_:1}),t(n,null,{default:r(()=>[...e[7]||(e[7]=[s("菜单2",-1)])]),_:1}),t(n,{disabled:""},{default:r(()=>[...e[8]||(e[8]=[s("菜单3",-1)])]),_:1})]),_:1})]),_:1},512)])}const Me=X(we,[["render",ke],["__scopeId","data-v-143d3438"]]),Ee=S({name:"ExampleDynamic",components:{[A.name]:A,[D.name]:D,[F.name]:F,[P.name]:P,[O.name]:O},directives:{contextmenu:q},data(){return{extra:[]}},methods:{addItem(o="item"){this.extra.push(o)},removeItem(){this.extra.pop()}}}),Be={class:"wrapper"};function Ie(o,e,u,i,l,a){const n=x("v-contextmenu-item"),f=x("v-contextmenu-group"),h=x("v-contextmenu-divider"),$=x("v-contextmenu-submenu"),b=x("v-contextmenu"),w=Y("contextmenu");return y(),B("div",null,[e[15]||(e[15]=I("div",{class:"mb-2"},"动态菜单",-1)),W((y(),B("div",Be,[...e[4]||(e[4]=[I("code",null,"右键点击此区域",-1)])])),[[w,void 0,"contextmenu"]]),t(b,{ref:"contextmenu"},{default:r(()=>[t(f,{title:"操作"},{default:r(()=>[t(n,{"hide-on-click":!1,onClick:e[0]||(e[0]=d=>o.extra.push("item"))},{default:r(()=>[...e[5]||(e[5]=[s(" 添加菜单 ",-1)])]),_:1}),t(n,{"hide-on-click":!1,onClick:e[1]||(e[1]=d=>o.extra.push("group"))},{default:r(()=>[...e[6]||(e[6]=[s(" 添加菜单组 ",-1)])]),_:1}),t(n,{"hide-on-click":!1,onClick:e[2]||(e[2]=d=>o.extra.push("submenu"))},{default:r(()=>[...e[7]||(e[7]=[s(" 添加子菜单 ",-1)])]),_:1}),t(n,{"hide-on-click":!1,onClick:e[3]||(e[3]=d=>o.extra.pop())},{default:r(()=>[...e[8]||(e[8]=[s(" 删除 ",-1)])]),_:1})]),_:1}),(y(!0),B(ee,null,ce(o.extra,(d,p)=>(y(),B(ee,{key:p},[t(h),d==="group"?(y(),H(f,{key:0,title:`菜单组 ${p+1}`},{default:r(()=>[t(n,null,{default:r(()=>[...e[9]||(e[9]=[s("菜单1",-1)])]),_:1}),t(n,null,{default:r(()=>[...e[10]||(e[10]=[s("菜单2",-1)])]),_:1}),t(n,null,{default:r(()=>[...e[11]||(e[11]=[s("菜单3",-1)])]),_:1})]),_:1},8,["title"])):d==="submenu"?(y(),H($,{key:1,title:`子菜单 ${p+1}`},{default:r(()=>[t(n,null,{default:r(()=>[...e[12]||(e[12]=[s("菜单1",-1)])]),_:1}),t(n,null,{default:r(()=>[...e[13]||(e[13]=[s("菜单2",-1)])]),_:1}),t(n,null,{default:r(()=>[...e[14]||(e[14]=[s("菜单3",-1)])]),_:1})]),_:1},8,["title"])):(y(),H(n,{key:2},{default:r(()=>[s("菜单 "+ve(p+1),1)]),_:2},1024))],64))),128))]),_:1},512)])}const Re=X(Ee,[["render",Ie],["__scopeId","data-v-735026ef"]]),Ae={class:"card-header"},Fe=S({name:"ContextMenu",__name:"index",setup(o){return(e,u)=>{const i=x("el-link"),l=x("el-col"),a=x("el-row"),n=x("el-card");return y(),H(n,{shadow:"never"},{header:r(()=>[I("div",Ae,[u[1]||(u[1]=I("p",{class:"font-medium"},"右键菜单",-1)),t(i,{class:"mt-2",href:"https://github.com/pure-admin/vue-pure-admin/blob/main/src/views/components/contextmenu",target:"_blank"},{default:r(()=>[...u[0]||(u[0]=[s(" 代码位置 src/views/components/contextmenu ",-1)])]),_:1})])]),default:r(()=>[t(a,{gutter:24},{default:r(()=>[t(l,{xs:24,sm:10,md:10,lg:8,xl:10},{default:r(()=>[t(ye)]),_:1}),t(l,{xs:24,sm:10,md:10,lg:8,xl:10},{default:r(()=>[t(Me)]),_:1}),t(l,{xs:24,sm:10,md:10,lg:8,xl:10},{default:r(()=>[t(Re)]),_:1})]),_:1})]),_:1})}}});export{Fe as default};
