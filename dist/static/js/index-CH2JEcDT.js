var Z=Object.defineProperty,ee=Object.defineProperties;var te=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var J=(l,e,t)=>e in l?Z(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,L=(l,e)=>{for(var t in e||(e={}))le.call(e,t)&&J(l,t,e[t]);if(E)for(var t of E(e))ae.call(e,t)&&J(l,t,e[t]);return l},P=(l,e)=>ee(l,te(e));var T=(l,e,t)=>new Promise((f,g)=>{var _=u=>{try{h(t.next(u))}catch(m){g(m)}},c=u=>{try{h(t.throw(u))}catch(m){g(m)}},h=u=>u.done?f(u.value):Promise.resolve(u.value).then(_,c);h((t=t.apply(l,e)).next())});import{g2 as oe,k as v,e as d,g as p,a5 as W,d as q,p as G,v as K,f as n,h as r,w as i,b as C,i as M,u as x,j as y,t as B,_ as ne,a as b,n as j,F as R,l as X,J as Y,m as se,A as N,a3 as Q,B as ie,gU as re,x as ue}from"./index-CrpkX2s8.js";import{u as de}from"./hooks-B7bPvCbq.js";const ce=l=>oe.request("post","/get-card-list",{data:l}),me={width:"1em",height:"1em",fill:"none",class:"t-icon t-icon-shop",viewBox:"0 0 16 16"};function pe(l,e){return d(),v("svg",me,[...e[0]||(e[0]=[p("path",{fill:"currentColor",d:"M8 1a2.5 2.5 0 0 0-2.5 2.5V5h-2a.5.5 0 0 0-.5.5v9c0 .28.22.5.5.5h9a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-2V3.5A2.5 2.5 0 0 0 8 1m1.5 5v2h1V6H12v8H4V6h1.5v2h1V6zm0-1h-3V3.5a1.5 1.5 0 1 1 3 0z"},null,-1)])])}const ve={render:pe},fe={width:"1em",height:"1em",fill:"none",class:"t-icon t-icon-laptop",viewBox:"0 0 16 16"};function _e(l,e){return d(),v("svg",fe,[...e[0]||(e[0]=[p("path",{fill:"currentColor",d:"M2.5 12a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h11a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1zm0-1h11V4h-11zM15 13H1v1h14z"},null,-1)])])}const ge={render:_e},he={width:"1em",height:"1em",fill:"none",class:"t-icon t-icon-service",viewBox:"0 0 16 16"};function be(l,e){return d(),v("svg",he,[...e[0]||(e[0]=[p("path",{fill:"currentColor",d:"M2.52 6.37a5.5 5.5 0 0 1 10.98.13v4c0 .05 0 .1-.02.15A4.5 4.5 0 0 1 9 14.7H8v-1h1a3.5 3.5 0 0 0 3.4-2.7h-1.9a.5.5 0 0 1-.5-.5v-4c0-.28.22-.5.5-.5h1.93a4.5 4.5 0 0 0-8.86 0H5.5c.28 0 .5.22.5.5v4a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5v-4c0-.04 0-.09.02-.13M12.5 7H11v3h1.5zm-9 0v3H5V7z"},null,-1)])])}const we={render:be},ye={width:"1em",height:"1em",fill:"none",class:"t-icon t-icon-calendar",viewBox:"0 0 16 16"};function xe(l,e){return d(),v("svg",ye,[...e[0]||(e[0]=[p("path",{fill:"currentColor",d:"M10 3H6V1.5H5V3H3a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-2V1.5h-1zM5 5h1V4h4v1h1V4h2v2H3V4h2zM3 7h10v6H3z"},null,-1)])])}const Ve={render:xe},Ce={width:"1em",height:"1em",fill:"none",class:"t-icon t-icon-user-avatar",viewBox:"0 0 16 16"};function ke(l,e){return d(),v("svg",Ce,[...e[0]||(e[0]=[p("path",{fill:"currentColor",d:"M8 10.5c1.24 0 2.42.31 3.5.88v1.12h1v-1.14a.94.94 0 0 0-.49-.84 8.48 8.48 0 0 0-8.02 0 .94.94 0 0 0-.49.84v1.14h1v-1.12A7.5 7.5 0 0 1 8 10.5M10.5 6a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0m-1 0a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"},null,-1),p("path",{fill:"currentColor",d:"M2.5 1.5a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-11a1 1 0 0 0-1-1zm11 1v11h-11v-11z"},null,-1)])])}const ze={render:ke},Me={viewBox:"0 0 24 24",width:"1em",height:"1em"};function $e(l,e){return d(),v("svg",Me,[...e[0]||(e[0]=[p("path",{fill:"currentColor",d:"M12 3c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2m0 14c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2m0-7c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2"},null,-1)])])}const Ie=W({name:"ri-more-2-fill",render:$e}),Se={class:"list-card-item_detail bg-bg_color"},Le={class:"list-card-item_detail--operation"},Be={class:"list-card-item_detail--name text-text_color_primary"},He={class:"list-card-item_detail--desc text-text_color_regular"},De=q({name:"ReCard",__name:"ListCard",props:{product:{type:Object}},emits:["manage-product","delete-item"],setup(l,{emit:e}){const t=l,f=e,g=u=>{f("manage-product",u)},_=u=>{f("delete-item",u)},c=G(()=>["list-card-item",{"list-card-item__disabled":!t.product.isSetup}]),h=G(()=>["list-card-item_detail--logo",{"list-card-item_detail--logo__disabled":!t.product.isSetup}]);return(u,m)=>{const k=r("el-tag"),$=r("IconifyIconOffline"),z=r("el-dropdown-item"),o=r("el-dropdown-menu"),a=r("el-dropdown"),V=r("el-row");return d(),v("div",{class:K(c.value)},[p("div",Se,[n(V,{justify:"space-between"},{default:i(()=>[p("div",{class:K(h.value)},[l.product.type===1?(d(),C(x(ve),{key:0})):M("",!0),l.product.type===2?(d(),C(x(Ve),{key:1})):M("",!0),l.product.type===3?(d(),C(x(we),{key:2})):M("",!0),l.product.type===4?(d(),C(x(ze),{key:3})):M("",!0),l.product.type===5?(d(),C(x(ge),{key:4})):M("",!0)],2),p("div",Le,[n(k,{color:l.product.isSetup?"#00a870":"#eee",effect:"dark",class:"mx-1 list-card-item_detail--operation--tag"},{default:i(()=>[y(B(l.product.isSetup?"已启用":"已停用"),1)]),_:1},8,["color"]),n(a,{trigger:"click",disabled:!l.product.isSetup},{dropdown:i(()=>[n(o,{disabled:!l.product.isSetup},{default:i(()=>[n(z,{onClick:m[0]||(m[0]=w=>g(l.product))},{default:i(()=>[...m[2]||(m[2]=[y(" 管理 ",-1)])]),_:1}),n(z,{onClick:m[1]||(m[1]=w=>_(l.product))},{default:i(()=>[...m[3]||(m[3]=[y(" 删除 ",-1)])]),_:1})]),_:1},8,["disabled"])]),default:i(()=>[n($,{icon:x(Ie),class:"text-[24px]"},null,8,["icon"])]),_:1},8,["disabled"])])]),_:1}),p("p",Be,B(l.product.name),1),p("p",He,B(l.product.description),1)])],2)}}}),Ae=ne(De,[["__scopeId","data-v-d507ab16"]]),Fe=q({__name:"ListDialogForm",props:{visible:{type:Boolean,default:!1},data:{type:Object,default:()=>({})}},emits:["update:visible"],setup(l,{emit:e}){const t=[{label:"网关",value:1},{label:"人工智能",value:2},{label:"CVM",value:3},{label:"防火墙",value:4},{label:"未知",value:5}],f=l,g=b(),_=b(!1),c=b(f.data),h=b(""),u=o=>T(null,null,function*(){o&&(yield o.validate(a=>{a&&(Y("提交成功",{type:"success"}),_.value=!1,m(o))}))}),m=o=>{o&&o.resetFields()},k=()=>{_.value=!1,m(g.value)},$=e;j(()=>_.value,o=>{$("update:visible",o)}),j(()=>f.visible,o=>{_.value=o}),j(()=>f.data,o=>{c.value=o});const z={name:[{required:!0,message:"请输入产品名称",trigger:"blur"}]};return(o,a)=>{const V=r("el-input"),w=r("el-form-item"),I=r("el-radio"),H=r("el-radio-group"),D=r("el-option"),A=r("el-select"),F=r("el-form"),S=r("el-button"),U=r("el-dialog");return d(),C(U,{modelValue:_.value,"onUpdate:modelValue":a[6]||(a[6]=s=>_.value=s),title:"新建产品",width:680,draggable:"","before-close":k},{footer:i(()=>[n(S,{onClick:k},{default:i(()=>[...a[9]||(a[9]=[y("取消",-1)])]),_:1}),n(S,{type:"primary",onClick:a[5]||(a[5]=s=>u(g.value))},{default:i(()=>[...a[10]||(a[10]=[y(" 确定 ",-1)])]),_:1})]),default:i(()=>[n(F,{ref_key:"ruleFormRef",ref:g,model:c.value,rules:z,"label-width":"100px"},{default:i(()=>[n(w,{label:"产品名称",prop:"name"},{default:i(()=>[n(V,{modelValue:c.value.name,"onUpdate:modelValue":a[0]||(a[0]=s=>c.value.name=s),style:{width:"480px"},placeholder:"请输入产品名称"},null,8,["modelValue"])]),_:1}),n(w,{label:"产品状态",prop:"status"},{default:i(()=>[n(H,{modelValue:c.value.status,"onUpdate:modelValue":a[1]||(a[1]=s=>c.value.status=s)},{default:i(()=>[n(I,{value:"0"},{default:i(()=>[...a[7]||(a[7]=[y("已停用",-1)])]),_:1}),n(I,{value:"1"},{default:i(()=>[...a[8]||(a[8]=[y("已启用",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),n(w,{label:"产品描述",prop:"description"},{default:i(()=>[n(V,{modelValue:c.value.description,"onUpdate:modelValue":a[2]||(a[2]=s=>c.value.description=s),style:{width:"480px"},placeholder:"请输入产品描述"},null,8,["modelValue"])]),_:1}),n(w,{label:"产品类型",prop:"type"},{default:i(()=>[n(A,{modelValue:c.value.type,"onUpdate:modelValue":a[3]||(a[3]=s=>c.value.type=s),clearable:"",style:{width:"480px"}},{default:i(()=>[(d(),v(R,null,X(t,(s,O)=>n(D,{key:O,value:s.value,label:s.label},{default:i(()=>[y(B(s.label),1)]),_:2},1032,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1}),n(w,{label:"备注",prop:"mark"},{default:i(()=>[n(V,{modelValue:h.value,"onUpdate:modelValue":a[4]||(a[4]=s=>h.value=s),type:"textarea",style:{width:"480px"},placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}}),Ue={viewBox:"0 0 24 24",width:"1em",height:"1em"};function Oe(l,e){return d(),v("svg",Ue,[...e[0]||(e[0]=[p("path",{fill:"currentColor",d:"M11 11V7h2v4h4v2h-4v4h-2v-4H7v-2zm1 11C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10m0-2a8 8 0 1 0 0-16a8 8 0 0 0 0 16"},null,-1)])])}const Pe=W({name:"ri-add-circle-line",render:Oe}),Te={class:"w-full flex justify-between mb-4"},je=`
        <path class="path" d="
          M 30 15
          L 28 17
          M 25.61 25.61
          A 15 15, 0, 0, 1, 15 30
          A 15 15, 0, 1, 1, 27.99 7.5
          L 15 15
        " style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>
      `,Ee=q({name:"CardList",__name:"index",setup(l){const e={name:"",status:"",description:"",type:"",mark:""},t=b({current:1,pageSize:12,total:0}),f=b([]),g=b(!0),_=()=>T(null,null,function*(){try{const{data:o}=yield ce();f.value=o.list,t.value=P(L({},t.value),{total:o.list.length})}catch(o){}finally{setTimeout(()=>{g.value=!1},500)}});se(()=>{_()});const c=b(!1),h=b(L({},e)),u=b(""),m=o=>{t.value.pageSize=o,t.value.current=1},k=o=>{t.value.current=o},$=o=>{re.confirm(o?`确认删除后${o.name}的所有产品信息将被清空, 且无法恢复`:"","提示",{type:"warning"}).then(()=>{Y("删除成功",{type:"success"})}).catch(()=>{})},z=o=>{c.value=!0,ue(()=>{h.value=P(L({},o),{status:o!=null&&o.isSetup?"1":"0"})})};return(o,a)=>{const V=r("el-button"),w=r("IconifyIconOffline"),I=r("el-icon"),H=r("el-input"),D=r("el-empty"),A=r("el-col"),F=r("el-row"),S=r("el-pagination"),U=ie("loading");return d(),v("div",null,[p("div",Te,[n(V,{icon:x(de)(x(Pe)),onClick:a[0]||(a[0]=s=>c.value=!0)},{default:i(()=>[...a[4]||(a[4]=[y(" 新建产品 ",-1)])]),_:1},8,["icon"]),n(H,{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=s=>u.value=s),style:{width:"300px"},placeholder:"请输入产品名称",clearable:""},{suffix:i(()=>[n(I,{class:"el-input__icon"},{default:i(()=>[N(n(w,{icon:"ri/search-line"},null,512),[[Q,u.value.length===0]])]),_:1})]),_:1},8,["modelValue"])]),N((d(),v("div",{"element-loading-svg":je,"element-loading-svg-view-box":"-10, -10, 50, 50"},[N(n(D,{description:`${u.value} 产品不存在`},null,8,["description"]),[[Q,f.value.slice(t.value.pageSize*(t.value.current-1),t.value.pageSize*t.value.current).filter(s=>s.name.toLowerCase().includes(u.value.toLowerCase())).length===0]]),t.value.total>0?(d(),v(R,{key:0},[n(F,{gutter:16},{default:i(()=>[(d(!0),v(R,null,X(f.value.slice(t.value.pageSize*(t.value.current-1),t.value.pageSize*t.value.current).filter(s=>s.name.toLowerCase().includes(u.value.toLowerCase())),(s,O)=>(d(),C(A,{key:O,xs:24,sm:12,md:8,lg:6,xl:4},{default:i(()=>[n(Ae,{product:s,onDeleteItem:$,onManageProduct:z},null,8,["product"])]),_:2},1024))),128))]),_:1}),n(S,{currentPage:t.value.current,"onUpdate:currentPage":a[2]||(a[2]=s=>t.value.current=s),class:"float-right","page-size":t.value.pageSize,total:t.value.total,"page-sizes":[12,24,36],background:!0,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:m,onCurrentChange:k},null,8,["currentPage","page-size","total"])],64)):M("",!0)])),[[U,g.value]]),n(Fe,{visible:c.value,"onUpdate:visible":a[3]||(a[3]=s=>c.value=s),data:h.value},null,8,["visible","data"])])}}});export{Ee as default};
