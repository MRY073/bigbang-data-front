var Dm=Object.defineProperty,$m=Object.defineProperties;var Lm=Object.getOwnPropertyDescriptors;var kn=Object.getOwnPropertySymbols;var lc=Object.prototype.hasOwnProperty,cc=Object.prototype.propertyIsEnumerable;var Ot=Math.pow,uc=(e,t,n)=>t in e?Dm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H=(e,t)=>{for(var n in t||(t={}))lc.call(t,n)&&uc(e,n,t[n]);if(kn)for(var n of kn(t))cc.call(t,n)&&uc(e,n,t[n]);return e},ge=(e,t)=>$m(e,Lm(t));var Dt=(e,t)=>{var n={};for(var r in e)lc.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kn)for(var r of kn(e))t.indexOf(r)<0&&cc.call(e,r)&&(n[r]=e[r]);return n};var Ve=(e,t,n)=>new Promise((r,i)=>{var o=u=>{try{s(n.next(u))}catch(l){i(l)}},a=u=>{try{s(n.throw(u))}catch(l){i(l)}},s=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,a);s((n=n.apply(e,t)).next())});import{d as Ee,k as ve,i as Re,e as se,g as Se,c as On,V as Bm,gC as Sg,gF as Xt,kn as xg,n as _e,p as de,P as $e,s as ke,u as ee,v as Gt,R as he,a as ye,jb as zm,b as Be,a8 as Cg,F as Ke,N as me,T as Fm,ko as Gm,m as bt,gs as Vm,o as Hm,f as Ce,w as ut,a2 as Wt,r as Um,gD as Un,X as jm,j as Ng,t as Jn,a1 as Ym,l as Rl,x as Le,y as Ig,kp as Km,M as Qn,fO as Al,gz as Xm,kq as Wm,gG as Vt,h as qg,L as we,a5 as jn,kr as Zm,_ as Ml,ks as Jm,kt as Qm}from"./index-CrpkX2s8.js";import{c as Pl}from"./_commonjs-dynamic-modules-TDtrdbi3.js";const e_={key:0,viewBox:"0 0 24 24",height:"24",xmlns:"http://www.w3.org/2000/svg"},t_={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24"},n_={key:2,viewBox:"0 0 24 24",height:"24",xmlns:"http://www.w3.org/2000/svg"},r_={key:3,viewBox:"0 0 24 24",height:"24",xmlns:"http://www.w3.org/2000/svg"},i_={key:4,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24"},rn=Ee({__name:"icon",props:{name:{type:String,required:!0}},setup(e){return(t,n)=>e.name==="play"?(se(),ve("svg",e_,[...n[0]||(n[0]=[Se("path",{d:"M8 5v14l11-7z",fill:"currentColor"},null,-1)])])):e.name==="stop"?(se(),ve("svg",t_,[...n[1]||(n[1]=[Se("path",{fill:"currentColor",d:"M8 16h8V8H8zm4 6q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22"},null,-1)])])):e.name==="horizontal"?(se(),ve("svg",n_,[...n[2]||(n[2]=[Se("path",{d:"M2,12 L22,12",stroke:"currentColor","stroke-width":"2"},null,-1),Se("path",{d:"M7,7 L2,12 L7,17",stroke:"currentColor","stroke-width":"2",fill:"none"},null,-1),Se("path",{d:"M17,7 L22,12 L17,17",stroke:"currentColor","stroke-width":"2",fill:"none"},null,-1)])])):e.name==="vertical"?(se(),ve("svg",r_,[...n[3]||(n[3]=[Se("path",{d:"M12,2 L12,22",stroke:"currentColor","stroke-width":"2"},null,-1),Se("path",{d:"M7,7 L12,2 L17,7",stroke:"currentColor","stroke-width":"2",fill:"none"},null,-1),Se("path",{d:"M7,17 L12,22 L17,17",stroke:"currentColor","stroke-width":"2",fill:"none"},null,-1)])])):e.name==="shuffle"?(se(),ve("svg",i_,[...n[4]||(n[4]=[Se("path",{fill:"currentColor",d:"M14 20v-2h2.6l-3.175-3.175L14.85 13.4L18 16.55V14h2v6zm-8.6 0L4 18.6L16.6 6H14V4h6v6h-2V7.4zm3.775-9.425L4 5.4L5.4 4l5.175 5.175z"},null,-1)])])):Re("",!0)}});var zr,dc;function o_(){if(dc)return zr;dc=1;function e(){this.__data__=[],this.size=0}return zr=e,zr}var Fr,fc;function Zt(){if(fc)return Fr;fc=1;function e(t,n){return t===n||t!==t&&n!==n}return Fr=e,Fr}var Gr,hc;function fr(){if(hc)return Gr;hc=1;var e=Zt();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Gr=t,Gr}var Vr,vc;function a_(){if(vc)return Vr;vc=1;var e=fr(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,a=e(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return Vr=r,Vr}var Hr,pc;function s_(){if(pc)return Hr;pc=1;var e=fr();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Hr=t,Hr}var Ur,gc;function u_(){if(gc)return Ur;gc=1;var e=fr();function t(n){return e(this.__data__,n)>-1}return Ur=t,Ur}var jr,yc;function l_(){if(yc)return jr;yc=1;var e=fr();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return jr=t,jr}var Yr,mc;function hr(){if(mc)return Yr;mc=1;var e=o_(),t=a_(),n=s_(),r=u_(),i=l_();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var l=a[s];this.set(l[0],l[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Yr=o,Yr}var Kr,_c;function c_(){if(_c)return Kr;_c=1;var e=hr();function t(){this.__data__=new e,this.size=0}return Kr=t,Kr}var Xr,bc;function d_(){if(bc)return Xr;bc=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Xr=e,Xr}var Wr,wc;function f_(){if(wc)return Wr;wc=1;function e(t){return this.__data__.get(t)}return Wr=e,Wr}var Zr,Ec;function h_(){if(Ec)return Zr;Ec=1;function e(t){return this.__data__.has(t)}return Zr=e,Zr}var Jr,Sc;function Tg(){if(Sc)return Jr;Sc=1;var e=typeof On=="object"&&On&&On.Object===Object&&On;return Jr=e,Jr}var Qr,xc;function We(){if(xc)return Qr;xc=1;var e=Tg(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Qr=n,Qr}var ei,Cc;function Jt(){if(Cc)return ei;Cc=1;var e=We(),t=e.Symbol;return ei=t,ei}var ti,Nc;function v_(){if(Nc)return ti;Nc=1;var e=Jt(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=n.call(a,i),u=a[i];try{a[i]=void 0;var l=!0}catch(d){}var c=r.call(a);return l&&(s?a[i]=u:delete a[i]),c}return ti=o,ti}var ni,Ic;function p_(){if(Ic)return ni;Ic=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return ni=n,ni}var ri,qc;function At(){if(qc)return ri;qc=1;var e=Jt(),t=v_(),n=p_(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?t(s):n(s)}return ri=a,ri}var ii,Tc;function ze(){if(Tc)return ii;Tc=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return ii=e,ii}var oi,Rc;function xn(){if(Rc)return oi;Rc=1;var e=At(),t=ze(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!t(s))return!1;var u=e(s);return u==r||u==i||u==n||u==o}return oi=a,oi}var ai,Ac;function g_(){if(Ac)return ai;Ac=1;var e=We(),t=e["__core-js_shared__"];return ai=t,ai}var si,Mc;function y_(){if(Mc)return si;Mc=1;var e=g_(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return si=n,si}var ui,Pc;function Rg(){if(Pc)return ui;Pc=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch(i){}try{return r+""}catch(i){}}return""}return ui=n,ui}var li,kc;function m_(){if(kc)return li;kc=1;var e=xn(),t=y_(),n=ze(),r=Rg(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,u=a.toString,l=s.hasOwnProperty,c=RegExp("^"+u.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var h=e(f)?c:o;return h.test(r(f))}return li=d,li}var ci,Oc;function __(){if(Oc)return ci;Oc=1;function e(t,n){return t==null?void 0:t[n]}return ci=e,ci}var di,Dc;function Mt(){if(Dc)return di;Dc=1;var e=m_(),t=__();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return di=n,di}var fi,$c;function kl(){if($c)return fi;$c=1;var e=Mt(),t=We(),n=e(t,"Map");return fi=n,fi}var hi,Lc;function vr(){if(Lc)return hi;Lc=1;var e=Mt(),t=e(Object,"create");return hi=t,hi}var vi,Bc;function b_(){if(Bc)return vi;Bc=1;var e=vr();function t(){this.__data__=e?e(null):{},this.size=0}return vi=t,vi}var pi,zc;function w_(){if(zc)return pi;zc=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return pi=e,pi}var gi,Fc;function E_(){if(Fc)return gi;Fc=1;var e=vr(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(e){var s=a[o];return s===t?void 0:s}return r.call(a,o)?a[o]:void 0}return gi=i,gi}var yi,Gc;function S_(){if(Gc)return yi;Gc=1;var e=vr(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return yi=r,yi}var mi,Vc;function x_(){if(Vc)return mi;Vc=1;var e=vr(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return mi=n,mi}var _i,Hc;function C_(){if(Hc)return _i;Hc=1;var e=b_(),t=w_(),n=E_(),r=S_(),i=x_();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var l=a[s];this.set(l[0],l[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,_i=o,_i}var bi,Uc;function N_(){if(Uc)return bi;Uc=1;var e=C_(),t=hr(),n=kl();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return bi=r,bi}var wi,jc;function I_(){if(jc)return wi;jc=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return wi=e,wi}var Ei,Yc;function pr(){if(Yc)return Ei;Yc=1;var e=I_();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Ei=t,Ei}var Si,Kc;function q_(){if(Kc)return Si;Kc=1;var e=pr();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Si=t,Si}var xi,Xc;function T_(){if(Xc)return xi;Xc=1;var e=pr();function t(n){return e(this,n).get(n)}return xi=t,xi}var Ci,Wc;function R_(){if(Wc)return Ci;Wc=1;var e=pr();function t(n){return e(this,n).has(n)}return Ci=t,Ci}var Ni,Zc;function A_(){if(Zc)return Ni;Zc=1;var e=pr();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Ni=t,Ni}var Ii,Jc;function Ol(){if(Jc)return Ii;Jc=1;var e=N_(),t=q_(),n=T_(),r=R_(),i=A_();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var l=a[s];this.set(l[0],l[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Ii=o,Ii}var qi,Qc;function M_(){if(Qc)return qi;Qc=1;var e=hr(),t=kl(),n=Ol(),r=200;function i(o,a){var s=this.__data__;if(s instanceof e){var u=s.__data__;if(!t||u.length<r-1)return u.push([o,a]),this.size=++s.size,this;s=this.__data__=new n(u)}return s.set(o,a),this.size=s.size,this}return qi=i,qi}var Ti,ed;function gr(){if(ed)return Ti;ed=1;var e=hr(),t=c_(),n=d_(),r=f_(),i=h_(),o=M_();function a(s){var u=this.__data__=new e(s);this.size=u.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,Ti=a,Ti}var Ri,td;function Dl(){if(td)return Ri;td=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return Ri=e,Ri}var Ai,nd;function Ag(){if(nd)return Ai;nd=1;var e=Mt(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch(r){}})();return Ai=t,Ai}var Mi,rd;function yr(){if(rd)return Mi;rd=1;var e=Ag();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Mi=t,Mi}var Pi,id;function mr(){if(id)return Pi;id=1;var e=yr(),t=Zt(),n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s){var u=o[a];(!(r.call(o,a)&&t(u,s))||s===void 0&&!(a in o))&&e(o,a,s)}return Pi=i,Pi}var ki,od;function Cn(){if(od)return ki;od=1;var e=mr(),t=yr();function n(r,i,o,a){var s=!o;o||(o={});for(var u=-1,l=i.length;++u<l;){var c=i[u],d=a?a(o[c],r[c],c,o,r):void 0;d===void 0&&(d=r[c]),s?t(o,c,d):e(o,c,d)}return o}return ki=n,ki}var Oi,ad;function P_(){if(ad)return Oi;ad=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return Oi=e,Oi}var Di,sd;function rt(){if(sd)return Di;sd=1;function e(t){return t!=null&&typeof t=="object"}return Di=e,Di}var $i,ud;function k_(){if(ud)return $i;ud=1;var e=At(),t=rt(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return $i=r,$i}var Li,ld;function Nn(){if(ld)return Li;ld=1;var e=k_(),t=rt(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return Li=o,Li}var Bi,cd;function qe(){if(cd)return Bi;cd=1;var e=Array.isArray;return Bi=e,Bi}var sn={exports:{}},zi,dd;function O_(){if(dd)return zi;dd=1;function e(){return!1}return zi=e,zi}sn.exports;var fd;function Qt(){return fd||(fd=1,(function(e,t){var n=We(),r=O_(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||r;e.exports=l})(sn,sn.exports)),sn.exports}var Fi,hd;function _r(){if(hd)return Fi;hd=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i==null?e:i,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return Fi=n,Fi}var Gi,vd;function $l(){if(vd)return Gi;vd=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Gi=t,Gi}var Vi,pd;function D_(){if(pd)return Vi;pd=1;var e=At(),t=$l(),n=rt(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",u="[object Function]",l="[object Map]",c="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",_="[object String]",v="[object WeakMap]",p="[object ArrayBuffer]",y="[object DataView]",m="[object Float32Array]",g="[object Float64Array]",b="[object Int8Array]",E="[object Int16Array]",I="[object Int32Array]",q="[object Uint8Array]",k="[object Uint8ClampedArray]",$="[object Uint16Array]",O="[object Uint32Array]",M={};M[m]=M[g]=M[b]=M[E]=M[I]=M[q]=M[k]=M[$]=M[O]=!0,M[r]=M[i]=M[p]=M[o]=M[y]=M[a]=M[s]=M[u]=M[l]=M[c]=M[d]=M[f]=M[h]=M[_]=M[v]=!1;function x(G){return n(G)&&t(G.length)&&!!M[e(G)]}return Vi=x,Vi}var Hi,gd;function br(){if(gd)return Hi;gd=1;function e(t){return function(n){return t(n)}}return Hi=e,Hi}var un={exports:{}};un.exports;var yd;function Ll(){return yd||(yd=1,(function(e,t){var n=Tg(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=(function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch(l){}})();e.exports=s})(un,un.exports)),un.exports}var Ui,md;function In(){if(md)return Ui;md=1;var e=D_(),t=br(),n=Ll(),r=n&&n.isTypedArray,i=r?t(r):e;return Ui=i,Ui}var ji,_d;function Mg(){if(_d)return ji;_d=1;var e=P_(),t=Nn(),n=qe(),r=Qt(),i=_r(),o=In(),a=Object.prototype,s=a.hasOwnProperty;function u(l,c){var d=n(l),f=!d&&t(l),h=!d&&!f&&r(l),_=!d&&!f&&!h&&o(l),v=d||f||h||_,p=v?e(l.length,String):[],y=p.length;for(var m in l)(c||s.call(l,m))&&!(v&&(m=="length"||h&&(m=="offset"||m=="parent")||_&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||i(m,y)))&&p.push(m);return p}return ji=u,ji}var Yi,bd;function wr(){if(bd)return Yi;bd=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return Yi=t,Yi}var Ki,wd;function Pg(){if(wd)return Ki;wd=1;function e(t,n){return function(r){return t(n(r))}}return Ki=e,Ki}var Xi,Ed;function $_(){if(Ed)return Xi;Ed=1;var e=Pg(),t=e(Object.keys,Object);return Xi=t,Xi}var Wi,Sd;function Bl(){if(Sd)return Wi;Sd=1;var e=wr(),t=$_(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return Wi=i,Wi}var Zi,xd;function ft(){if(xd)return Zi;xd=1;var e=xn(),t=$l();function n(r){return r!=null&&t(r.length)&&!e(r)}return Zi=n,Zi}var Ji,Cd;function wt(){if(Cd)return Ji;Cd=1;var e=Mg(),t=Bl(),n=ft();function r(i){return n(i)?e(i):t(i)}return Ji=r,Ji}var Qi,Nd;function L_(){if(Nd)return Qi;Nd=1;var e=Cn(),t=wt();function n(r,i){return r&&e(i,t(i),r)}return Qi=n,Qi}var eo,Id;function B_(){if(Id)return eo;Id=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return eo=e,eo}var to,qd;function z_(){if(qd)return to;qd=1;var e=ze(),t=wr(),n=B_(),r=Object.prototype,i=r.hasOwnProperty;function o(a){if(!e(a))return n(a);var s=t(a),u=[];for(var l in a)l=="constructor"&&(s||!i.call(a,l))||u.push(l);return u}return to=o,to}var no,Td;function Pt(){if(Td)return no;Td=1;var e=Mg(),t=z_(),n=ft();function r(i){return n(i)?e(i,!0):t(i)}return no=r,no}var ro,Rd;function F_(){if(Rd)return ro;Rd=1;var e=Cn(),t=Pt();function n(r,i){return r&&e(i,t(i),r)}return ro=n,ro}var ln={exports:{}};ln.exports;var Ad;function kg(){return Ad||(Ad=1,(function(e,t){var n=We(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var d=l.length,f=s?s(d):new l.constructor(d);return l.copy(f),f}e.exports=u})(ln,ln.exports)),ln.exports}var io,Md;function Og(){if(Md)return io;Md=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return io=e,io}var oo,Pd;function Dg(){if(Pd)return oo;Pd=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}return oo=e,oo}var ao,kd;function $g(){if(kd)return ao;kd=1;function e(){return[]}return ao=e,ao}var so,Od;function zl(){if(Od)return so;Od=1;var e=Dg(),t=$g(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return r.call(a,s)}))}:t;return so=o,so}var uo,Dd;function G_(){if(Dd)return uo;Dd=1;var e=Cn(),t=zl();function n(r,i){return e(r,t(r),i)}return uo=n,uo}var lo,$d;function Fl(){if($d)return lo;$d=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return lo=e,lo}var co,Ld;function Er(){if(Ld)return co;Ld=1;var e=Pg(),t=e(Object.getPrototypeOf,Object);return co=t,co}var fo,Bd;function Lg(){if(Bd)return fo;Bd=1;var e=Fl(),t=Er(),n=zl(),r=$g(),i=Object.getOwnPropertySymbols,o=i?function(a){for(var s=[];a;)e(s,n(a)),a=t(a);return s}:r;return fo=o,fo}var ho,zd;function V_(){if(zd)return ho;zd=1;var e=Cn(),t=Lg();function n(r,i){return e(r,t(r),i)}return ho=n,ho}var vo,Fd;function Bg(){if(Fd)return vo;Fd=1;var e=Fl(),t=qe();function n(r,i,o){var a=i(r);return t(r)?a:e(a,o(r))}return vo=n,vo}var po,Gd;function zg(){if(Gd)return po;Gd=1;var e=Bg(),t=zl(),n=wt();function r(i){return e(i,n,t)}return po=r,po}var go,Vd;function H_(){if(Vd)return go;Vd=1;var e=Bg(),t=Lg(),n=Pt();function r(i){return e(i,n,t)}return go=r,go}var yo,Hd;function U_(){if(Hd)return yo;Hd=1;var e=Mt(),t=We(),n=e(t,"DataView");return yo=n,yo}var mo,Ud;function j_(){if(Ud)return mo;Ud=1;var e=Mt(),t=We(),n=e(t,"Promise");return mo=n,mo}var _o,jd;function Fg(){if(jd)return _o;jd=1;var e=Mt(),t=We(),n=e(t,"Set");return _o=n,_o}var bo,Yd;function Y_(){if(Yd)return bo;Yd=1;var e=Mt(),t=We(),n=e(t,"WeakMap");return bo=n,bo}var wo,Kd;function en(){if(Kd)return wo;Kd=1;var e=U_(),t=kl(),n=j_(),r=Fg(),i=Y_(),o=At(),a=Rg(),s="[object Map]",u="[object Object]",l="[object Promise]",c="[object Set]",d="[object WeakMap]",f="[object DataView]",h=a(e),_=a(t),v=a(n),p=a(r),y=a(i),m=o;return(e&&m(new e(new ArrayBuffer(1)))!=f||t&&m(new t)!=s||n&&m(n.resolve())!=l||r&&m(new r)!=c||i&&m(new i)!=d)&&(m=function(g){var b=o(g),E=b==u?g.constructor:void 0,I=E?a(E):"";if(I)switch(I){case h:return f;case _:return s;case v:return l;case p:return c;case y:return d}return b}),wo=m,wo}var Eo,Xd;function K_(){if(Xd)return Eo;Xd=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Eo=n,Eo}var So,Wd;function Gg(){if(Wd)return So;Wd=1;var e=We(),t=e.Uint8Array;return So=t,So}var xo,Zd;function Gl(){if(Zd)return xo;Zd=1;var e=Gg();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return xo=t,xo}var Co,Jd;function X_(){if(Jd)return Co;Jd=1;var e=Gl();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Co=t,Co}var No,Qd;function W_(){if(Qd)return No;Qd=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return No=t,No}var Io,ef;function Z_(){if(ef)return Io;ef=1;var e=Jt(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Io=r,Io}var qo,tf;function Vg(){if(tf)return qo;tf=1;var e=Gl();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return qo=t,qo}var To,nf;function J_(){if(nf)return To;nf=1;var e=Gl(),t=X_(),n=W_(),r=Z_(),i=Vg(),o="[object Boolean]",a="[object Date]",s="[object Map]",u="[object Number]",l="[object RegExp]",c="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",_="[object DataView]",v="[object Float32Array]",p="[object Float64Array]",y="[object Int8Array]",m="[object Int16Array]",g="[object Int32Array]",b="[object Uint8Array]",E="[object Uint8ClampedArray]",I="[object Uint16Array]",q="[object Uint32Array]";function k($,O,M){var x=$.constructor;switch(O){case h:return e($);case o:case a:return new x(+$);case _:return t($,M);case v:case p:case y:case m:case g:case b:case E:case I:case q:return i($,M);case s:return new x;case u:case d:return new x($);case l:return n($);case c:return new x;case f:return r($)}}return To=k,To}var Ro,rf;function Hg(){if(rf)return Ro;rf=1;var e=ze(),t=Object.create,n=(function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}})();return Ro=n,Ro}var Ao,of;function Ug(){if(of)return Ao;of=1;var e=Hg(),t=Er(),n=wr();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return Ao=r,Ao}var Mo,af;function Q_(){if(af)return Mo;af=1;var e=en(),t=rt(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return Mo=r,Mo}var Po,sf;function eb(){if(sf)return Po;sf=1;var e=Q_(),t=br(),n=Ll(),r=n&&n.isMap,i=r?t(r):e;return Po=i,Po}var ko,uf;function tb(){if(uf)return ko;uf=1;var e=en(),t=rt(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return ko=r,ko}var Oo,lf;function nb(){if(lf)return Oo;lf=1;var e=tb(),t=br(),n=Ll(),r=n&&n.isSet,i=r?t(r):e;return Oo=i,Oo}var Do,cf;function jg(){if(cf)return Do;cf=1;var e=gr(),t=Dl(),n=mr(),r=L_(),i=F_(),o=kg(),a=Og(),s=G_(),u=V_(),l=zg(),c=H_(),d=en(),f=K_(),h=J_(),_=Ug(),v=qe(),p=Qt(),y=eb(),m=ze(),g=nb(),b=wt(),E=Pt(),I=1,q=2,k=4,$="[object Arguments]",O="[object Array]",M="[object Boolean]",x="[object Date]",G="[object Error]",N="[object Function]",L="[object GeneratorFunction]",A="[object Map]",V="[object Number]",U="[object Object]",X="[object RegExp]",j="[object Set]",J="[object String]",ie="[object Symbol]",le="[object WeakMap]",R="[object ArrayBuffer]",P="[object DataView]",D="[object Float32Array]",F="[object Float64Array]",Y="[object Int8Array]",re="[object Int16Array]",oe="[object Int32Array]",fe="[object Uint8Array]",ce="[object Uint8ClampedArray]",ue="[object Uint16Array]",S="[object Uint32Array]",w={};w[$]=w[O]=w[R]=w[P]=w[M]=w[x]=w[D]=w[F]=w[Y]=w[re]=w[oe]=w[A]=w[V]=w[U]=w[X]=w[j]=w[J]=w[ie]=w[fe]=w[ce]=w[ue]=w[S]=!0,w[G]=w[N]=w[le]=!1;function C(T,z,K,B,W,Q){var ne,ae=z&I,pe=z&q,Ge=z&k;if(K&&(ne=W?K(T,B,W,Q):K(T)),ne!==void 0)return ne;if(!m(T))return T;var De=v(T);if(De){if(ne=f(T),!ae)return a(T,ne)}else{var Ae=d(T),ot=Ae==N||Ae==L;if(p(T))return o(T,ae);if(Ae==U||Ae==$||ot&&!W){if(ne=pe||ot?{}:_(T),!ae)return pe?u(T,i(ne,T)):s(T,r(ne,T))}else{if(!w[Ae])return W?T:{};ne=h(T,Ae,ae)}}Q||(Q=new e);var Mn=Q.get(T);if(Mn)return Mn;Q.set(T,ne),g(T)?T.forEach(function(vt){ne.add(C(vt,z,K,vt,T,Q))}):y(T)&&T.forEach(function(vt,Et){ne.set(Et,C(vt,z,K,Et,T,Q))});var Br=Ge?pe?c:l:pe?E:b,Pn=De?void 0:Br(T);return t(Pn||T,function(vt,Et){Pn&&(Et=vt,vt=T[Et]),n(ne,Et,C(vt,z,K,Et,T,Q))}),ne}return Do=C,Do}var $o,df;function rb(){if(df)return $o;df=1;var e=jg(),t=4;function n(r){return e(r,t)}return $o=n,$o}var Lo,ff;function Vl(){if(ff)return Lo;ff=1;function e(t){return function(){return t}}return Lo=e,Lo}var Bo,hf;function ib(){if(hf)return Bo;hf=1;function e(t){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),u=s.length;u--;){var l=s[t?u:++o];if(r(a[l],l,a)===!1)break}return n}}return Bo=e,Bo}var zo,vf;function Hl(){if(vf)return zo;vf=1;var e=ib(),t=e();return zo=t,zo}var Fo,pf;function Ul(){if(pf)return Fo;pf=1;var e=Hl(),t=wt();function n(r,i){return r&&e(r,i,t)}return Fo=n,Fo}var Go,gf;function ob(){if(gf)return Go;gf=1;var e=ft();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var a=i.length,s=r?a:-1,u=Object(i);(r?s--:++s<a)&&o(u[s],s,u)!==!1;);return i}}return Go=t,Go}var Vo,yf;function Sr(){if(yf)return Vo;yf=1;var e=Ul(),t=ob(),n=t(e);return Vo=n,Vo}var Ho,mf;function kt(){if(mf)return Ho;mf=1;function e(t){return t}return Ho=e,Ho}var Uo,_f;function Yg(){if(_f)return Uo;_f=1;var e=kt();function t(n){return typeof n=="function"?n:e}return Uo=t,Uo}var jo,bf;function Kg(){if(bf)return jo;bf=1;var e=Dl(),t=Sr(),n=Yg(),r=qe();function i(o,a){var s=r(o)?e:t;return s(o,n(a))}return jo=i,jo}var Yo,wf;function Xg(){return wf||(wf=1,Yo=Kg()),Yo}var Ko,Ef;function ab(){if(Ef)return Ko;Ef=1;var e=Sr();function t(n,r){var i=[];return e(n,function(o,a,s){r(o,a,s)&&i.push(o)}),i}return Ko=t,Ko}var Xo,Sf;function sb(){if(Sf)return Xo;Sf=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Xo=t,Xo}var Wo,xf;function ub(){if(xf)return Wo;xf=1;function e(t){return this.__data__.has(t)}return Wo=e,Wo}var Zo,Cf;function Wg(){if(Cf)return Zo;Cf=1;var e=Ol(),t=sb(),n=ub();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Zo=r,Zo}var Jo,Nf;function lb(){if(Nf)return Jo;Nf=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return Jo=e,Jo}var Qo,If;function Zg(){if(If)return Qo;If=1;function e(t,n){return t.has(n)}return Qo=e,Qo}var ea,qf;function Jg(){if(qf)return ea;qf=1;var e=Wg(),t=lb(),n=Zg(),r=1,i=2;function o(a,s,u,l,c,d){var f=u&r,h=a.length,_=s.length;if(h!=_&&!(f&&_>h))return!1;var v=d.get(a),p=d.get(s);if(v&&p)return v==s&&p==a;var y=-1,m=!0,g=u&i?new e:void 0;for(d.set(a,s),d.set(s,a);++y<h;){var b=a[y],E=s[y];if(l)var I=f?l(E,b,y,s,a,d):l(b,E,y,a,s,d);if(I!==void 0){if(I)continue;m=!1;break}if(g){if(!t(s,function(q,k){if(!n(g,k)&&(b===q||c(b,q,u,l,d)))return g.push(k)})){m=!1;break}}else if(!(b===E||c(b,E,u,l,d))){m=!1;break}}return d.delete(a),d.delete(s),m}return ea=o,ea}var ta,Tf;function cb(){if(Tf)return ta;Tf=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return ta=e,ta}var na,Rf;function jl(){if(Rf)return na;Rf=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return na=e,na}var ra,Af;function db(){if(Af)return ra;Af=1;var e=Jt(),t=Gg(),n=Zt(),r=Jg(),i=cb(),o=jl(),a=1,s=2,u="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",_="[object Set]",v="[object String]",p="[object Symbol]",y="[object ArrayBuffer]",m="[object DataView]",g=e?e.prototype:void 0,b=g?g.valueOf:void 0;function E(I,q,k,$,O,M,x){switch(k){case m:if(I.byteLength!=q.byteLength||I.byteOffset!=q.byteOffset)return!1;I=I.buffer,q=q.buffer;case y:return!(I.byteLength!=q.byteLength||!M(new t(I),new t(q)));case u:case l:case f:return n(+I,+q);case c:return I.name==q.name&&I.message==q.message;case h:case v:return I==q+"";case d:var G=i;case _:var N=$&a;if(G||(G=o),I.size!=q.size&&!N)return!1;var L=x.get(I);if(L)return L==q;$|=s,x.set(I,q);var A=r(G(I),G(q),$,O,M,x);return x.delete(I),A;case p:if(b)return b.call(I)==b.call(q)}return!1}return ra=E,ra}var ia,Mf;function fb(){if(Mf)return ia;Mf=1;var e=zg(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,u,l,c){var d=s&t,f=e(o),h=f.length,_=e(a),v=_.length;if(h!=v&&!d)return!1;for(var p=h;p--;){var y=f[p];if(!(d?y in a:r.call(a,y)))return!1}var m=c.get(o),g=c.get(a);if(m&&g)return m==a&&g==o;var b=!0;c.set(o,a),c.set(a,o);for(var E=d;++p<h;){y=f[p];var I=o[y],q=a[y];if(u)var k=d?u(q,I,y,a,o,c):u(I,q,y,o,a,c);if(!(k===void 0?I===q||l(I,q,s,u,c):k)){b=!1;break}E||(E=y=="constructor")}if(b&&!E){var $=o.constructor,O=a.constructor;$!=O&&"constructor"in o&&"constructor"in a&&!(typeof $=="function"&&$ instanceof $&&typeof O=="function"&&O instanceof O)&&(b=!1)}return c.delete(o),c.delete(a),b}return ia=i,ia}var oa,Pf;function hb(){if(Pf)return oa;Pf=1;var e=gr(),t=Jg(),n=db(),r=fb(),i=en(),o=qe(),a=Qt(),s=In(),u=1,l="[object Arguments]",c="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function _(v,p,y,m,g,b){var E=o(v),I=o(p),q=E?c:i(v),k=I?c:i(p);q=q==l?d:q,k=k==l?d:k;var $=q==d,O=k==d,M=q==k;if(M&&a(v)){if(!a(p))return!1;E=!0,$=!1}if(M&&!$)return b||(b=new e),E||s(v)?t(v,p,y,m,g,b):n(v,p,q,y,m,g,b);if(!(y&u)){var x=$&&h.call(v,"__wrapped__"),G=O&&h.call(p,"__wrapped__");if(x||G){var N=x?v.value():v,L=G?p.value():p;return b||(b=new e),g(N,L,y,m,b)}}return M?(b||(b=new e),r(v,p,y,m,g,b)):!1}return oa=_,oa}var aa,kf;function Qg(){if(kf)return aa;kf=1;var e=hb(),t=rt();function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,a,n,s)}return aa=n,aa}var sa,Of;function vb(){if(Of)return sa;Of=1;var e=gr(),t=Qg(),n=1,r=2;function i(o,a,s,u){var l=s.length,c=l,d=!u;if(o==null)return!c;for(o=Object(o);l--;){var f=s[l];if(d&&f[2]?f[1]!==o[f[0]]:!(f[0]in o))return!1}for(;++l<c;){f=s[l];var h=f[0],_=o[h],v=f[1];if(d&&f[2]){if(_===void 0&&!(h in o))return!1}else{var p=new e;if(u)var y=u(_,v,h,o,a,p);if(!(y===void 0?t(v,_,n|r,u,p):y))return!1}}return!0}return sa=i,sa}var ua,Df;function ey(){if(Df)return ua;Df=1;var e=ze();function t(n){return n===n&&!e(n)}return ua=t,ua}var la,$f;function pb(){if($f)return la;$f=1;var e=ey(),t=wt();function n(r){for(var i=t(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return la=n,la}var ca,Lf;function ty(){if(Lf)return ca;Lf=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return ca=e,ca}var da,Bf;function gb(){if(Bf)return da;Bf=1;var e=vb(),t=pb(),n=ty();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return da=r,da}var fa,zf;function tn(){if(zf)return fa;zf=1;var e=At(),t=rt(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return fa=r,fa}var ha,Ff;function Yl(){if(Ff)return ha;Ff=1;var e=qe(),t=tn(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return ha=i,ha}var va,Gf;function yb(){if(Gf)return va;Gf=1;var e=Ol(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],u=o.cache;if(u.has(s))return u.get(s);var l=r.apply(this,a);return o.cache=u.set(s,l)||u,l};return o.cache=new(n.Cache||e),o}return n.Cache=e,va=n,va}var pa,Vf;function mb(){if(Vf)return pa;Vf=1;var e=yb(),t=500;function n(r){var i=e(r,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return pa=n,pa}var ga,Hf;function _b(){if(Hf)return ga;Hf=1;var e=mb(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,u,l){o.push(u?l.replace(n,"$1"):s||a)}),o});return ga=r,ga}var ya,Uf;function xr(){if(Uf)return ya;Uf=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return ya=e,ya}var ma,jf;function bb(){if(jf)return ma;jf=1;var e=Jt(),t=xr(),n=qe(),r=tn(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(n(s))return t(s,a)+"";if(r(s))return o?o.call(s):"";var u=s+"";return u=="0"&&1/s==-1/0?"-0":u}return ma=a,ma}var _a,Yf;function ny(){if(Yf)return _a;Yf=1;var e=bb();function t(n){return n==null?"":e(n)}return _a=t,_a}var ba,Kf;function Cr(){if(Kf)return ba;Kf=1;var e=qe(),t=Yl(),n=_b(),r=ny();function i(o,a){return e(o)?o:t(o,a)?[o]:n(r(o))}return ba=i,ba}var wa,Xf;function qn(){if(Xf)return wa;Xf=1;var e=tn();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return wa=t,wa}var Ea,Wf;function Nr(){if(Wf)return Ea;Wf=1;var e=Cr(),t=qn();function n(r,i){i=e(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[t(i[o++])];return o&&o==a?r:void 0}return Ea=n,Ea}var Sa,Zf;function wb(){if(Zf)return Sa;Zf=1;var e=Nr();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return Sa=t,Sa}var xa,Jf;function Eb(){if(Jf)return xa;Jf=1;function e(t,n){return t!=null&&n in Object(t)}return xa=e,xa}var Ca,Qf;function ry(){if(Qf)return Ca;Qf=1;var e=Cr(),t=Nn(),n=qe(),r=_r(),i=$l(),o=qn();function a(s,u,l){u=e(u,s);for(var c=-1,d=u.length,f=!1;++c<d;){var h=o(u[c]);if(!(f=s!=null&&l(s,h)))break;s=s[h]}return f||++c!=d?f:(d=s==null?0:s.length,!!d&&i(d)&&r(h,d)&&(n(s)||t(s)))}return Ca=a,Ca}var Na,eh;function iy(){if(eh)return Na;eh=1;var e=Eb(),t=ry();function n(r,i){return r!=null&&t(r,i,e)}return Na=n,Na}var Ia,th;function Sb(){if(th)return Ia;th=1;var e=Qg(),t=wb(),n=iy(),r=Yl(),i=ey(),o=ty(),a=qn(),s=1,u=2;function l(c,d){return r(c)&&i(d)?o(a(c),d):function(f){var h=t(f,c);return h===void 0&&h===d?n(f,c):e(d,h,s|u)}}return Ia=l,Ia}var qa,nh;function oy(){if(nh)return qa;nh=1;function e(t){return function(n){return n==null?void 0:n[t]}}return qa=e,qa}var Ta,rh;function xb(){if(rh)return Ta;rh=1;var e=Nr();function t(n){return function(r){return e(r,n)}}return Ta=t,Ta}var Ra,ih;function Cb(){if(ih)return Ra;ih=1;var e=oy(),t=xb(),n=Yl(),r=qn();function i(o){return n(o)?e(r(o)):t(o)}return Ra=i,Ra}var Aa,oh;function ht(){if(oh)return Aa;oh=1;var e=gb(),t=Sb(),n=kt(),r=qe(),i=Cb();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return Aa=o,Aa}var Ma,ah;function ay(){if(ah)return Ma;ah=1;var e=Dg(),t=ab(),n=ht(),r=qe();function i(o,a){var s=r(o)?e:t;return s(o,n(a,3))}return Ma=i,Ma}var Pa,sh;function Nb(){if(sh)return Pa;sh=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return Pa=n,Pa}var ka,uh;function sy(){if(uh)return ka;uh=1;var e=Nb(),t=ry();function n(r,i){return r!=null&&t(r,i,e)}return ka=n,ka}var Oa,lh;function Ib(){if(lh)return Oa;lh=1;var e=Bl(),t=en(),n=Nn(),r=qe(),i=ft(),o=Qt(),a=wr(),s=In(),u="[object Map]",l="[object Set]",c=Object.prototype,d=c.hasOwnProperty;function f(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||o(h)||s(h)||n(h)))return!h.length;var _=t(h);if(_==u||_==l)return!h.size;if(a(h))return!e(h).length;for(var v in h)if(d.call(h,v))return!1;return!0}return Oa=f,Oa}var Da,ch;function uy(){if(ch)return Da;ch=1;function e(t){return t===void 0}return Da=e,Da}var $a,dh;function ly(){if(dh)return $a;dh=1;var e=Sr(),t=ft();function n(r,i){var o=-1,a=t(r)?Array(r.length):[];return e(r,function(s,u,l){a[++o]=i(s,u,l)}),a}return $a=n,$a}var La,fh;function cy(){if(fh)return La;fh=1;var e=xr(),t=ht(),n=ly(),r=qe();function i(o,a){var s=r(o)?e:n;return s(o,t(a,3))}return La=i,La}var Ba,hh;function qb(){if(hh)return Ba;hh=1;function e(t,n,r,i){var o=-1,a=t==null?0:t.length;for(i&&a&&(r=t[++o]);++o<a;)r=n(r,t[o],o,t);return r}return Ba=e,Ba}var za,vh;function Tb(){if(vh)return za;vh=1;function e(t,n,r,i,o){return o(t,function(a,s,u){r=i?(i=!1,a):n(r,a,s,u)}),r}return za=e,za}var Fa,ph;function dy(){if(ph)return Fa;ph=1;var e=qb(),t=Sr(),n=ht(),r=Tb(),i=qe();function o(a,s,u){var l=i(a)?e:r,c=arguments.length<3;return l(a,n(s,4),u,c,t)}return Fa=o,Fa}var Ga,gh;function Rb(){if(gh)return Ga;gh=1;var e=At(),t=qe(),n=rt(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return Ga=i,Ga}var Va,yh;function Ab(){if(yh)return Va;yh=1;var e=oy(),t=e("length");return Va=t,Va}var Ha,mh;function Mb(){if(mh)return Ha;mh=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+i+o+"]");function u(l){return s.test(l)}return Ha=u,Ha}var Ua,_h;function Pb(){if(_h)return Ua;_h=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="["+e+"]",s="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",l="(?:"+s+"|"+u+")",c="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",_=l+"?",v="["+o+"]?",p="(?:"+h+"(?:"+[c,d,f].join("|")+")"+v+_+")*",y=v+_+p,m="(?:"+[c+s+"?",s,d,f,a].join("|")+")",g=RegExp(u+"(?="+u+")|"+m+y,"g");function b(E){for(var I=g.lastIndex=0;g.test(E);)++I;return I}return Ua=b,Ua}var ja,bh;function kb(){if(bh)return ja;bh=1;var e=Ab(),t=Mb(),n=Pb();function r(i){return t(i)?n(i):e(i)}return ja=r,ja}var Ya,wh;function Ob(){if(wh)return Ya;wh=1;var e=Bl(),t=en(),n=ft(),r=Rb(),i=kb(),o="[object Map]",a="[object Set]";function s(u){if(u==null)return 0;if(n(u))return r(u)?i(u):u.length;var l=t(u);return l==o||l==a?u.size:e(u).length}return Ya=s,Ya}var Ka,Eh;function Db(){if(Eh)return Ka;Eh=1;var e=Dl(),t=Hg(),n=Ul(),r=ht(),i=Er(),o=qe(),a=Qt(),s=xn(),u=ze(),l=In();function c(d,f,h){var _=o(d),v=_||a(d)||l(d);if(f=r(f,4),h==null){var p=d&&d.constructor;v?h=_?new p:[]:u(d)?h=s(p)?t(i(d)):{}:h={}}return(v?e:n)(d,function(y,m,g){return f(h,y,m,g)}),h}return Ka=c,Ka}var Xa,Sh;function $b(){if(Sh)return Xa;Sh=1;var e=Jt(),t=Nn(),n=qe(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return Xa=i,Xa}var Wa,xh;function Kl(){if(xh)return Wa;xh=1;var e=Fl(),t=$b();function n(r,i,o,a,s){var u=-1,l=r.length;for(o||(o=t),s||(s=[]);++u<l;){var c=r[u];i>0&&o(c)?i>1?n(c,i-1,o,a,s):e(s,c):a||(s[s.length]=c)}return s}return Wa=n,Wa}var Za,Ch;function Lb(){if(Ch)return Za;Ch=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Za=e,Za}var Ja,Nh;function fy(){if(Nh)return Ja;Nh=1;var e=Lb(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,s=-1,u=t(a.length-i,0),l=Array(u);++s<u;)l[s]=a[i+s];s=-1;for(var c=Array(i+1);++s<i;)c[s]=a[s];return c[i]=o(l),e(r,this,c)}}return Ja=n,Ja}var Qa,Ih;function Bb(){if(Ih)return Qa;Ih=1;var e=Vl(),t=Ag(),n=kt(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return Qa=r,Qa}var es,qh;function zb(){if(qh)return es;qh=1;var e=800,t=16,n=Date.now;function r(i){var o=0,a=0;return function(){var s=n(),u=t-(s-a);if(a=s,u>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return es=r,es}var ts,Th;function hy(){if(Th)return ts;Th=1;var e=Bb(),t=zb(),n=t(e);return ts=n,ts}var ns,Rh;function Ir(){if(Rh)return ns;Rh=1;var e=kt(),t=fy(),n=hy();function r(i,o){return n(t(i,o,e),i+"")}return ns=r,ns}var rs,Ah;function vy(){if(Ah)return rs;Ah=1;function e(t,n,r,i){for(var o=t.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(t[a],a,t))return a;return-1}return rs=e,rs}var is,Mh;function Fb(){if(Mh)return is;Mh=1;function e(t){return t!==t}return is=e,is}var os,Ph;function Gb(){if(Ph)return os;Ph=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return os=e,os}var as,kh;function Vb(){if(kh)return as;kh=1;var e=vy(),t=Fb(),n=Gb();function r(i,o,a){return o===o?n(i,o,a):e(i,t,a)}return as=r,as}var ss,Oh;function Hb(){if(Oh)return ss;Oh=1;var e=Vb();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return ss=t,ss}var us,Dh;function Ub(){if(Dh)return us;Dh=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return us=e,us}var ls,$h;function jb(){if($h)return ls;$h=1;function e(){}return ls=e,ls}var cs,Lh;function Yb(){if(Lh)return cs;Lh=1;var e=Fg(),t=jb(),n=jl(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return cs=i,cs}var ds,Bh;function Kb(){if(Bh)return ds;Bh=1;var e=Wg(),t=Hb(),n=Ub(),r=Zg(),i=Yb(),o=jl(),a=200;function s(u,l,c){var d=-1,f=t,h=u.length,_=!0,v=[],p=v;if(c)_=!1,f=n;else if(h>=a){var y=l?null:i(u);if(y)return o(y);_=!1,f=r,p=new e}else p=l?[]:v;e:for(;++d<h;){var m=u[d],g=l?l(m):m;if(m=c||m!==0?m:0,_&&g===g){for(var b=p.length;b--;)if(p[b]===g)continue e;l&&p.push(g),v.push(m)}else f(p,g,c)||(p!==v&&p.push(g),v.push(m))}return v}return ds=s,ds}var fs,zh;function py(){if(zh)return fs;zh=1;var e=ft(),t=rt();function n(r){return t(r)&&e(r)}return fs=n,fs}var hs,Fh;function Xb(){if(Fh)return hs;Fh=1;var e=Kl(),t=Ir(),n=Kb(),r=py(),i=t(function(o){return n(e(o,1,r,!0))});return hs=i,hs}var vs,Gh;function Wb(){if(Gh)return vs;Gh=1;var e=xr();function t(n,r){return e(r,function(i){return n[i]})}return vs=t,vs}var ps,Vh;function gy(){if(Vh)return ps;Vh=1;var e=Wb(),t=wt();function n(r){return r==null?[]:e(r,t(r))}return ps=n,ps}var gs,Hh;function Fe(){if(Hh)return gs;Hh=1;var e;if(typeof Pl=="function")try{e={clone:rb(),constant:Vl(),each:Xg(),filter:ay(),has:sy(),isArray:qe(),isEmpty:Ib(),isFunction:xn(),isUndefined:uy(),keys:wt(),map:cy(),reduce:dy(),size:Ob(),transform:Db(),union:Xb(),values:gy()}}catch(t){}return e||(e=window._),gs=e,gs}var ys,Uh;function Xl(){if(Uh)return ys;Uh=1;var e=Fe();ys=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._in[d])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._out[d])})},i.prototype.setNodes=function(c,d){var f=arguments,h=this;return e.each(c,function(_){f.length>1?h.setNode(_,d):h.setNode(_)}),this},i.prototype.setNode=function(c,d){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var d=this;if(e.has(this._nodes,c)){var f=function(h){d.removeEdge(d._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(h){d.setParent(h)}),delete this._children[c]),e.each(e.keys(this._in[c]),f),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),f),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var f=d;!e.isUndefined(f);f=this.parent(f))if(f===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var d=this._parent[c];if(d!==n)return d}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var d=this._children[c];if(d)return e.keys(d)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var d=this._preds[c];if(d)return e.keys(d)},i.prototype.successors=function(c){var d=this._sucs[c];if(d)return e.keys(d)},i.prototype.neighbors=function(c){var d=this.predecessors(c);if(d)return e.union(d,this.successors(c))},i.prototype.isLeaf=function(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0},i.prototype.filterNodes=function(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;e.each(this._nodes,function(v,p){c(p)&&d.setNode(p,v)}),e.each(this._edgeObjs,function(v){d.hasNode(v.v)&&d.hasNode(v.w)&&d.setEdge(v,f.edge(v))});var h={};function _(v){var p=f.parent(v);return p===void 0||d.hasNode(p)?(h[v]=p,p):p in h?h[p]:_(p)}return this._isCompound&&e.each(d.nodes(),function(v){d.setParent(v,_(v))}),d},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,d){var f=this,h=arguments;return e.reduce(c,function(_,v){return h.length>1?f.setEdge(_,v,d):f.setEdge(_,v),v}),this},i.prototype.setEdge=function(){var c,d,f,h,_=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(c=v.v,d=v.w,f=v.name,arguments.length===2&&(h=arguments[1],_=!0)):(c=v,d=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],_=!0)),c=""+c,d=""+d,e.isUndefined(f)||(f=""+f);var p=s(this._isDirected,c,d,f);if(e.has(this._edgeLabels,p))return _&&(this._edgeLabels[p]=h),this;if(!e.isUndefined(f)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[p]=_?h:this._defaultEdgeLabelFn(c,d,f);var y=u(this._isDirected,c,d,f);return c=y.v,d=y.w,Object.freeze(y),this._edgeObjs[p]=y,o(this._preds[d],c),o(this._sucs[c],d),this._in[d][p]=y,this._out[c][p]=y,this._edgeCount++,this},i.prototype.edge=function(c,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,f);return this._edgeLabels[h]},i.prototype.hasEdge=function(c,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,f);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(c,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,f),_=this._edgeObjs[h];return _&&(c=_.v,d=_.w,delete this._edgeLabels[h],delete this._edgeObjs[h],a(this._preds[d],c),a(this._sucs[c],d),delete this._in[d][h],delete this._out[c][h],this._edgeCount--),this},i.prototype.inEdges=function(c,d){var f=this._in[c];if(f){var h=e.values(f);return d?e.filter(h,function(_){return _.v===d}):h}},i.prototype.outEdges=function(c,d){var f=this._out[c];if(f){var h=e.values(f);return d?e.filter(h,function(_){return _.w===d}):h}},i.prototype.nodeEdges=function(c,d){var f=this.inEdges(c,d);if(f)return f.concat(this.outEdges(c,d))};function o(c,d){c[d]?c[d]++:c[d]=1}function a(c,d){--c[d]||delete c[d]}function s(c,d,f,h){var _=""+d,v=""+f;if(!c&&_>v){var p=_;_=v,v=p}return _+r+v+r+(e.isUndefined(h)?t:h)}function u(c,d,f,h){var _=""+d,v=""+f;if(!c&&_>v){var p=_;_=v,v=p}var y={v:_,w:v};return h&&(y.name=h),y}function l(c,d){return s(c,d.v,d.w,d.name)}return ys}var ms,jh;function Zb(){return jh||(jh=1,ms="2.1.8"),ms}var _s,Yh;function Jb(){return Yh||(Yh=1,_s={Graph:Xl(),version:Zb()}),_s}var bs,Kh;function Qb(){if(Kh)return bs;Kh=1;var e=Fe(),t=Xl();bs={write:n,read:o};function n(a){var s={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:i(a)};return e.isUndefined(a.graph())||(s.value=e.clone(a.graph())),s}function r(a){return e.map(a.nodes(),function(s){var u=a.node(s),l=a.parent(s),c={v:s};return e.isUndefined(u)||(c.value=u),e.isUndefined(l)||(c.parent=l),c})}function i(a){return e.map(a.edges(),function(s){var u=a.edge(s),l={v:s.v,w:s.w};return e.isUndefined(s.name)||(l.name=s.name),e.isUndefined(u)||(l.value=u),l})}function o(a){var s=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(u){s.setNode(u.v,u.value),u.parent&&s.setParent(u.v,u.parent)}),e.each(a.edges,function(u){s.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),s}return bs}var ws,Xh;function e0(){if(Xh)return ws;Xh=1;var e=Fe();ws=t;function t(n){var r={},i=[],o;function a(s){e.has(r,s)||(r[s]=!0,o.push(s),e.each(n.successors(s),a),e.each(n.predecessors(s),a))}return e.each(n.nodes(),function(s){o=[],a(s),o.length&&i.push(o)}),i}return ws}var Es,Wh;function yy(){if(Wh)return Es;Wh=1;var e=Fe();Es=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,a=o.length;return i[n]=a,o.push({key:n,priority:r}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,a=n;i<r.length&&(a=r[i].priority<r[a].priority?i:a,o<r.length&&(a=r[o].priority<r[a].priority?o:a),a!==n&&(this._swap(n,a),this._heapify(a)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,a=i[n],s=i[r];i[n]=s,i[r]=a,o[s.key]=n,o[a.key]=r},Es}var Ss,Zh;function my(){if(Zh)return Ss;Zh=1;var e=Fe(),t=yy();Ss=r;var n=e.constant(1);function r(o,a,s,u){return i(o,String(a),s||n,u||function(l){return o.outEdges(l)})}function i(o,a,s,u){var l={},c=new t,d,f,h=function(_){var v=_.v!==d?_.v:_.w,p=l[v],y=s(_),m=f.distance+y;if(y<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+_+" Weight: "+y);m<p.distance&&(p.distance=m,p.predecessor=d,c.decrease(v,m))};for(o.nodes().forEach(function(_){var v=_===a?0:Number.POSITIVE_INFINITY;l[_]={distance:v},c.add(_,v)});c.size()>0&&(d=c.removeMin(),f=l[d],f.distance!==Number.POSITIVE_INFINITY);)u(d).forEach(h);return l}return Ss}var xs,Jh;function t0(){if(Jh)return xs;Jh=1;var e=my(),t=Fe();xs=n;function n(r,i,o){return t.transform(r.nodes(),function(a,s){a[s]=e(r,s,i,o)},{})}return xs}var Cs,Qh;function _y(){if(Qh)return Cs;Qh=1;var e=Fe();Cs=t;function t(n){var r=0,i=[],o={},a=[];function s(u){var l=o[u]={onStack:!0,lowlink:r,index:r++};if(i.push(u),n.successors(u).forEach(function(f){e.has(o,f)?o[f].onStack&&(l.lowlink=Math.min(l.lowlink,o[f].index)):(s(f),l.lowlink=Math.min(l.lowlink,o[f].lowlink))}),l.lowlink===l.index){var c=[],d;do d=i.pop(),o[d].onStack=!1,c.push(d);while(u!==d);a.push(c)}}return n.nodes().forEach(function(u){e.has(o,u)||s(u)}),a}return Cs}var Ns,ev;function n0(){if(ev)return Ns;ev=1;var e=Fe(),t=_y();Ns=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return Ns}var Is,tv;function r0(){if(tv)return Is;tv=1;var e=Fe();Is=n;var t=e.constant(1);function n(i,o,a){return r(i,o||t,a||function(s){return i.outEdges(s)})}function r(i,o,a){var s={},u=i.nodes();return u.forEach(function(l){s[l]={},s[l][l]={distance:0},u.forEach(function(c){l!==c&&(s[l][c]={distance:Number.POSITIVE_INFINITY})}),a(l).forEach(function(c){var d=c.v===l?c.w:c.v,f=o(c);s[l][d]={distance:f,predecessor:l}})}),u.forEach(function(l){var c=s[l];u.forEach(function(d){var f=s[d];u.forEach(function(h){var _=f[l],v=c[h],p=f[h],y=_.distance+v.distance;y<p.distance&&(p.distance=y,p.predecessor=v.predecessor)})})}),s}return Is}var qs,nv;function by(){if(nv)return qs;nv=1;var e=Fe();qs=t,t.CycleException=n;function t(r){var i={},o={},a=[];function s(u){if(e.has(o,u))throw new n;e.has(i,u)||(o[u]=!0,i[u]=!0,e.each(r.predecessors(u),s),delete o[u],a.push(u))}if(e.each(r.sinks(),s),e.size(i)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,qs}var Ts,rv;function i0(){if(rv)return Ts;rv=1;var e=by();Ts=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return Ts}var Rs,iv;function wy(){if(iv)return Rs;iv=1;var e=Fe();Rs=t;function t(r,i,o){e.isArray(i)||(i=[i]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),s=[],u={};return e.each(i,function(l){if(!r.hasNode(l))throw new Error("Graph does not have node: "+l);n(r,l,o==="post",u,a,s)}),s}function n(r,i,o,a,s,u){e.has(a,i)||(a[i]=!0,o||u.push(i),e.each(s(i),function(l){n(r,l,o,a,s,u)}),o&&u.push(i))}return Rs}var As,ov;function o0(){if(ov)return As;ov=1;var e=wy();As=t;function t(n,r){return e(n,r,"post")}return As}var Ms,av;function a0(){if(av)return Ms;av=1;var e=wy();Ms=t;function t(n,r){return e(n,r,"pre")}return Ms}var Ps,sv;function s0(){if(sv)return Ps;sv=1;var e=Fe(),t=Xl(),n=yy();Ps=r;function r(i,o){var a=new t,s={},u=new n,l;function c(f){var h=f.v===l?f.w:f.v,_=u.priority(h);if(_!==void 0){var v=o(f);v<_&&(s[h]=l,u.decrease(h,v))}}if(i.nodeCount()===0)return a;e.each(i.nodes(),function(f){u.add(f,Number.POSITIVE_INFINITY),a.setNode(f)}),u.decrease(i.nodes()[0],0);for(var d=!1;u.size()>0;){if(l=u.removeMin(),e.has(s,l))a.setEdge(l,s[l]);else{if(d)throw new Error("Input graph is not connected: "+i);d=!0}i.nodeEdges(l).forEach(c)}return a}return Ps}var ks,uv;function u0(){return uv||(uv=1,ks={components:e0(),dijkstra:my(),dijkstraAll:t0(),findCycles:n0(),floydWarshall:r0(),isAcyclic:i0(),postorder:o0(),preorder:a0(),prim:s0(),tarjan:_y(),topsort:by()}),ks}var Os,lv;function l0(){if(lv)return Os;lv=1;var e=Jb();return Os={Graph:e.Graph,json:Qb(),alg:u0(),version:e.version},Os}var Ds,cv;function Xe(){if(cv)return Ds;cv=1;var e;if(typeof Pl=="function")try{e=l0()}catch(t){}return e||(e=window.graphlib),Ds=e,Ds}var $s,dv;function c0(){if(dv)return $s;dv=1;var e=jg(),t=1,n=4;function r(i){return e(i,t|n)}return $s=r,$s}var Ls,fv;function qr(){if(fv)return Ls;fv=1;var e=Zt(),t=ft(),n=_r(),r=ze();function i(o,a,s){if(!r(s))return!1;var u=typeof a;return(u=="number"?t(s)&&n(a,s.length):u=="string"&&a in s)?e(s[a],o):!1}return Ls=i,Ls}var Bs,hv;function d0(){if(hv)return Bs;hv=1;var e=Ir(),t=Zt(),n=qr(),r=Pt(),i=Object.prototype,o=i.hasOwnProperty,a=e(function(s,u){s=Object(s);var l=-1,c=u.length,d=c>2?u[2]:void 0;for(d&&n(u[0],u[1],d)&&(c=1);++l<c;)for(var f=u[l],h=r(f),_=-1,v=h.length;++_<v;){var p=h[_],y=s[p];(y===void 0||t(y,i[p])&&!o.call(s,p))&&(s[p]=f[p])}return s});return Bs=a,Bs}var zs,vv;function f0(){if(vv)return zs;vv=1;var e=ht(),t=ft(),n=wt();function r(i){return function(o,a,s){var u=Object(o);if(!t(o)){var l=e(a,3);o=n(o),a=function(d){return l(u[d],d,u)}}var c=i(o,a,s);return c>-1?u[l?o[c]:c]:void 0}}return zs=r,zs}var Fs,pv;function h0(){if(pv)return Fs;pv=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Fs=t,Fs}var Gs,gv;function v0(){if(gv)return Gs;gv=1;var e=h0(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Gs=n,Gs}var Vs,yv;function p0(){if(yv)return Vs;yv=1;var e=v0(),t=ze(),n=tn(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function u(l){if(typeof l=="number")return l;if(n(l))return r;if(t(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=t(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=e(l);var d=o.test(l);return d||a.test(l)?s(l.slice(2),d?2:8):i.test(l)?r:+l}return Vs=u,Vs}var Hs,mv;function Ey(){if(mv)return Hs;mv=1;var e=p0(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return Hs=r,Hs}var Us,_v;function g0(){if(_v)return Us;_v=1;var e=Ey();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return Us=t,Us}var js,bv;function y0(){if(bv)return js;bv=1;var e=vy(),t=ht(),n=g0(),r=Math.max;function i(o,a,s){var u=o==null?0:o.length;if(!u)return-1;var l=s==null?0:n(s);return l<0&&(l=r(u+l,0)),e(o,t(a,3),l)}return js=i,js}var Ys,wv;function m0(){if(wv)return Ys;wv=1;var e=f0(),t=y0(),n=e(t);return Ys=n,Ys}var Ks,Ev;function Sy(){if(Ev)return Ks;Ev=1;var e=Kl();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Ks=t,Ks}var Xs,Sv;function _0(){if(Sv)return Xs;Sv=1;var e=Hl(),t=Yg(),n=Pt();function r(i,o){return i==null?i:e(i,t(o),n)}return Xs=r,Xs}var Ws,xv;function b0(){if(xv)return Ws;xv=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Ws=e,Ws}var Zs,Cv;function w0(){if(Cv)return Zs;Cv=1;var e=yr(),t=Ul(),n=ht();function r(i,o){var a={};return o=n(o,3),t(i,function(s,u,l){e(a,u,o(s,u,l))}),a}return Zs=r,Zs}var Js,Nv;function Wl(){if(Nv)return Js;Nv=1;var e=tn();function t(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],u=r(s);if(u!=null&&(l===void 0?u===u&&!e(u):i(u,l)))var l=u,c=s}return c}return Js=t,Js}var Qs,Iv;function E0(){if(Iv)return Qs;Iv=1;function e(t,n){return t>n}return Qs=e,Qs}var eu,qv;function S0(){if(qv)return eu;qv=1;var e=Wl(),t=E0(),n=kt();function r(i){return i&&i.length?e(i,n,t):void 0}return eu=r,eu}var tu,Tv;function xy(){if(Tv)return tu;Tv=1;var e=yr(),t=Zt();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return tu=n,tu}var nu,Rv;function x0(){if(Rv)return nu;Rv=1;var e=At(),t=Er(),n=rt(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,u=a.call(Object);function l(c){if(!n(c)||e(c)!=r)return!1;var d=t(c);if(d===null)return!0;var f=s.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&a.call(f)==u}return nu=l,nu}var ru,Av;function Cy(){if(Av)return ru;Av=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return ru=e,ru}var iu,Mv;function C0(){if(Mv)return iu;Mv=1;var e=Cn(),t=Pt();function n(r){return e(r,t(r))}return iu=n,iu}var ou,Pv;function N0(){if(Pv)return ou;Pv=1;var e=xy(),t=kg(),n=Vg(),r=Og(),i=Ug(),o=Nn(),a=qe(),s=py(),u=Qt(),l=xn(),c=ze(),d=x0(),f=In(),h=Cy(),_=C0();function v(p,y,m,g,b,E,I){var q=h(p,m),k=h(y,m),$=I.get(k);if($){e(p,m,$);return}var O=E?E(q,k,m+"",p,y,I):void 0,M=O===void 0;if(M){var x=a(k),G=!x&&u(k),N=!x&&!G&&f(k);O=k,x||G||N?a(q)?O=q:s(q)?O=r(q):G?(M=!1,O=t(k,!0)):N?(M=!1,O=n(k,!0)):O=[]:d(k)||o(k)?(O=q,o(q)?O=_(q):(!c(q)||l(q))&&(O=i(k))):M=!1}M&&(I.set(k,O),b(O,k,g,E,I),I.delete(k)),e(p,m,O)}return ou=v,ou}var au,kv;function I0(){if(kv)return au;kv=1;var e=gr(),t=xy(),n=Hl(),r=N0(),i=ze(),o=Pt(),a=Cy();function s(u,l,c,d,f){u!==l&&n(l,function(h,_){if(f||(f=new e),i(h))r(u,l,_,c,s,d,f);else{var v=d?d(a(u,_),h,_+"",u,l,f):void 0;v===void 0&&(v=h),t(u,_,v)}},o)}return au=s,au}var su,Ov;function q0(){if(Ov)return su;Ov=1;var e=Ir(),t=qr();function n(r){return e(function(i,o){var a=-1,s=o.length,u=s>1?o[s-1]:void 0,l=s>2?o[2]:void 0;for(u=r.length>3&&typeof u=="function"?(s--,u):void 0,l&&t(o[0],o[1],l)&&(u=s<3?void 0:u,s=1),i=Object(i);++a<s;){var c=o[a];c&&r(i,c,a,u)}return i})}return su=n,su}var uu,Dv;function T0(){if(Dv)return uu;Dv=1;var e=I0(),t=q0(),n=t(function(r,i,o){e(r,i,o)});return uu=n,uu}var lu,$v;function Ny(){if($v)return lu;$v=1;function e(t,n){return t<n}return lu=e,lu}var cu,Lv;function R0(){if(Lv)return cu;Lv=1;var e=Wl(),t=Ny(),n=kt();function r(i){return i&&i.length?e(i,n,t):void 0}return cu=r,cu}var du,Bv;function A0(){if(Bv)return du;Bv=1;var e=Wl(),t=ht(),n=Ny();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return du=r,du}var fu,zv;function M0(){if(zv)return fu;zv=1;var e=We(),t=function(){return e.Date.now()};return fu=t,fu}var hu,Fv;function P0(){if(Fv)return hu;Fv=1;var e=mr(),t=Cr(),n=_r(),r=ze(),i=qn();function o(a,s,u,l){if(!r(a))return a;s=t(s,a);for(var c=-1,d=s.length,f=d-1,h=a;h!=null&&++c<d;){var _=i(s[c]),v=u;if(_==="__proto__"||_==="constructor"||_==="prototype")return a;if(c!=f){var p=h[_];v=l?l(p,_,h):void 0,v===void 0&&(v=r(p)?p:n(s[c+1])?[]:{})}e(h,_,v),h=h[_]}return a}return hu=o,hu}var vu,Gv;function k0(){if(Gv)return vu;Gv=1;var e=Nr(),t=P0(),n=Cr();function r(i,o,a){for(var s=-1,u=o.length,l={};++s<u;){var c=o[s],d=e(i,c);a(d,c)&&t(l,n(c,i),d)}return l}return vu=r,vu}var pu,Vv;function O0(){if(Vv)return pu;Vv=1;var e=k0(),t=iy();function n(r,i){return e(r,i,function(o,a){return t(r,a)})}return pu=n,pu}var gu,Hv;function D0(){if(Hv)return gu;Hv=1;var e=Sy(),t=fy(),n=hy();function r(i){return n(t(i,void 0,e),i+"")}return gu=r,gu}var yu,Uv;function $0(){if(Uv)return yu;Uv=1;var e=O0(),t=D0(),n=t(function(r,i){return r==null?{}:e(r,i)});return yu=n,yu}var mu,jv;function L0(){if(jv)return mu;jv=1;var e=Math.ceil,t=Math.max;function n(r,i,o,a){for(var s=-1,u=t(e((i-r)/(o||1)),0),l=Array(u);u--;)l[a?u:++s]=r,r+=o;return l}return mu=n,mu}var _u,Yv;function B0(){if(Yv)return _u;Yv=1;var e=L0(),t=qr(),n=Ey();function r(i){return function(o,a,s){return s&&typeof s!="number"&&t(o,a,s)&&(a=s=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),s=s===void 0?o<a?1:-1:n(s),e(o,a,s,i)}}return _u=r,_u}var bu,Kv;function z0(){if(Kv)return bu;Kv=1;var e=B0(),t=e();return bu=t,bu}var wu,Xv;function F0(){if(Xv)return wu;Xv=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return wu=e,wu}var Eu,Wv;function G0(){if(Wv)return Eu;Wv=1;var e=tn();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,s=e(n),u=r!==void 0,l=r===null,c=r===r,d=e(r);if(!l&&!d&&!s&&n>r||s&&u&&c&&!l&&!d||o&&u&&c||!i&&c||!a)return 1;if(!o&&!s&&!d&&n<r||d&&i&&a&&!o&&!s||l&&i&&a||!u&&a||!c)return-1}return 0}return Eu=t,Eu}var Su,Zv;function V0(){if(Zv)return Su;Zv=1;var e=G0();function t(n,r,i){for(var o=-1,a=n.criteria,s=r.criteria,u=a.length,l=i.length;++o<u;){var c=e(a[o],s[o]);if(c){if(o>=l)return c;var d=i[o];return c*(d=="desc"?-1:1)}}return n.index-r.index}return Su=t,Su}var xu,Jv;function H0(){if(Jv)return xu;Jv=1;var e=xr(),t=Nr(),n=ht(),r=ly(),i=F0(),o=br(),a=V0(),s=kt(),u=qe();function l(c,d,f){d.length?d=e(d,function(v){return u(v)?function(p){return t(p,v.length===1?v[0]:v)}:v}):d=[s];var h=-1;d=e(d,o(n));var _=r(c,function(v,p,y){var m=e(d,function(g){return g(v)});return{criteria:m,index:++h,value:v}});return i(_,function(v,p){return a(v,p,f)})}return xu=l,xu}var Cu,Qv;function U0(){if(Qv)return Cu;Qv=1;var e=Kl(),t=H0(),n=Ir(),r=qr(),i=n(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(o,e(a,1),[])});return Cu=i,Cu}var Nu,ep;function j0(){if(ep)return Nu;ep=1;var e=ny(),t=0;function n(r){var i=++t;return e(r)+i}return Nu=n,Nu}var Iu,tp;function Y0(){if(tp)return Iu;tp=1;function e(t,n,r){for(var i=-1,o=t.length,a=n.length,s={};++i<o;){var u=i<a?n[i]:void 0;r(s,t[i],u)}return s}return Iu=e,Iu}var qu,np;function K0(){if(np)return qu;np=1;var e=mr(),t=Y0();function n(r,i){return t(r||[],i||[],e)}return qu=n,qu}var Tu,rp;function xe(){if(rp)return Tu;rp=1;var e;if(typeof Pl=="function")try{e={cloneDeep:c0(),constant:Vl(),defaults:d0(),each:Xg(),filter:ay(),find:m0(),flatten:Sy(),forEach:Kg(),forIn:_0(),has:sy(),isUndefined:uy(),last:b0(),map:cy(),mapValues:w0(),max:S0(),merge:T0(),min:R0(),minBy:A0(),now:M0(),pick:$0(),range:z0(),reduce:dy(),sortBy:U0(),uniqueId:j0(),values:gy(),zipObject:K0()}}catch(t){}return e||(e=window._),Tu=e,Tu}var Ru,ip;function X0(){if(ip)return Ru;ip=1,Ru=e;function e(){var r={};r._next=r._prev=r,this._sentinel=r}e.prototype.dequeue=function(){var r=this._sentinel,i=r._prev;if(i!==r)return t(i),i},e.prototype.enqueue=function(r){var i=this._sentinel;r._prev&&r._next&&t(r),r._next=i._next,i._next._prev=r,i._next=r,r._prev=i},e.prototype.toString=function(){for(var r=[],i=this._sentinel,o=i._prev;o!==i;)r.push(JSON.stringify(o,n)),o=o._prev;return"["+r.join(", ")+"]"};function t(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return Ru}var Au,op;function W0(){if(op)return Au;op=1;var e=xe(),t=Xe().Graph,n=X0();Au=i;var r=e.constant(1);function i(l,c){if(l.nodeCount()<=1)return[];var d=s(l,c||r),f=o(d.graph,d.buckets,d.zeroIdx);return e.flatten(e.map(f,function(h){return l.outEdges(h.v,h.w)}),!0)}function o(l,c,d){for(var f=[],h=c[c.length-1],_=c[0],v;l.nodeCount();){for(;v=_.dequeue();)a(l,c,d,v);for(;v=h.dequeue();)a(l,c,d,v);if(l.nodeCount()){for(var p=c.length-2;p>0;--p)if(v=c[p].dequeue(),v){f=f.concat(a(l,c,d,v,!0));break}}}return f}function a(l,c,d,f,h){var _=h?[]:void 0;return e.forEach(l.inEdges(f.v),function(v){var p=l.edge(v),y=l.node(v.v);h&&_.push({v:v.v,w:v.w}),y.out-=p,u(c,d,y)}),e.forEach(l.outEdges(f.v),function(v){var p=l.edge(v),y=v.w,m=l.node(y);m.in-=p,u(c,d,m)}),l.removeNode(f.v),_}function s(l,c){var d=new t,f=0,h=0;e.forEach(l.nodes(),function(p){d.setNode(p,{v:p,in:0,out:0})}),e.forEach(l.edges(),function(p){var y=d.edge(p.v,p.w)||0,m=c(p),g=y+m;d.setEdge(p.v,p.w,g),h=Math.max(h,d.node(p.v).out+=m),f=Math.max(f,d.node(p.w).in+=m)});var _=e.range(h+f+3).map(function(){return new n}),v=f+1;return e.forEach(d.nodes(),function(p){u(_,v,d.node(p))}),{graph:d,buckets:_,zeroIdx:v}}function u(l,c,d){d.out?d.in?l[d.out-d.in+c].enqueue(d):l[l.length-1].enqueue(d):l[0].enqueue(d)}return Au}var Mu,ap;function Z0(){if(ap)return Mu;ap=1;var e=xe(),t=W0();Mu={run:n,undo:i};function n(o){var a=o.graph().acyclicer==="greedy"?t(o,s(o)):r(o);e.forEach(a,function(u){var l=o.edge(u);o.removeEdge(u),l.forwardName=u.name,l.reversed=!0,o.setEdge(u.w,u.v,l,e.uniqueId("rev"))});function s(u){return function(l){return u.edge(l).weight}}}function r(o){var a=[],s={},u={};function l(c){e.has(u,c)||(u[c]=!0,s[c]=!0,e.forEach(o.outEdges(c),function(d){e.has(s,d.w)?a.push(d):l(d.w)}),delete s[c])}return e.forEach(o.nodes(),l),a}function i(o){e.forEach(o.edges(),function(a){var s=o.edge(a);if(s.reversed){o.removeEdge(a);var u=s.forwardName;delete s.reversed,delete s.forwardName,o.setEdge(a.w,a.v,s,u)}})}return Mu}var Pu,sp;function Pe(){if(sp)return Pu;sp=1;var e=xe(),t=Xe().Graph;Pu={addDummyNode:n,simplify:r,asNonCompoundGraph:i,successorWeights:o,predecessorWeights:a,intersectRect:s,buildLayerMatrix:u,normalizeRanks:l,removeEmptyRanks:c,addBorderNode:d,maxRank:f,partition:h,time:_,notime:v};function n(p,y,m,g){var b;do b=e.uniqueId(g);while(p.hasNode(b));return m.dummy=y,p.setNode(b,m),b}function r(p){var y=new t().setGraph(p.graph());return e.forEach(p.nodes(),function(m){y.setNode(m,p.node(m))}),e.forEach(p.edges(),function(m){var g=y.edge(m.v,m.w)||{weight:0,minlen:1},b=p.edge(m);y.setEdge(m.v,m.w,{weight:g.weight+b.weight,minlen:Math.max(g.minlen,b.minlen)})}),y}function i(p){var y=new t({multigraph:p.isMultigraph()}).setGraph(p.graph());return e.forEach(p.nodes(),function(m){p.children(m).length||y.setNode(m,p.node(m))}),e.forEach(p.edges(),function(m){y.setEdge(m,p.edge(m))}),y}function o(p){var y=e.map(p.nodes(),function(m){var g={};return e.forEach(p.outEdges(m),function(b){g[b.w]=(g[b.w]||0)+p.edge(b).weight}),g});return e.zipObject(p.nodes(),y)}function a(p){var y=e.map(p.nodes(),function(m){var g={};return e.forEach(p.inEdges(m),function(b){g[b.v]=(g[b.v]||0)+p.edge(b).weight}),g});return e.zipObject(p.nodes(),y)}function s(p,y){var m=p.x,g=p.y,b=y.x-m,E=y.y-g,I=p.width/2,q=p.height/2;if(!b&&!E)throw new Error("Not possible to find intersection inside of the rectangle");var k,$;return Math.abs(E)*I>Math.abs(b)*q?(E<0&&(q=-q),k=q*b/E,$=q):(b<0&&(I=-I),k=I,$=I*E/b),{x:m+k,y:g+$}}function u(p){var y=e.map(e.range(f(p)+1),function(){return[]});return e.forEach(p.nodes(),function(m){var g=p.node(m),b=g.rank;e.isUndefined(b)||(y[b][g.order]=m)}),y}function l(p){var y=e.min(e.map(p.nodes(),function(m){return p.node(m).rank}));e.forEach(p.nodes(),function(m){var g=p.node(m);e.has(g,"rank")&&(g.rank-=y)})}function c(p){var y=e.min(e.map(p.nodes(),function(E){return p.node(E).rank})),m=[];e.forEach(p.nodes(),function(E){var I=p.node(E).rank-y;m[I]||(m[I]=[]),m[I].push(E)});var g=0,b=p.graph().nodeRankFactor;e.forEach(m,function(E,I){e.isUndefined(E)&&I%b!==0?--g:g&&e.forEach(E,function(q){p.node(q).rank+=g})})}function d(p,y,m,g){var b={width:0,height:0};return arguments.length>=4&&(b.rank=m,b.order=g),n(p,"border",b,y)}function f(p){return e.max(e.map(p.nodes(),function(y){var m=p.node(y).rank;if(!e.isUndefined(m))return m}))}function h(p,y){var m={lhs:[],rhs:[]};return e.forEach(p,function(g){y(g)?m.lhs.push(g):m.rhs.push(g)}),m}function _(p,y){var m=e.now();try{return y()}finally{console.log(p+" time: "+(e.now()-m)+"ms")}}function v(p,y){return y()}return Pu}var ku,up;function J0(){if(up)return ku;up=1;var e=xe(),t=Pe();ku={run:n,undo:i};function n(o){o.graph().dummyChains=[],e.forEach(o.edges(),function(a){r(o,a)})}function r(o,a){var s=a.v,u=o.node(s).rank,l=a.w,c=o.node(l).rank,d=a.name,f=o.edge(a),h=f.labelRank;if(c!==u+1){o.removeEdge(a);var _,v,p;for(p=0,++u;u<c;++p,++u)f.points=[],v={width:0,height:0,edgeLabel:f,edgeObj:a,rank:u},_=t.addDummyNode(o,"edge",v,"_d"),u===h&&(v.width=f.width,v.height=f.height,v.dummy="edge-label",v.labelpos=f.labelpos),o.setEdge(s,_,{weight:f.weight},d),p===0&&o.graph().dummyChains.push(_),s=_;o.setEdge(s,l,{weight:f.weight},d)}}function i(o){e.forEach(o.graph().dummyChains,function(a){var s=o.node(a),u=s.edgeLabel,l;for(o.setEdge(s.edgeObj,u);s.dummy;)l=o.successors(a)[0],o.removeNode(a),u.points.push({x:s.x,y:s.y}),s.dummy==="edge-label"&&(u.x=s.x,u.y=s.y,u.width=s.width,u.height=s.height),a=l,s=o.node(a)})}return ku}var Ou,lp;function er(){if(lp)return Ou;lp=1;var e=xe();Ou={longestPath:t,slack:n};function t(r){var i={};function o(a){var s=r.node(a);if(e.has(i,a))return s.rank;i[a]=!0;var u=e.min(e.map(r.outEdges(a),function(l){return o(l.w)-r.edge(l).minlen}));return(u===Number.POSITIVE_INFINITY||u===void 0||u===null)&&(u=0),s.rank=u}e.forEach(r.sources(),o)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return Ou}var Du,cp;function Iy(){if(cp)return Du;cp=1;var e=xe(),t=Xe().Graph,n=er().slack;Du=r;function r(s){var u=new t({directed:!1}),l=s.nodes()[0],c=s.nodeCount();u.setNode(l,{});for(var d,f;i(u,s)<c;)d=o(u,s),f=u.hasNode(d.v)?n(s,d):-n(s,d),a(u,s,f);return u}function i(s,u){function l(c){e.forEach(u.nodeEdges(c),function(d){var f=d.v,h=c===f?d.w:f;!s.hasNode(h)&&!n(u,d)&&(s.setNode(h,{}),s.setEdge(c,h,{}),l(h))})}return e.forEach(s.nodes(),l),s.nodeCount()}function o(s,u){return e.minBy(u.edges(),function(l){if(s.hasNode(l.v)!==s.hasNode(l.w))return n(u,l)})}function a(s,u,l){e.forEach(s.nodes(),function(c){u.node(c).rank+=l})}return Du}var $u,dp;function Q0(){if(dp)return $u;dp=1;var e=xe(),t=Iy(),n=er().slack,r=er().longestPath,i=Xe().alg.preorder,o=Xe().alg.postorder,a=Pe().simplify;$u=s,s.initLowLimValues=d,s.initCutValues=u,s.calcCutValue=c,s.leaveEdge=h,s.enterEdge=_,s.exchangeEdges=v;function s(g){g=a(g),r(g);var b=t(g);d(b),u(b,g);for(var E,I;E=h(b);)I=_(b,g,E),v(b,g,E,I)}function u(g,b){var E=o(g,g.nodes());E=E.slice(0,E.length-1),e.forEach(E,function(I){l(g,b,I)})}function l(g,b,E){var I=g.node(E),q=I.parent;g.edge(E,q).cutvalue=c(g,b,E)}function c(g,b,E){var I=g.node(E),q=I.parent,k=!0,$=b.edge(E,q),O=0;return $||(k=!1,$=b.edge(q,E)),O=$.weight,e.forEach(b.nodeEdges(E),function(M){var x=M.v===E,G=x?M.w:M.v;if(G!==q){var N=x===k,L=b.edge(M).weight;if(O+=N?L:-L,y(g,E,G)){var A=g.edge(E,G).cutvalue;O+=N?-A:A}}}),O}function d(g,b){arguments.length<2&&(b=g.nodes()[0]),f(g,{},1,b)}function f(g,b,E,I,q){var k=E,$=g.node(I);return b[I]=!0,e.forEach(g.neighbors(I),function(O){e.has(b,O)||(E=f(g,b,E,O,I))}),$.low=k,$.lim=E++,q?$.parent=q:delete $.parent,E}function h(g){return e.find(g.edges(),function(b){return g.edge(b).cutvalue<0})}function _(g,b,E){var I=E.v,q=E.w;b.hasEdge(I,q)||(I=E.w,q=E.v);var k=g.node(I),$=g.node(q),O=k,M=!1;k.lim>$.lim&&(O=$,M=!0);var x=e.filter(b.edges(),function(G){return M===m(g,g.node(G.v),O)&&M!==m(g,g.node(G.w),O)});return e.minBy(x,function(G){return n(b,G)})}function v(g,b,E,I){var q=E.v,k=E.w;g.removeEdge(q,k),g.setEdge(I.v,I.w,{}),d(g),u(g,b),p(g,b)}function p(g,b){var E=e.find(g.nodes(),function(q){return!b.node(q).parent}),I=i(g,E);I=I.slice(1),e.forEach(I,function(q){var k=g.node(q).parent,$=b.edge(q,k),O=!1;$||($=b.edge(k,q),O=!0),b.node(q).rank=b.node(k).rank+(O?$.minlen:-$.minlen)})}function y(g,b,E){return g.hasEdge(b,E)}function m(g,b,E){return E.low<=b.lim&&b.lim<=E.lim}return $u}var Lu,fp;function e1(){if(fp)return Lu;fp=1;var e=er(),t=e.longestPath,n=Iy(),r=Q0();Lu=i;function i(u){switch(u.graph().ranker){case"network-simplex":s(u);break;case"tight-tree":a(u);break;case"longest-path":o(u);break;default:s(u)}}var o=t;function a(u){t(u),n(u)}function s(u){r(u)}return Lu}var Bu,hp;function t1(){if(hp)return Bu;hp=1;var e=xe();Bu=t;function t(i){var o=r(i);e.forEach(i.graph().dummyChains,function(a){for(var s=i.node(a),u=s.edgeObj,l=n(i,o,u.v,u.w),c=l.path,d=l.lca,f=0,h=c[f],_=!0;a!==u.w;){if(s=i.node(a),_){for(;(h=c[f])!==d&&i.node(h).maxRank<s.rank;)f++;h===d&&(_=!1)}if(!_){for(;f<c.length-1&&i.node(h=c[f+1]).minRank<=s.rank;)f++;h=c[f]}i.setParent(a,h),a=i.successors(a)[0]}})}function n(i,o,a,s){var u=[],l=[],c=Math.min(o[a].low,o[s].low),d=Math.max(o[a].lim,o[s].lim),f,h;f=a;do f=i.parent(f),u.push(f);while(f&&(o[f].low>c||d>o[f].lim));for(h=f,f=s;(f=i.parent(f))!==h;)l.push(f);return{path:u.concat(l.reverse()),lca:h}}function r(i){var o={},a=0;function s(u){var l=a;e.forEach(i.children(u),s),o[u]={low:l,lim:a++}}return e.forEach(i.children(),s),o}return Bu}var zu,vp;function n1(){if(vp)return zu;vp=1;var e=xe(),t=Pe();zu={run:n,cleanup:a};function n(s){var u=t.addDummyNode(s,"root",{},"_root"),l=i(s),c=e.max(e.values(l))-1,d=2*c+1;s.graph().nestingRoot=u,e.forEach(s.edges(),function(h){s.edge(h).minlen*=d});var f=o(s)+1;e.forEach(s.children(),function(h){r(s,u,d,f,c,l,h)}),s.graph().nodeRankFactor=d}function r(s,u,l,c,d,f,h){var _=s.children(h);if(!_.length){h!==u&&s.setEdge(u,h,{weight:0,minlen:l});return}var v=t.addBorderNode(s,"_bt"),p=t.addBorderNode(s,"_bb"),y=s.node(h);s.setParent(v,h),y.borderTop=v,s.setParent(p,h),y.borderBottom=p,e.forEach(_,function(m){r(s,u,l,c,d,f,m);var g=s.node(m),b=g.borderTop?g.borderTop:m,E=g.borderBottom?g.borderBottom:m,I=g.borderTop?c:2*c,q=b!==E?1:d-f[h]+1;s.setEdge(v,b,{weight:I,minlen:q,nestingEdge:!0}),s.setEdge(E,p,{weight:I,minlen:q,nestingEdge:!0})}),s.parent(h)||s.setEdge(u,v,{weight:0,minlen:d+f[h]})}function i(s){var u={};function l(c,d){var f=s.children(c);f&&f.length&&e.forEach(f,function(h){l(h,d+1)}),u[c]=d}return e.forEach(s.children(),function(c){l(c,1)}),u}function o(s){return e.reduce(s.edges(),function(u,l){return u+s.edge(l).weight},0)}function a(s){var u=s.graph();s.removeNode(u.nestingRoot),delete u.nestingRoot,e.forEach(s.edges(),function(l){var c=s.edge(l);c.nestingEdge&&s.removeEdge(l)})}return zu}var Fu,pp;function r1(){if(pp)return Fu;pp=1;var e=xe(),t=Pe();Fu=n;function n(i){function o(a){var s=i.children(a),u=i.node(a);if(s.length&&e.forEach(s,o),e.has(u,"minRank")){u.borderLeft=[],u.borderRight=[];for(var l=u.minRank,c=u.maxRank+1;l<c;++l)r(i,"borderLeft","_bl",a,u,l),r(i,"borderRight","_br",a,u,l)}}e.forEach(i.children(),o)}function r(i,o,a,s,u,l){var c={width:0,height:0,rank:l,borderType:o},d=u[o][l-1],f=t.addDummyNode(i,"border",c,a);u[o][l]=f,i.setParent(f,s),d&&i.setEdge(d,f,{weight:1})}return Fu}var Gu,gp;function i1(){if(gp)return Gu;gp=1;var e=xe();Gu={adjust:t,undo:n};function t(l){var c=l.graph().rankdir.toLowerCase();(c==="lr"||c==="rl")&&r(l)}function n(l){var c=l.graph().rankdir.toLowerCase();(c==="bt"||c==="rl")&&o(l),(c==="lr"||c==="rl")&&(s(l),r(l))}function r(l){e.forEach(l.nodes(),function(c){i(l.node(c))}),e.forEach(l.edges(),function(c){i(l.edge(c))})}function i(l){var c=l.width;l.width=l.height,l.height=c}function o(l){e.forEach(l.nodes(),function(c){a(l.node(c))}),e.forEach(l.edges(),function(c){var d=l.edge(c);e.forEach(d.points,a),e.has(d,"y")&&a(d)})}function a(l){l.y=-l.y}function s(l){e.forEach(l.nodes(),function(c){u(l.node(c))}),e.forEach(l.edges(),function(c){var d=l.edge(c);e.forEach(d.points,u),e.has(d,"x")&&u(d)})}function u(l){var c=l.x;l.x=l.y,l.y=c}return Gu}var Vu,yp;function o1(){if(yp)return Vu;yp=1;var e=xe();Vu=t;function t(n){var r={},i=e.filter(n.nodes(),function(l){return!n.children(l).length}),o=e.max(e.map(i,function(l){return n.node(l).rank})),a=e.map(e.range(o+1),function(){return[]});function s(l){if(!e.has(r,l)){r[l]=!0;var c=n.node(l);a[c.rank].push(l),e.forEach(n.successors(l),s)}}var u=e.sortBy(i,function(l){return n.node(l).rank});return e.forEach(u,s),a}return Vu}var Hu,mp;function a1(){if(mp)return Hu;mp=1;var e=xe();Hu=t;function t(r,i){for(var o=0,a=1;a<i.length;++a)o+=n(r,i[a-1],i[a]);return o}function n(r,i,o){for(var a=e.zipObject(o,e.map(o,function(f,h){return h})),s=e.flatten(e.map(i,function(f){return e.sortBy(e.map(r.outEdges(f),function(h){return{pos:a[h.w],weight:r.edge(h).weight}}),"pos")}),!0),u=1;u<o.length;)u<<=1;var l=2*u-1;u-=1;var c=e.map(new Array(l),function(){return 0}),d=0;return e.forEach(s.forEach(function(f){var h=f.pos+u;c[h]+=f.weight;for(var _=0;h>0;)h%2&&(_+=c[h+1]),h=h-1>>1,c[h]+=f.weight;d+=f.weight*_})),d}return Hu}var Uu,_p;function s1(){if(_p)return Uu;_p=1;var e=xe();Uu=t;function t(n,r){return e.map(r,function(i){var o=n.inEdges(i);if(o.length){var a=e.reduce(o,function(s,u){var l=n.edge(u),c=n.node(u.v);return{sum:s.sum+l.weight*c.order,weight:s.weight+l.weight}},{sum:0,weight:0});return{v:i,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:i}})}return Uu}var ju,bp;function u1(){if(bp)return ju;bp=1;var e=xe();ju=t;function t(i,o){var a={};e.forEach(i,function(u,l){var c=a[u.v]={indegree:0,in:[],out:[],vs:[u.v],i:l};e.isUndefined(u.barycenter)||(c.barycenter=u.barycenter,c.weight=u.weight)}),e.forEach(o.edges(),function(u){var l=a[u.v],c=a[u.w];!e.isUndefined(l)&&!e.isUndefined(c)&&(c.indegree++,l.out.push(a[u.w]))});var s=e.filter(a,function(u){return!u.indegree});return n(s)}function n(i){var o=[];function a(l){return function(c){c.merged||(e.isUndefined(c.barycenter)||e.isUndefined(l.barycenter)||c.barycenter>=l.barycenter)&&r(l,c)}}function s(l){return function(c){c.in.push(l),--c.indegree===0&&i.push(c)}}for(;i.length;){var u=i.pop();o.push(u),e.forEach(u.in.reverse(),a(u)),e.forEach(u.out,s(u))}return e.map(e.filter(o,function(l){return!l.merged}),function(l){return e.pick(l,["vs","i","barycenter","weight"])})}function r(i,o){var a=0,s=0;i.weight&&(a+=i.barycenter*i.weight,s+=i.weight),o.weight&&(a+=o.barycenter*o.weight,s+=o.weight),i.vs=o.vs.concat(i.vs),i.barycenter=a/s,i.weight=s,i.i=Math.min(o.i,i.i),o.merged=!0}return ju}var Yu,wp;function l1(){if(wp)return Yu;wp=1;var e=xe(),t=Pe();Yu=n;function n(o,a){var s=t.partition(o,function(v){return e.has(v,"barycenter")}),u=s.lhs,l=e.sortBy(s.rhs,function(v){return-v.i}),c=[],d=0,f=0,h=0;u.sort(i(!!a)),h=r(c,l,h),e.forEach(u,function(v){h+=v.vs.length,c.push(v.vs),d+=v.barycenter*v.weight,f+=v.weight,h=r(c,l,h)});var _={vs:e.flatten(c,!0)};return f&&(_.barycenter=d/f,_.weight=f),_}function r(o,a,s){for(var u;a.length&&(u=e.last(a)).i<=s;)a.pop(),o.push(u.vs),s++;return s}function i(o){return function(a,s){return a.barycenter<s.barycenter?-1:a.barycenter>s.barycenter?1:o?s.i-a.i:a.i-s.i}}return Yu}var Ku,Ep;function c1(){if(Ep)return Ku;Ep=1;var e=xe(),t=s1(),n=u1(),r=l1();Ku=i;function i(s,u,l,c){var d=s.children(u),f=s.node(u),h=f?f.borderLeft:void 0,_=f?f.borderRight:void 0,v={};h&&(d=e.filter(d,function(E){return E!==h&&E!==_}));var p=t(s,d);e.forEach(p,function(E){if(s.children(E.v).length){var I=i(s,E.v,l,c);v[E.v]=I,e.has(I,"barycenter")&&a(E,I)}});var y=n(p,l);o(y,v);var m=r(y,c);if(h&&(m.vs=e.flatten([h,m.vs,_],!0),s.predecessors(h).length)){var g=s.node(s.predecessors(h)[0]),b=s.node(s.predecessors(_)[0]);e.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+g.order+b.order)/(m.weight+2),m.weight+=2}return m}function o(s,u){e.forEach(s,function(l){l.vs=e.flatten(l.vs.map(function(c){return u[c]?u[c].vs:c}),!0)})}function a(s,u){e.isUndefined(s.barycenter)?(s.barycenter=u.barycenter,s.weight=u.weight):(s.barycenter=(s.barycenter*s.weight+u.barycenter*u.weight)/(s.weight+u.weight),s.weight+=u.weight)}return Ku}var Xu,Sp;function d1(){if(Sp)return Xu;Sp=1;var e=xe(),t=Xe().Graph;Xu=n;function n(i,o,a){var s=r(i),u=new t({compound:!0}).setGraph({root:s}).setDefaultNodeLabel(function(l){return i.node(l)});return e.forEach(i.nodes(),function(l){var c=i.node(l),d=i.parent(l);(c.rank===o||c.minRank<=o&&o<=c.maxRank)&&(u.setNode(l),u.setParent(l,d||s),e.forEach(i[a](l),function(f){var h=f.v===l?f.w:f.v,_=u.edge(h,l),v=e.isUndefined(_)?0:_.weight;u.setEdge(h,l,{weight:i.edge(f).weight+v})}),e.has(c,"minRank")&&u.setNode(l,{borderLeft:c.borderLeft[o],borderRight:c.borderRight[o]}))}),u}function r(i){for(var o;i.hasNode(o=e.uniqueId("_root")););return o}return Xu}var Wu,xp;function f1(){if(xp)return Wu;xp=1;var e=xe();Wu=t;function t(n,r,i){var o={},a;e.forEach(i,function(s){for(var u=n.parent(s),l,c;u;){if(l=n.parent(u),l?(c=o[l],o[l]=u):(c=a,a=u),c&&c!==u){r.setEdge(c,u);return}u=l}})}return Wu}var Zu,Cp;function h1(){if(Cp)return Zu;Cp=1;var e=xe(),t=o1(),n=a1(),r=c1(),i=d1(),o=f1(),a=Xe().Graph,s=Pe();Zu=u;function u(f){var h=s.maxRank(f),_=l(f,e.range(1,h+1),"inEdges"),v=l(f,e.range(h-1,-1,-1),"outEdges"),p=t(f);d(f,p);for(var y=Number.POSITIVE_INFINITY,m,g=0,b=0;b<4;++g,++b){c(g%2?_:v,g%4>=2),p=s.buildLayerMatrix(f);var E=n(f,p);E<y&&(b=0,m=e.cloneDeep(p),y=E)}d(f,m)}function l(f,h,_){return e.map(h,function(v){return i(f,v,_)})}function c(f,h){var _=new a;e.forEach(f,function(v){var p=v.graph().root,y=r(v,p,_,h);e.forEach(y.vs,function(m,g){v.node(m).order=g}),o(v,_,y.vs)})}function d(f,h){e.forEach(h,function(_){e.forEach(_,function(v,p){f.node(v).order=p})})}return Zu}var Ju,Np;function v1(){if(Np)return Ju;Np=1;var e=xe(),t=Xe().Graph,n=Pe();Ju={positionX:_,findType1Conflicts:r,findType2Conflicts:i,addConflict:a,hasConflict:s,verticalAlignment:u,horizontalCompaction:l,alignCoordinates:f,findSmallestWidthAlignment:d,balance:h};function r(y,m){var g={};function b(E,I){var q=0,k=0,$=E.length,O=e.last(I);return e.forEach(I,function(M,x){var G=o(y,M),N=G?y.node(G).order:$;(G||M===O)&&(e.forEach(I.slice(k,x+1),function(L){e.forEach(y.predecessors(L),function(A){var V=y.node(A),U=V.order;(U<q||N<U)&&!(V.dummy&&y.node(L).dummy)&&a(g,A,L)})}),k=x+1,q=N)}),I}return e.reduce(m,b),g}function i(y,m){var g={};function b(I,q,k,$,O){var M;e.forEach(e.range(q,k),function(x){M=I[x],y.node(M).dummy&&e.forEach(y.predecessors(M),function(G){var N=y.node(G);N.dummy&&(N.order<$||N.order>O)&&a(g,G,M)})})}function E(I,q){var k=-1,$,O=0;return e.forEach(q,function(M,x){if(y.node(M).dummy==="border"){var G=y.predecessors(M);G.length&&($=y.node(G[0]).order,b(q,O,x,k,$),O=x,k=$)}b(q,O,q.length,$,I.length)}),q}return e.reduce(m,E),g}function o(y,m){if(y.node(m).dummy)return e.find(y.predecessors(m),function(g){return y.node(g).dummy})}function a(y,m,g){if(m>g){var b=m;m=g,g=b}var E=y[m];E||(y[m]=E={}),E[g]=!0}function s(y,m,g){if(m>g){var b=m;m=g,g=b}return e.has(y[m],g)}function u(y,m,g,b){var E={},I={},q={};return e.forEach(m,function(k){e.forEach(k,function($,O){E[$]=$,I[$]=$,q[$]=O})}),e.forEach(m,function(k){var $=-1;e.forEach(k,function(O){var M=b(O);if(M.length){M=e.sortBy(M,function(A){return q[A]});for(var x=(M.length-1)/2,G=Math.floor(x),N=Math.ceil(x);G<=N;++G){var L=M[G];I[O]===O&&$<q[L]&&!s(g,O,L)&&(I[L]=O,I[O]=E[O]=E[L],$=q[L])}}})}),{root:E,align:I}}function l(y,m,g,b,E){var I={},q=c(y,m,g,E),k=E?"borderLeft":"borderRight";function $(x,G){for(var N=q.nodes(),L=N.pop(),A={};L;)A[L]?x(L):(A[L]=!0,N.push(L),N=N.concat(G(L))),L=N.pop()}function O(x){I[x]=q.inEdges(x).reduce(function(G,N){return Math.max(G,I[N.v]+q.edge(N))},0)}function M(x){var G=q.outEdges(x).reduce(function(L,A){return Math.min(L,I[A.w]-q.edge(A))},Number.POSITIVE_INFINITY),N=y.node(x);G!==Number.POSITIVE_INFINITY&&N.borderType!==k&&(I[x]=Math.max(I[x],G))}return $(O,q.predecessors.bind(q)),$(M,q.successors.bind(q)),e.forEach(b,function(x){I[x]=I[g[x]]}),I}function c(y,m,g,b){var E=new t,I=y.graph(),q=v(I.nodesep,I.edgesep,b);return e.forEach(m,function(k){var $;e.forEach(k,function(O){var M=g[O];if(E.setNode(M),$){var x=g[$],G=E.edge(x,M);E.setEdge(x,M,Math.max(q(y,O,$),G||0))}$=O})}),E}function d(y,m){return e.minBy(e.values(m),function(g){var b=Number.NEGATIVE_INFINITY,E=Number.POSITIVE_INFINITY;return e.forIn(g,function(I,q){var k=p(y,q)/2;b=Math.max(I+k,b),E=Math.min(I-k,E)}),b-E})}function f(y,m){var g=e.values(m),b=e.min(g),E=e.max(g);e.forEach(["u","d"],function(I){e.forEach(["l","r"],function(q){var k=I+q,$=y[k],O;if($!==m){var M=e.values($);O=q==="l"?b-e.min(M):E-e.max(M),O&&(y[k]=e.mapValues($,function(x){return x+O}))}})})}function h(y,m){return e.mapValues(y.ul,function(g,b){if(m)return y[m.toLowerCase()][b];var E=e.sortBy(e.map(y,b));return(E[1]+E[2])/2})}function _(y){var m=n.buildLayerMatrix(y),g=e.merge(r(y,m),i(y,m)),b={},E;e.forEach(["u","d"],function(q){E=q==="u"?m:e.values(m).reverse(),e.forEach(["l","r"],function(k){k==="r"&&(E=e.map(E,function(x){return e.values(x).reverse()}));var $=(q==="u"?y.predecessors:y.successors).bind(y),O=u(y,E,g,$),M=l(y,E,O.root,O.align,k==="r");k==="r"&&(M=e.mapValues(M,function(x){return-x})),b[q+k]=M})});var I=d(y,b);return f(b,I),h(b,y.graph().align)}function v(y,m,g){return function(b,E,I){var q=b.node(E),k=b.node(I),$=0,O;if($+=q.width/2,e.has(q,"labelpos"))switch(q.labelpos.toLowerCase()){case"l":O=-q.width/2;break;case"r":O=q.width/2;break}if(O&&($+=g?O:-O),O=0,$+=(q.dummy?m:y)/2,$+=(k.dummy?m:y)/2,$+=k.width/2,e.has(k,"labelpos"))switch(k.labelpos.toLowerCase()){case"l":O=k.width/2;break;case"r":O=-k.width/2;break}return O&&($+=g?O:-O),O=0,$}}function p(y,m){return y.node(m).width}return Ju}var Qu,Ip;function p1(){if(Ip)return Qu;Ip=1;var e=xe(),t=Pe(),n=v1().positionX;Qu=r;function r(o){o=t.asNonCompoundGraph(o),i(o),e.forEach(n(o),function(a,s){o.node(s).x=a})}function i(o){var a=t.buildLayerMatrix(o),s=o.graph().ranksep,u=0;e.forEach(a,function(l){var c=e.max(e.map(l,function(d){return o.node(d).height}));e.forEach(l,function(d){o.node(d).y=u+c/2}),u+=c+s})}return Qu}var el,qp;function g1(){if(qp)return el;qp=1;var e=xe(),t=Z0(),n=J0(),r=e1(),i=Pe().normalizeRanks,o=t1(),a=Pe().removeEmptyRanks,s=n1(),u=r1(),l=i1(),c=h1(),d=p1(),f=Pe(),h=Xe().Graph;el=_;function _(R,P){var D=P&&P.debugTiming?f.time:f.notime;D("layout",function(){var F=D("  buildLayoutGraph",function(){return $(R)});D("  runLayout",function(){v(F,D)}),D("  updateInputGraph",function(){p(R,F)})})}function v(R,P){P("    makeSpaceForEdgeLabels",function(){O(R)}),P("    removeSelfEdges",function(){X(R)}),P("    acyclic",function(){t.run(R)}),P("    nestingGraph.run",function(){s.run(R)}),P("    rank",function(){r(f.asNonCompoundGraph(R))}),P("    injectEdgeLabelProxies",function(){M(R)}),P("    removeEmptyRanks",function(){a(R)}),P("    nestingGraph.cleanup",function(){s.cleanup(R)}),P("    normalizeRanks",function(){i(R)}),P("    assignRankMinMax",function(){x(R)}),P("    removeEdgeLabelProxies",function(){G(R)}),P("    normalize.run",function(){n.run(R)}),P("    parentDummyChains",function(){o(R)}),P("    addBorderSegments",function(){u(R)}),P("    order",function(){c(R)}),P("    insertSelfEdges",function(){j(R)}),P("    adjustCoordinateSystem",function(){l.adjust(R)}),P("    position",function(){d(R)}),P("    positionSelfEdges",function(){J(R)}),P("    removeBorderNodes",function(){U(R)}),P("    normalize.undo",function(){n.undo(R)}),P("    fixupEdgeLabelCoords",function(){A(R)}),P("    undoCoordinateSystem",function(){l.undo(R)}),P("    translateGraph",function(){N(R)}),P("    assignNodeIntersects",function(){L(R)}),P("    reversePoints",function(){V(R)}),P("    acyclic.undo",function(){t.undo(R)})}function p(R,P){e.forEach(R.nodes(),function(D){var F=R.node(D),Y=P.node(D);F&&(F.x=Y.x,F.y=Y.y,P.children(D).length&&(F.width=Y.width,F.height=Y.height))}),e.forEach(R.edges(),function(D){var F=R.edge(D),Y=P.edge(D);F.points=Y.points,e.has(Y,"x")&&(F.x=Y.x,F.y=Y.y)}),R.graph().width=P.graph().width,R.graph().height=P.graph().height}var y=["nodesep","edgesep","ranksep","marginx","marginy"],m={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},g=["acyclicer","ranker","rankdir","align"],b=["width","height"],E={width:0,height:0},I=["minlen","weight","width","height","labeloffset"],q={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},k=["labelpos"];function $(R){var P=new h({multigraph:!0,compound:!0}),D=le(R.graph());return P.setGraph(e.merge({},m,ie(D,y),e.pick(D,g))),e.forEach(R.nodes(),function(F){var Y=le(R.node(F));P.setNode(F,e.defaults(ie(Y,b),E)),P.setParent(F,R.parent(F))}),e.forEach(R.edges(),function(F){var Y=le(R.edge(F));P.setEdge(F,e.merge({},q,ie(Y,I),e.pick(Y,k)))}),P}function O(R){var P=R.graph();P.ranksep/=2,e.forEach(R.edges(),function(D){var F=R.edge(D);F.minlen*=2,F.labelpos.toLowerCase()!=="c"&&(P.rankdir==="TB"||P.rankdir==="BT"?F.width+=F.labeloffset:F.height+=F.labeloffset)})}function M(R){e.forEach(R.edges(),function(P){var D=R.edge(P);if(D.width&&D.height){var F=R.node(P.v),Y=R.node(P.w),re={rank:(Y.rank-F.rank)/2+F.rank,e:P};f.addDummyNode(R,"edge-proxy",re,"_ep")}})}function x(R){var P=0;e.forEach(R.nodes(),function(D){var F=R.node(D);F.borderTop&&(F.minRank=R.node(F.borderTop).rank,F.maxRank=R.node(F.borderBottom).rank,P=e.max(P,F.maxRank))}),R.graph().maxRank=P}function G(R){e.forEach(R.nodes(),function(P){var D=R.node(P);D.dummy==="edge-proxy"&&(R.edge(D.e).labelRank=D.rank,R.removeNode(P))})}function N(R){var P=Number.POSITIVE_INFINITY,D=0,F=Number.POSITIVE_INFINITY,Y=0,re=R.graph(),oe=re.marginx||0,fe=re.marginy||0;function ce(ue){var S=ue.x,w=ue.y,C=ue.width,T=ue.height;P=Math.min(P,S-C/2),D=Math.max(D,S+C/2),F=Math.min(F,w-T/2),Y=Math.max(Y,w+T/2)}e.forEach(R.nodes(),function(ue){ce(R.node(ue))}),e.forEach(R.edges(),function(ue){var S=R.edge(ue);e.has(S,"x")&&ce(S)}),P-=oe,F-=fe,e.forEach(R.nodes(),function(ue){var S=R.node(ue);S.x-=P,S.y-=F}),e.forEach(R.edges(),function(ue){var S=R.edge(ue);e.forEach(S.points,function(w){w.x-=P,w.y-=F}),e.has(S,"x")&&(S.x-=P),e.has(S,"y")&&(S.y-=F)}),re.width=D-P+oe,re.height=Y-F+fe}function L(R){e.forEach(R.edges(),function(P){var D=R.edge(P),F=R.node(P.v),Y=R.node(P.w),re,oe;D.points?(re=D.points[0],oe=D.points[D.points.length-1]):(D.points=[],re=Y,oe=F),D.points.unshift(f.intersectRect(F,re)),D.points.push(f.intersectRect(Y,oe))})}function A(R){e.forEach(R.edges(),function(P){var D=R.edge(P);if(e.has(D,"x"))switch((D.labelpos==="l"||D.labelpos==="r")&&(D.width-=D.labeloffset),D.labelpos){case"l":D.x-=D.width/2+D.labeloffset;break;case"r":D.x+=D.width/2+D.labeloffset;break}})}function V(R){e.forEach(R.edges(),function(P){var D=R.edge(P);D.reversed&&D.points.reverse()})}function U(R){e.forEach(R.nodes(),function(P){if(R.children(P).length){var D=R.node(P),F=R.node(D.borderTop),Y=R.node(D.borderBottom),re=R.node(e.last(D.borderLeft)),oe=R.node(e.last(D.borderRight));D.width=Math.abs(oe.x-re.x),D.height=Math.abs(Y.y-F.y),D.x=re.x+D.width/2,D.y=F.y+D.height/2}}),e.forEach(R.nodes(),function(P){R.node(P).dummy==="border"&&R.removeNode(P)})}function X(R){e.forEach(R.edges(),function(P){if(P.v===P.w){var D=R.node(P.v);D.selfEdges||(D.selfEdges=[]),D.selfEdges.push({e:P,label:R.edge(P)}),R.removeEdge(P)}})}function j(R){var P=f.buildLayerMatrix(R);e.forEach(P,function(D){var F=0;e.forEach(D,function(Y,re){var oe=R.node(Y);oe.order=re+F,e.forEach(oe.selfEdges,function(fe){f.addDummyNode(R,"selfedge",{width:fe.label.width,height:fe.label.height,rank:oe.rank,order:re+ ++F,e:fe.e,label:fe.label},"_se")}),delete oe.selfEdges})})}function J(R){e.forEach(R.nodes(),function(P){var D=R.node(P);if(D.dummy==="selfedge"){var F=R.node(D.e.v),Y=F.x+F.width/2,re=F.y,oe=D.x-Y,fe=F.height/2;R.setEdge(D.e,D.label),R.removeNode(P),D.label.points=[{x:Y+2*oe/3,y:re-fe},{x:Y+5*oe/6,y:re-fe},{x:Y+oe,y:re},{x:Y+5*oe/6,y:re+fe},{x:Y+2*oe/3,y:re+fe}],D.label.x=D.x,D.label.y=D.y}})}function ie(R,P){return e.mapValues(e.pick(R,P),Number)}function le(R){var P={};return e.forEach(R,function(D,F){P[F.toLowerCase()]=D}),P}return el}var tl,Tp;function y1(){if(Tp)return tl;Tp=1;var e=xe(),t=Pe(),n=Xe().Graph;tl={debugOrdering:r};function r(i){var o=t.buildLayerMatrix(i),a=new n({compound:!0,multigraph:!0}).setGraph({});return e.forEach(i.nodes(),function(s){a.setNode(s,{label:s}),a.setParent(s,"layer"+i.node(s).rank)}),e.forEach(i.edges(),function(s){a.setEdge(s.v,s.w,{},s.name)}),e.forEach(o,function(s,u){var l="layer"+u;a.setNode(l,{rank:"same"}),e.reduce(s,function(c,d){return a.setEdge(c,d,{style:"invis"}),d})}),a}return tl}var nl,Rp;function m1(){return Rp||(Rp=1,nl="0.8.5"),nl}var rl,Ap;function _1(){return Ap||(Ap=1,rl={graphlib:Xe(),layout:g1(),debug:y1(),util:{time:Pe().time,notime:Pe().notime},version:m1()}),rl}var b1=_1();const il=Bm(b1);function gn(e){return Sg()?(Un(e),!0):!1}function st(e){return typeof e=="function"?e():ee(e)}const w1=typeof window!="undefined"&&typeof document!="undefined",E1=e=>typeof e!="undefined",S1=Object.prototype.toString,x1=e=>S1.call(e)==="[object Object]",C1=()=>{};function N1(e,t){function n(...r){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(o)})}return n}const qy=e=>e();function I1(e=qy){const t=ye(!0);function n(){t.value=!1}function r(){t.value=!0}const i=(...o)=>{t.value&&e(...o)};return{isActive:Zm(t),pause:n,resume:r,eventFilter:i}}function Mp(e,t=!1,n="Timeout"){return new Promise((r,i)=>{setTimeout(t?()=>i(n):r,e)})}function q1(e,t,n={}){const o=n,{eventFilter:r=qy}=o,i=Dt(o,["eventFilter"]);return _e(e,N1(r,t),i)}function $t(e,t,n={}){const c=n,{eventFilter:r}=c,i=Dt(c,["eventFilter"]),{eventFilter:o,pause:a,resume:s,isActive:u}=I1(r);return{stop:q1(e,t,ge(H({},i),{eventFilter:o})),pause:a,resume:s,isActive:u}}function T1(e,t={}){if(!Al(e))return Xm(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const r in e.value)n[r]=Wm(()=>({get(){return e.value[r]},set(i){var o;if((o=st(t.replaceRef))!=null?o:!0)if(Array.isArray(e.value)){const s=[...e.value];s[r]=i,e.value=s}else{const s=ge(H({},e.value),{[r]:i});Object.setPrototypeOf(s,Object.getPrototypeOf(e.value)),e.value=s}else e.value[r]=i}}));return n}function gl(e,t=!1){function n(d,{flush:f="sync",deep:h=!1,timeout:_,throwOnTimeout:v}={}){let p=null;const m=[new Promise(g=>{p=_e(e,b=>{d(b)!==t&&(p==null||p(),g(b))},{flush:f,deep:h,immediate:!0})})];return _!=null&&m.push(Mp(_,v).then(()=>st(e)).finally(()=>p==null?void 0:p())),Promise.race(m)}function r(d,f){if(!Al(d))return n(b=>b===d,f);const{flush:h="sync",deep:_=!1,timeout:v,throwOnTimeout:p}=f!=null?f:{};let y=null;const g=[new Promise(b=>{y=_e([e,d],([E,I])=>{t!==(E===I)&&(y==null||y(),b(E))},{flush:h,deep:_,immediate:!0})})];return v!=null&&g.push(Mp(v,p).then(()=>st(e)).finally(()=>(y==null||y(),st(e)))),Promise.race(g)}function i(d){return n(f=>!!f,d)}function o(d){return r(null,d)}function a(d){return r(void 0,d)}function s(d){return n(Number.isNaN,d)}function u(d,f){return n(h=>{const _=Array.from(h);return _.includes(d)||_.includes(st(d))},f)}function l(d){return c(1,d)}function c(d=1,f){let h=-1;return n(()=>(h+=1,h>=d),f)}return Array.isArray(st(e))?{toMatch:n,toContains:u,changed:l,changedTimes:c,get not(){return gl(e,!t)}}:{toMatch:n,toBe:r,toBeTruthy:i,toBeNull:o,toBeNaN:s,toBeUndefined:a,changed:l,changedTimes:c,get not(){return gl(e,!t)}}}function yl(e){return gl(e)}function R1(e){var t;const n=st(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Ty=w1?window:void 0;function Ry(...e){let t,n,r,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,i]=e,t=Ty):[t,n,r,i]=e,!t)return C1;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],a=()=>{o.forEach(c=>c()),o.length=0},s=(c,d,f,h)=>(c.addEventListener(d,f,h),()=>c.removeEventListener(d,f,h)),u=_e(()=>[R1(t),st(i)],([c,d])=>{if(a(),!c)return;const f=x1(d)?H({},d):d;o.push(...n.flatMap(h=>r.map(_=>s(c,h,_,f))))},{immediate:!0,flush:"post"}),l=()=>{u(),a()};return gn(l),l}function A1(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Pp(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:i=Ty,eventName:o="keydown",passive:a=!1,dedupe:s=!1}=r,u=A1(t);return Ry(i,o,c=>{c.repeat&&st(s)||u(c)&&n(c)},a)}function M1(e){return JSON.parse(JSON.stringify(e))}function ol(e,t,n,r={}){var i,o,a;const{clone:s=!1,passive:u=!1,eventName:l,deep:c=!1,defaultValue:d,shouldEmit:f}=r,h=Wt(),_=n||(h==null?void 0:h.emit)||((i=h==null?void 0:h.$emit)==null?void 0:i.bind(h))||((a=(o=h==null?void 0:h.proxy)==null?void 0:o.$emit)==null?void 0:a.bind(h==null?void 0:h.proxy));let v=l;t||(t="modelValue"),v=v||`update:${t.toString()}`;const p=g=>s?typeof s=="function"?s(g):M1(g):g,y=()=>E1(e[t])?p(e[t]):d,m=g=>{f?f(g)&&_(v,g):_(v,g)};if(u){const g=y(),b=ye(g);let E=!1;return _e(()=>e[t],I=>{E||(E=!0,b.value=p(I),Le(()=>E=!1))}),_e(b,I=>{!E&&(I!==e[t]||c)&&m(I)},{deep:c}),b}else return de({get(){return y()},set(g){m(g)}})}var P1={value:()=>{}};function Tr(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Yn(n)}function Yn(e){this._=e}function k1(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Yn.prototype=Tr.prototype={constructor:Yn,on:function(e,t){var n=this._,r=k1(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=O1(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=kp(n[i],e.name,t);else if(t==null)for(i in n)n[i]=kp(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Yn(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function O1(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function kp(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=P1,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ml="http://www.w3.org/1999/xhtml";const Op={svg:"http://www.w3.org/2000/svg",xhtml:ml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Op.hasOwnProperty(t)?{space:Op[t],local:e}:e}function D1(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ml&&t.documentElement.namespaceURI===ml?t.createElement(e):t.createElementNS(n,e)}}function $1(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ay(e){var t=Rr(e);return(t.local?$1:D1)(t)}function L1(){}function Zl(e){return e==null?L1:function(){return this.querySelector(e)}}function B1(e){typeof e!="function"&&(e=Zl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),u,l,c=0;c<a;++c)(u=o[c])&&(l=e.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new Oe(r,this._parents)}function z1(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function F1(){return[]}function My(e){return e==null?F1:function(){return this.querySelectorAll(e)}}function G1(e){return function(){return z1(e.apply(this,arguments))}}function V1(e){typeof e=="function"?e=G1(e):e=My(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&(r.push(e.call(u,u.__data__,l,a)),i.push(u));return new Oe(r,i)}function Py(e){return function(){return this.matches(e)}}function ky(e){return function(t){return t.matches(e)}}var H1=Array.prototype.find;function U1(e){return function(){return H1.call(this.children,e)}}function j1(){return this.firstElementChild}function Y1(e){return this.select(e==null?j1:U1(typeof e=="function"?e:ky(e)))}var K1=Array.prototype.filter;function X1(){return Array.from(this.children)}function W1(e){return function(){return K1.call(this.children,e)}}function Z1(e){return this.selectAll(e==null?X1:W1(typeof e=="function"?e:ky(e)))}function J1(e){typeof e!="function"&&(e=Py(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&s.push(u);return new Oe(r,this._parents)}function Oy(e){return new Array(e.length)}function Q1(){return new Oe(this._enter||this._groups.map(Oy),this._parents)}function tr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}tr.prototype={constructor:tr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ew(e){return function(){return e}}function tw(e,t,n,r,i,o){for(var a=0,s,u=t.length,l=o.length;a<l;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new tr(e,o[a]);for(;a<u;++a)(s=t[a])&&(i[a]=s)}function nw(e,t,n,r,i,o,a){var s,u,l=new Map,c=t.length,d=o.length,f=new Array(c),h;for(s=0;s<c;++s)(u=t[s])&&(f[s]=h=a.call(u,u.__data__,s,t)+"",l.has(h)?i[s]=u:l.set(h,u));for(s=0;s<d;++s)h=a.call(e,o[s],s,o)+"",(u=l.get(h))?(r[s]=u,u.__data__=o[s],l.delete(h)):n[s]=new tr(e,o[s]);for(s=0;s<c;++s)(u=t[s])&&l.get(f[s])===u&&(i[s]=u)}function rw(e){return e.__data__}function iw(e,t){if(!arguments.length)return Array.from(this,rw);var n=t?nw:tw,r=this._parents,i=this._groups;typeof e!="function"&&(e=ew(e));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],d=i[l],f=d.length,h=ow(e.call(c,c&&c.__data__,l,r)),_=h.length,v=s[l]=new Array(_),p=a[l]=new Array(_),y=u[l]=new Array(f);n(c,d,v,p,y,h,t);for(var m=0,g=0,b,E;m<_;++m)if(b=v[m]){for(m>=g&&(g=m+1);!(E=p[g])&&++g<_;);b._next=E||null}}return a=new Oe(a,r),a._enter=s,a._exit=u,a}function ow(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function aw(){return new Oe(this._exit||this._groups.map(Oy),this._parents)}function sw(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function uw(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l=n[u],c=r[u],d=l.length,f=s[u]=new Array(d),h,_=0;_<d;++_)(h=l[_]||c[_])&&(f[_]=h);for(;u<i;++u)s[u]=n[u];return new Oe(s,this._parents)}function lw(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function cw(e){e||(e=dw);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,u=i[o]=new Array(s),l,c=0;c<s;++c)(l=a[c])&&(u[c]=l);u.sort(t)}return new Oe(i,this._parents).order()}function dw(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function fw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function hw(){return Array.from(this)}function vw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function pw(){let e=0;for(const t of this)++e;return e}function gw(){return!this.node()}function yw(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function mw(e){return function(){this.removeAttribute(e)}}function _w(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bw(e,t){return function(){this.setAttribute(e,t)}}function ww(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ew(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Sw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function xw(e,t){var n=Rr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?_w:mw:typeof t=="function"?n.local?Sw:Ew:n.local?ww:bw)(n,t))}function Dy(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Cw(e){return function(){this.style.removeProperty(e)}}function Nw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Iw(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function qw(e,t,n){return arguments.length>1?this.each((t==null?Cw:typeof t=="function"?Iw:Nw)(e,t,n==null?"":n)):Ht(this.node(),e)}function Ht(e,t){return e.style.getPropertyValue(t)||Dy(e).getComputedStyle(e,null).getPropertyValue(t)}function Tw(e){return function(){delete this[e]}}function Rw(e,t){return function(){this[e]=t}}function Aw(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Mw(e,t){return arguments.length>1?this.each((t==null?Tw:typeof t=="function"?Aw:Rw)(e,t)):this.node()[e]}function $y(e){return e.trim().split(/^|\s+/)}function Jl(e){return e.classList||new Ly(e)}function Ly(e){this._node=e,this._names=$y(e.getAttribute("class")||"")}Ly.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function By(e,t){for(var n=Jl(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function zy(e,t){for(var n=Jl(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Pw(e){return function(){By(this,e)}}function kw(e){return function(){zy(this,e)}}function Ow(e,t){return function(){(t.apply(this,arguments)?By:zy)(this,e)}}function Dw(e,t){var n=$y(e+"");if(arguments.length<2){for(var r=Jl(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Ow:t?Pw:kw)(n,t))}function $w(){this.textContent=""}function Lw(e){return function(){this.textContent=e}}function Bw(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function zw(e){return arguments.length?this.each(e==null?$w:(typeof e=="function"?Bw:Lw)(e)):this.node().textContent}function Fw(){this.innerHTML=""}function Gw(e){return function(){this.innerHTML=e}}function Vw(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function Hw(e){return arguments.length?this.each(e==null?Fw:(typeof e=="function"?Vw:Gw)(e)):this.node().innerHTML}function Uw(){this.nextSibling&&this.parentNode.appendChild(this)}function jw(){return this.each(Uw)}function Yw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Kw(){return this.each(Yw)}function Xw(e){var t=typeof e=="function"?e:Ay(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ww(){return null}function Zw(e,t){var n=typeof e=="function"?e:Ay(e),r=t==null?Ww:typeof t=="function"?t:Zl(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Jw(){var e=this.parentNode;e&&e.removeChild(this)}function Qw(){return this.each(Jw)}function eE(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tE(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function nE(e){return this.select(e?tE:eE)}function rE(e){return arguments.length?this.property("__data__",e):this.node().__data__}function iE(e){return function(t){e.call(this,t,this.__data__)}}function oE(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function aE(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function sE(e,t,n){return function(){var r=this.__on,i,o=iE(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function uE(e,t,n){var r=oE(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?sE:aE,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function Fy(e,t,n){var r=Dy(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function lE(e,t){return function(){return Fy(this,e,t)}}function cE(e,t){return function(){return Fy(this,e,t.apply(this,arguments))}}function dE(e,t){return this.each((typeof t=="function"?cE:lE)(e,t))}function*fE(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Gy=[null];function Oe(e,t){this._groups=e,this._parents=t}function Tn(){return new Oe([[document.documentElement]],Gy)}function hE(){return this}Oe.prototype=Tn.prototype={constructor:Oe,select:B1,selectAll:V1,selectChild:Y1,selectChildren:Z1,filter:J1,data:iw,enter:Q1,exit:aw,join:sw,merge:uw,selection:hE,order:lw,sort:cw,call:fw,nodes:hw,node:vw,size:pw,empty:gw,each:yw,attr:xw,style:qw,property:Mw,classed:Dw,text:zw,html:Hw,raise:jw,lower:Kw,append:Xw,insert:Zw,remove:Qw,clone:nE,datum:rE,on:uE,dispatch:dE,[Symbol.iterator]:fE};function je(e){return typeof e=="string"?new Oe([[document.querySelector(e)]],[document.documentElement]):new Oe([[e]],Gy)}function vE(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Qe(e,t){if(e=vE(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const pE={passive:!1},yn={capture:!0,passive:!1};function al(e){e.stopImmediatePropagation()}function Bt(e){e.preventDefault(),e.stopImmediatePropagation()}function Vy(e){var t=e.document.documentElement,n=je(e).on("dragstart.drag",Bt,yn);"onselectstart"in t?n.on("selectstart.drag",Bt,yn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Hy(e,t){var n=e.document.documentElement,r=je(e).on("dragstart.drag",null);t&&(r.on("click.drag",Bt,yn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Dn=e=>()=>e;function _l(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}_l.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function gE(e){return!e.ctrlKey&&!e.button}function yE(){return this.parentNode}function mE(e,t){return t==null?{x:e.x,y:e.y}:t}function _E(){return navigator.maxTouchPoints||"ontouchstart"in this}function bE(){var e=gE,t=yE,n=mE,r=_E,i={},o=Tr("start","drag","end"),a=0,s,u,l,c,d=0;function f(b){b.on("mousedown.drag",h).filter(r).on("touchstart.drag",p).on("touchmove.drag",y,pE).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(b,E){if(!(c||!e.call(this,b,E))){var I=g(this,t.call(this,b,E),b,E,"mouse");I&&(je(b.view).on("mousemove.drag",_,yn).on("mouseup.drag",v,yn),Vy(b.view),al(b),l=!1,s=b.clientX,u=b.clientY,I("start",b))}}function _(b){if(Bt(b),!l){var E=b.clientX-s,I=b.clientY-u;l=E*E+I*I>d}i.mouse("drag",b)}function v(b){je(b.view).on("mousemove.drag mouseup.drag",null),Hy(b.view,l),Bt(b),i.mouse("end",b)}function p(b,E){if(e.call(this,b,E)){var I=b.changedTouches,q=t.call(this,b,E),k=I.length,$,O;for($=0;$<k;++$)(O=g(this,q,b,E,I[$].identifier,I[$]))&&(al(b),O("start",b,I[$]))}}function y(b){var E=b.changedTouches,I=E.length,q,k;for(q=0;q<I;++q)(k=i[E[q].identifier])&&(Bt(b),k("drag",b,E[q]))}function m(b){var E=b.changedTouches,I=E.length,q,k;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),q=0;q<I;++q)(k=i[E[q].identifier])&&(al(b),k("end",b,E[q]))}function g(b,E,I,q,k,$){var O=o.copy(),M=Qe($||I,E),x,G,N;if((N=n.call(b,new _l("beforestart",{sourceEvent:I,target:f,identifier:k,active:a,x:M[0],y:M[1],dx:0,dy:0,dispatch:O}),q))!=null)return x=N.x-M[0]||0,G=N.y-M[1]||0,function L(A,V,U){var X=M,j;switch(A){case"start":i[k]=L,j=a++;break;case"end":delete i[k],--a;case"drag":M=Qe(U||V,E),j=a;break}O.call(A,b,new _l(A,{sourceEvent:V,subject:N,target:f,identifier:k,active:j,x:M[0]+x,y:M[1]+G,dx:M[0]-X[0],dy:M[1]-X[1],dispatch:O}),q)}}return f.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Dn(!!b),f):e},f.container=function(b){return arguments.length?(t=typeof b=="function"?b:Dn(b),f):t},f.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Dn(b),f):n},f.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Dn(!!b),f):r},f.on=function(){var b=o.on.apply(o,arguments);return b===o?f:b},f.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,f):Math.sqrt(d)},f}function Ql(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Uy(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Rn(){}var mn=.7,nr=1/mn,zt="\\s*([+-]?\\d+)\\s*",_n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wE=/^#([0-9a-f]{3,8})$/,EE=new RegExp(`^rgb\\(${zt},${zt},${zt}\\)$`),SE=new RegExp(`^rgb\\(${nt},${nt},${nt}\\)$`),xE=new RegExp(`^rgba\\(${zt},${zt},${zt},${_n}\\)$`),CE=new RegExp(`^rgba\\(${nt},${nt},${nt},${_n}\\)$`),NE=new RegExp(`^hsl\\(${_n},${nt},${nt}\\)$`),IE=new RegExp(`^hsla\\(${_n},${nt},${nt},${_n}\\)$`),Dp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ql(Rn,qt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$p,formatHex:$p,formatHex8:qE,formatHsl:TE,formatRgb:Lp,toString:Lp});function $p(){return this.rgb().formatHex()}function qE(){return this.rgb().formatHex8()}function TE(){return jy(this).formatHsl()}function Lp(){return this.rgb().formatRgb()}function qt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=wE.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Bp(t):n===3?new Me(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$n(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$n(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=EE.exec(e))?new Me(t[1],t[2],t[3],1):(t=SE.exec(e))?new Me(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xE.exec(e))?$n(t[1],t[2],t[3],t[4]):(t=CE.exec(e))?$n(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=NE.exec(e))?Gp(t[1],t[2]/100,t[3]/100,1):(t=IE.exec(e))?Gp(t[1],t[2]/100,t[3]/100,t[4]):Dp.hasOwnProperty(e)?Bp(Dp[e]):e==="transparent"?new Me(NaN,NaN,NaN,0):null}function Bp(e){return new Me(e>>16&255,e>>8&255,e&255,1)}function $n(e,t,n,r){return r<=0&&(e=t=n=NaN),new Me(e,t,n,r)}function RE(e){return e instanceof Rn||(e=qt(e)),e?(e=e.rgb(),new Me(e.r,e.g,e.b,e.opacity)):new Me}function bl(e,t,n,r){return arguments.length===1?RE(e):new Me(e,t,n,r==null?1:r)}function Me(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ql(Me,bl,Uy(Rn,{brighter(e){return e=e==null?nr:Math.pow(nr,e),new Me(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mn:Math.pow(mn,e),new Me(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Me(Nt(this.r),Nt(this.g),Nt(this.b),rr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zp,formatHex:zp,formatHex8:AE,formatRgb:Fp,toString:Fp}));function zp(){return`#${Ct(this.r)}${Ct(this.g)}${Ct(this.b)}`}function AE(){return`#${Ct(this.r)}${Ct(this.g)}${Ct(this.b)}${Ct((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fp(){const e=rr(this.opacity);return`${e===1?"rgb(":"rgba("}${Nt(this.r)}, ${Nt(this.g)}, ${Nt(this.b)}${e===1?")":`, ${e})`}`}function rr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Nt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ct(e){return e=Nt(e),(e<16?"0":"")+e.toString(16)}function Gp(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ye(e,t,n,r)}function jy(e){if(e instanceof Ye)return new Ye(e.h,e.s,e.l,e.opacity);if(e instanceof Rn||(e=qt(e)),!e)return new Ye;if(e instanceof Ye)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Ye(a,s,u,e.opacity)}function ME(e,t,n,r){return arguments.length===1?jy(e):new Ye(e,t,n,r==null?1:r)}function Ye(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ql(Ye,ME,Uy(Rn,{brighter(e){return e=e==null?nr:Math.pow(nr,e),new Ye(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mn:Math.pow(mn,e),new Ye(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Me(sl(e>=240?e-240:e+120,i,r),sl(e,i,r),sl(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ye(Vp(this.h),Ln(this.s),Ln(this.l),rr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rr(this.opacity);return`${e===1?"hsl(":"hsla("}${Vp(this.h)}, ${Ln(this.s)*100}%, ${Ln(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Vp(e){return e=(e||0)%360,e<0?e+360:e}function Ln(e){return Math.max(0,Math.min(1,e||0))}function sl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ec=e=>()=>e;function PE(e,t){return function(n){return e+n*t}}function kE(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function OE(e){return(e=+e)==1?Yy:function(t,n){return n-t?kE(t,n,e):ec(isNaN(t)?n:t)}}function Yy(e,t){var n=t-e;return n?PE(e,n):ec(isNaN(e)?t:e)}const ir=(function e(t){var n=OE(t);function r(i,o){var a=n((i=bl(i)).r,(o=bl(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),l=Yy(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r})(1);function DE(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function $E(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function LE(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=hn(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function BE(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function et(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function zE(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=hn(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var wl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ul=new RegExp(wl.source,"g");function FE(e){return function(){return e}}function GE(e){return function(t){return e(t)+""}}function Ky(e,t){var n=wl.lastIndex=ul.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(e=e+"",t=t+"";(r=wl.exec(e))&&(i=ul.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:et(r,i)})),n=ul.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?GE(u[0].x):FE(t):(t=u.length,function(l){for(var c=0,d;c<t;++c)s[(d=u[c]).i]=d.x(l);return s.join("")})}function hn(e,t){var n=typeof t,r;return t==null||n==="boolean"?ec(t):(n==="number"?et:n==="string"?(r=qt(t))?(t=r,ir):Ky:t instanceof qt?ir:t instanceof Date?BE:$E(t)?DE:Array.isArray(t)?LE:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zE:et)(e,t)}var Hp=180/Math.PI,El={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xy(e,t,n,r,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Hp,skewX:Math.atan(u)*Hp,scaleX:a,scaleY:s}}var Bn;function VE(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?El:Xy(t.a,t.b,t.c,t.d,t.e,t.f)}function HE(e){return e==null||(Bn||(Bn=document.createElementNS("http://www.w3.org/2000/svg","g")),Bn.setAttribute("transform",e),!(e=Bn.transform.baseVal.consolidate()))?El:(e=e.matrix,Xy(e.a,e.b,e.c,e.d,e.e,e.f))}function Wy(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,d,f,h,_){if(l!==d||c!==f){var v=h.push("translate(",null,t,null,n);_.push({i:v-4,x:et(l,d)},{i:v-2,x:et(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function a(l,c,d,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:et(l,c)})):c&&d.push(i(d)+"rotate("+c+r)}function s(l,c,d,f){l!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:et(l,c)}):c&&d.push(i(d)+"skewX("+c+r)}function u(l,c,d,f,h,_){if(l!==d||c!==f){var v=h.push(i(h)+"scale(",null,",",null,")");_.push({i:v-4,x:et(l,d)},{i:v-2,x:et(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(l,c){var d=[],f=[];return l=e(l),c=e(c),o(l.translateX,l.translateY,c.translateX,c.translateY,d,f),a(l.rotate,c.rotate,d,f),s(l.skewX,c.skewX,d,f),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,d,f),l=c=null,function(h){for(var _=-1,v=f.length,p;++_<v;)d[(p=f[_]).i]=p.x(h);return d.join("")}}}var UE=Wy(VE,"px, ","px)","deg)"),jE=Wy(HE,", ",")",")"),YE=1e-12;function Up(e){return((e=Math.exp(e))+1/e)/2}function KE(e){return((e=Math.exp(e))-1/e)/2}function XE(e){return((e=Math.exp(2*e))-1)/(e+1)}const Kn=(function e(t,n,r){function i(o,a){var s=o[0],u=o[1],l=o[2],c=a[0],d=a[1],f=a[2],h=c-s,_=d-u,v=h*h+_*_,p,y;if(v<YE)y=Math.log(f/l)/t,p=function(q){return[s+q*h,u+q*_,l*Math.exp(t*q*y)]};else{var m=Math.sqrt(v),g=(f*f-l*l+r*v)/(2*l*n*m),b=(f*f-l*l-r*v)/(2*f*n*m),E=Math.log(Math.sqrt(g*g+1)-g),I=Math.log(Math.sqrt(b*b+1)-b);y=(I-E)/t,p=function(q){var k=q*y,$=Up(E),O=l/(n*m)*($*XE(t*k+E)-KE(E));return[s+O*h,u+O*_,l*$/Up(t*k+E)]}}return p.duration=y*1e3*t/Math.SQRT2,p}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,u=s*s;return e(a,s,u)},i})(Math.SQRT2,2,4);var Ut=0,cn=0,on=0,Zy=1e3,or,dn,ar=0,Tt=0,Ar=0,bn=typeof performance=="object"&&performance.now?performance:Date,Jy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function tc(){return Tt||(Jy(WE),Tt=bn.now()+Ar)}function WE(){Tt=0}function sr(){this._call=this._time=this._next=null}sr.prototype=Qy.prototype={constructor:sr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?tc():+n)+(t==null?0:+t),!this._next&&dn!==this&&(dn?dn._next=this:or=this,dn=this),this._call=e,this._time=n,Sl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sl())}};function Qy(e,t,n){var r=new sr;return r.restart(e,t,n),r}function ZE(){tc(),++Ut;for(var e=or,t;e;)(t=Tt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ut}function jp(){Tt=(ar=bn.now())+Ar,Ut=cn=0;try{ZE()}finally{Ut=0,QE(),Tt=0}}function JE(){var e=bn.now(),t=e-ar;t>Zy&&(Ar-=t,ar=e)}function QE(){for(var e,t=or,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:or=n);dn=e,Sl(r)}function Sl(e){if(!Ut){cn&&(cn=clearTimeout(cn));var t=e-Tt;t>24?(e<1/0&&(cn=setTimeout(jp,e-bn.now()-Ar)),on&&(on=clearInterval(on))):(on||(ar=bn.now(),on=setInterval(JE,Zy)),Ut=1,Jy(jp))}}function Yp(e,t,n){var r=new sr;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var eS=Tr("start","end","cancel","interrupt"),tS=[],em=0,Kp=1,xl=2,Xn=3,Xp=4,Cl=5,Wn=6;function Mr(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;nS(e,n,{name:t,index:r,group:i,on:eS,tween:tS,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:em})}function nc(e,t){var n=Ze(e,t);if(n.state>em)throw new Error("too late; already scheduled");return n}function it(e,t){var n=Ze(e,t);if(n.state>Xn)throw new Error("too late; already running");return n}function Ze(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function nS(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Qy(o,0,n.time);function o(l){n.state=Kp,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var c,d,f,h;if(n.state!==Kp)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Xn)return Yp(a);h.state===Xp?(h.state=Wn,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=Wn,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Yp(function(){n.state===Xn&&(n.state=Xp,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=xl,n.on.call("start",e,e.__data__,n.index,n.group),n.state===xl){for(n.state=Xn,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=Cl,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===Cl&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Wn,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function Zn(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>xl&&r.state<Cl,r.state=Wn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function rS(e){return this.each(function(){Zn(this,e)})}function iS(e,t){var n,r;return function(){var i=it(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function oS(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=it(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function aS(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ze(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?iS:oS)(n,e,t))}function rc(e,t,n){var r=e._id;return e.each(function(){var i=it(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ze(i,r).value[t]}}function tm(e,t){var n;return(typeof t=="number"?et:t instanceof qt?ir:(n=qt(t))?(t=n,ir):Ky)(e,t)}function sS(e){return function(){this.removeAttribute(e)}}function uS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lS(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function cS(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function dS(e,t,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s)))}}function fS(e,t,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s)))}}function hS(e,t){var n=Rr(e),r=n==="transform"?jE:tm;return this.attrTween(e,typeof t=="function"?(n.local?fS:dS)(n,r,rc(this,"attr."+e,t)):t==null?(n.local?uS:sS)(n):(n.local?cS:lS)(n,r,t))}function vS(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function pS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function gS(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&pS(e,o)),n}return i._value=t,i}function yS(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&vS(e,o)),n}return i._value=t,i}function mS(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Rr(e);return this.tween(n,(r.local?gS:yS)(r,t))}function _S(e,t){return function(){nc(this,e).delay=+t.apply(this,arguments)}}function bS(e,t){return t=+t,function(){nc(this,e).delay=t}}function wS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_S:bS)(t,e)):Ze(this.node(),t).delay}function ES(e,t){return function(){it(this,e).duration=+t.apply(this,arguments)}}function SS(e,t){return t=+t,function(){it(this,e).duration=t}}function xS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ES:SS)(t,e)):Ze(this.node(),t).duration}function CS(e,t){if(typeof t!="function")throw new Error;return function(){it(this,e).ease=t}}function NS(e){var t=this._id;return arguments.length?this.each(CS(t,e)):Ze(this.node(),t).ease}function IS(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;it(this,e).ease=n}}function qS(e){if(typeof e!="function")throw new Error;return this.each(IS(this._id,e))}function TS(e){typeof e!="function"&&(e=Py(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&s.push(u);return new dt(r,this._parents,this._name,this._id)}function RS(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=t[s],l=n[s],c=u.length,d=a[s]=new Array(c),f,h=0;h<c;++h)(f=u[h]||l[h])&&(d[h]=f);for(;s<r;++s)a[s]=t[s];return new dt(a,this._parents,this._name,this._id)}function AS(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function MS(e,t,n){var r,i,o=AS(t)?nc:it;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function PS(e,t){var n=this._id;return arguments.length<2?Ze(this.node(),n).on.on(e):this.each(MS(n,e,t))}function kS(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function OS(){return this.on("end.remove",kS(this._id))}function DS(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Zl(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],u=s.length,l=o[a]=new Array(u),c,d,f=0;f<u;++f)(c=s[f])&&(d=e.call(c,c.__data__,f,s))&&("__data__"in c&&(d.__data__=c.__data__),l[f]=d,Mr(l[f],t,n,f,l,Ze(c,n)));return new dt(o,this._parents,t,n)}function $S(e){var t=this._name,n=this._id;typeof e!="function"&&(e=My(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u=r[s],l=u.length,c,d=0;d<l;++d)if(c=u[d]){for(var f=e.call(c,c.__data__,d,u),h,_=Ze(c,n),v=0,p=f.length;v<p;++v)(h=f[v])&&Mr(h,t,n,v,f,_);o.push(f),a.push(c)}return new dt(o,a,t,n)}var LS=Tn.prototype.constructor;function BS(){return new LS(this._groups,this._parents)}function zS(e,t){var n,r,i;return function(){var o=Ht(this,e),a=(this.style.removeProperty(e),Ht(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function nm(e){return function(){this.style.removeProperty(e)}}function FS(e,t,n){var r,i=n+"",o;return function(){var a=Ht(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function GS(e,t,n){var r,i,o;return function(){var a=Ht(this,e),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),Ht(this,e))),a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s))}}function VS(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var u=it(this,e),l=u.on,c=u.value[o]==null?s||(s=nm(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(a,i=c),u.on=r}}function HS(e,t,n){var r=(e+="")=="transform"?UE:tm;return t==null?this.styleTween(e,zS(e,r)).on("end.style."+e,nm(e)):typeof t=="function"?this.styleTween(e,GS(e,r,rc(this,"style."+e,t))).each(VS(this._id,e)):this.styleTween(e,FS(e,r,t),n).on("end.style."+e,null)}function US(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function jS(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&US(e,a,n)),r}return o._value=t,o}function YS(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,jS(e,t,n==null?"":n))}function KS(e){return function(){this.textContent=e}}function XS(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function WS(e){return this.tween("text",typeof e=="function"?XS(rc(this,"text",e)):KS(e==null?"":e+""))}function ZS(e){return function(t){this.textContent=e.call(this,t)}}function JS(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&ZS(i)),t}return r._value=e,r}function QS(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,JS(e))}function ex(){for(var e=this._name,t=this._id,n=rm(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)if(u=a[l]){var c=Ze(u,t);Mr(u,e,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new dt(r,this._parents,e,n)}function tx(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var l=it(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),l.on=t}),i===0&&o()})}var nx=0;function dt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function rm(){return++nx}var at=Tn.prototype;dt.prototype={constructor:dt,select:DS,selectAll:$S,selectChild:at.selectChild,selectChildren:at.selectChildren,filter:TS,merge:RS,selection:BS,transition:ex,call:at.call,nodes:at.nodes,node:at.node,size:at.size,empty:at.empty,each:at.each,on:PS,attr:hS,attrTween:mS,style:HS,styleTween:YS,text:WS,textTween:QS,remove:OS,tween:aS,delay:wS,duration:xS,ease:NS,easeVarying:qS,end:tx,[Symbol.iterator]:at[Symbol.iterator]};function rx(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ix={time:null,delay:0,duration:250,ease:rx};function ox(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ax(e){var t,n;e instanceof dt?(t=e._id,e=e._name):(t=rm(),(n=ix).time=tc(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&Mr(u,e,t,l,a,n||ox(u,t));return new dt(r,this._parents,e,t)}Tn.prototype.interrupt=rS;Tn.prototype.transition=ax;const zn=e=>()=>e;function sx(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function lt(e,t,n){this.k=e,this.x=t,this.y=n}lt.prototype={constructor:lt,scale:function(e){return e===1?this:new lt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new lt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jt=new lt(1,0,0);lt.prototype;function ll(e){e.stopImmediatePropagation()}function an(e){e.preventDefault(),e.stopImmediatePropagation()}function ux(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function lx(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Wp(){return this.__zoom||jt}function cx(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function dx(){return navigator.maxTouchPoints||"ontouchstart"in this}function fx(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function hx(){var e=ux,t=lx,n=fx,r=cx,i=dx,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=Kn,l=Tr("start","zoom","end"),c,d,f,h=500,_=150,v=0,p=10;function y(N){N.property("__zoom",Wp).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",M).on("touchmove.zoom",x).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(N,L,A,V){var U=N.selection?N.selection():N;U.property("__zoom",Wp),N!==U?E(N,L,A,V):U.interrupt().each(function(){I(this,arguments).event(V).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},y.scaleBy=function(N,L,A,V){y.scaleTo(N,function(){var U=this.__zoom.k,X=typeof L=="function"?L.apply(this,arguments):L;return U*X},A,V)},y.scaleTo=function(N,L,A,V){y.transform(N,function(){var U=t.apply(this,arguments),X=this.__zoom,j=A==null?b(U):typeof A=="function"?A.apply(this,arguments):A,J=X.invert(j),ie=typeof L=="function"?L.apply(this,arguments):L;return n(g(m(X,ie),j,J),U,a)},A,V)},y.translateBy=function(N,L,A,V){y.transform(N,function(){return n(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof A=="function"?A.apply(this,arguments):A),t.apply(this,arguments),a)},null,V)},y.translateTo=function(N,L,A,V,U){y.transform(N,function(){var X=t.apply(this,arguments),j=this.__zoom,J=V==null?b(X):typeof V=="function"?V.apply(this,arguments):V;return n(jt.translate(J[0],J[1]).scale(j.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof A=="function"?-A.apply(this,arguments):-A),X,a)},V,U)};function m(N,L){return L=Math.max(o[0],Math.min(o[1],L)),L===N.k?N:new lt(L,N.x,N.y)}function g(N,L,A){var V=L[0]-A[0]*N.k,U=L[1]-A[1]*N.k;return V===N.x&&U===N.y?N:new lt(N.k,V,U)}function b(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function E(N,L,A,V){N.on("start.zoom",function(){I(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event(V).end()}).tween("zoom",function(){var U=this,X=arguments,j=I(U,X).event(V),J=t.apply(U,X),ie=A==null?b(J):typeof A=="function"?A.apply(U,X):A,le=Math.max(J[1][0]-J[0][0],J[1][1]-J[0][1]),R=U.__zoom,P=typeof L=="function"?L.apply(U,X):L,D=u(R.invert(ie).concat(le/R.k),P.invert(ie).concat(le/P.k));return function(F){if(F===1)F=P;else{var Y=D(F),re=le/Y[2];F=new lt(re,ie[0]-Y[0]*re,ie[1]-Y[1]*re)}j.zoom(null,F)}})}function I(N,L,A){return!A&&N.__zooming||new q(N,L)}function q(N,L){this.that=N,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,L),this.taps=0}q.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,L){return this.mouse&&N!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var L=je(this.that).datum();l.call(N,this.that,new sx(N,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:l}),L)}};function k(N,...L){if(!e.apply(this,arguments))return;var A=I(this,L).event(N),V=this.__zoom,U=Math.max(o[0],Math.min(o[1],V.k*Math.pow(2,r.apply(this,arguments)))),X=Qe(N);if(A.wheel)(A.mouse[0][0]!==X[0]||A.mouse[0][1]!==X[1])&&(A.mouse[1]=V.invert(A.mouse[0]=X)),clearTimeout(A.wheel);else{if(V.k===U)return;A.mouse=[X,V.invert(X)],Zn(this),A.start()}an(N),A.wheel=setTimeout(j,_),A.zoom("mouse",n(g(m(V,U),A.mouse[0],A.mouse[1]),A.extent,a));function j(){A.wheel=null,A.end()}}function $(N,...L){if(f||!e.apply(this,arguments))return;var A=N.currentTarget,V=I(this,L,!0).event(N),U=je(N.view).on("mousemove.zoom",ie,!0).on("mouseup.zoom",le,!0),X=Qe(N,A),j=N.clientX,J=N.clientY;Vy(N.view),ll(N),V.mouse=[X,this.__zoom.invert(X)],Zn(this),V.start();function ie(R){if(an(R),!V.moved){var P=R.clientX-j,D=R.clientY-J;V.moved=P*P+D*D>v}V.event(R).zoom("mouse",n(g(V.that.__zoom,V.mouse[0]=Qe(R,A),V.mouse[1]),V.extent,a))}function le(R){U.on("mousemove.zoom mouseup.zoom",null),Hy(R.view,V.moved),an(R),V.event(R).end()}}function O(N,...L){if(e.apply(this,arguments)){var A=this.__zoom,V=Qe(N.changedTouches?N.changedTouches[0]:N,this),U=A.invert(V),X=A.k*(N.shiftKey?.5:2),j=n(g(m(A,X),V,U),t.apply(this,L),a);an(N),s>0?je(this).transition().duration(s).call(E,j,V,N):je(this).call(y.transform,j,V,N)}}function M(N,...L){if(e.apply(this,arguments)){var A=N.touches,V=A.length,U=I(this,L,N.changedTouches.length===V).event(N),X,j,J,ie;for(ll(N),j=0;j<V;++j)J=A[j],ie=Qe(J,this),ie=[ie,this.__zoom.invert(ie),J.identifier],U.touch0?!U.touch1&&U.touch0[2]!==ie[2]&&(U.touch1=ie,U.taps=0):(U.touch0=ie,X=!0,U.taps=1+!!c);c&&(c=clearTimeout(c)),X&&(U.taps<2&&(d=ie[0],c=setTimeout(function(){c=null},h)),Zn(this),U.start())}}function x(N,...L){if(this.__zooming){var A=I(this,L).event(N),V=N.changedTouches,U=V.length,X,j,J,ie;for(an(N),X=0;X<U;++X)j=V[X],J=Qe(j,this),A.touch0&&A.touch0[2]===j.identifier?A.touch0[0]=J:A.touch1&&A.touch1[2]===j.identifier&&(A.touch1[0]=J);if(j=A.that.__zoom,A.touch1){var le=A.touch0[0],R=A.touch0[1],P=A.touch1[0],D=A.touch1[1],F=(F=P[0]-le[0])*F+(F=P[1]-le[1])*F,Y=(Y=D[0]-R[0])*Y+(Y=D[1]-R[1])*Y;j=m(j,Math.sqrt(F/Y)),J=[(le[0]+P[0])/2,(le[1]+P[1])/2],ie=[(R[0]+D[0])/2,(R[1]+D[1])/2]}else if(A.touch0)J=A.touch0[0],ie=A.touch0[1];else return;A.zoom("touch",n(g(j,J,ie),A.extent,a))}}function G(N,...L){if(this.__zooming){var A=I(this,L).event(N),V=N.changedTouches,U=V.length,X,j;for(ll(N),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),X=0;X<U;++X)j=V[X],A.touch0&&A.touch0[2]===j.identifier?delete A.touch0:A.touch1&&A.touch1[2]===j.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(j=Qe(j,this),Math.hypot(d[0]-j[0],d[1]-j[1])<p)){var J=je(this).on("dblclick.zoom");J&&J.apply(this,arguments)}}}return y.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:zn(+N),y):r},y.filter=function(N){return arguments.length?(e=typeof N=="function"?N:zn(!!N),y):e},y.touchable=function(N){return arguments.length?(i=typeof N=="function"?N:zn(!!N),y):i},y.extent=function(N){return arguments.length?(t=typeof N=="function"?N:zn([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),y):t},y.scaleExtent=function(N){return arguments.length?(o[0]=+N[0],o[1]=+N[1],y):[o[0],o[1]]},y.translateExtent=function(N){return arguments.length?(a[0][0]=+N[0][0],a[1][0]=+N[1][0],a[0][1]=+N[0][1],a[1][1]=+N[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(N){return arguments.length?(n=N,y):n},y.duration=function(N){return arguments.length?(s=+N,y):s},y.interpolate=function(N){return arguments.length?(u=N,y):u},y.on=function(){var N=l.on.apply(l,arguments);return N===l?y:N},y.clickDistance=function(N){return arguments.length?(v=(N=+N)*N,y):Math.sqrt(v)},y.tapDistance=function(N){return arguments.length?(p=+N,y):p},y}var te=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(te||{}),ic=(e=>(e.Partial="partial",e.Full="full",e))(ic||{}),St=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(St||{}),mt=(e=>(e.Strict="strict",e.Loose="loose",e))(mt||{}),Nl=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Nl||{}),vn=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(vn||{});const vx=["INPUT","SELECT","TEXTAREA"],px=typeof document!="undefined"?document:null;function Il(e){var t,n;const r=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,i=typeof(r==null?void 0:r.hasAttribute)=="function"?r.hasAttribute("contenteditable"):!1,o=typeof(r==null?void 0:r.closest)=="function"?r.closest(".nokey"):null;return vx.includes(r==null?void 0:r.nodeName)||i||!!o}function gx(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function Zp(e,t,n,r){const i=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(a=>a.trim().toLowerCase());if(i.length===1)return e.toLowerCase()===t.toLowerCase();r||n.add(e.toLowerCase());const o=i.every((a,s)=>n.has(a)&&Array.from(n.values())[s]===i[s]);return r&&n.delete(e.toLowerCase()),o}function yx(e,t){return n=>{if(!n.code&&!n.key)return!1;const r=mx(n.code,e);return Array.isArray(e)?e.some(i=>Zp(n[r],i,t,n.type==="keyup")):Zp(n[r],e,t,n.type==="keyup")}}function mx(e,t){return t.includes(e)?"code":"key"}function pn(e,t){const n=de(()=>{var l;return(l=he(t==null?void 0:t.target))!=null?l:px}),r=Qn(he(e)===!0);let i=!1;const o=new Set;let a=u(he(e));_e(()=>he(e),(l,c)=>{typeof c=="boolean"&&typeof l!="boolean"&&s(),a=u(l)},{immediate:!0}),Ry(["blur","contextmenu"],s),Pp((...l)=>a(...l),l=>{var y,m;var c,d;const f=(y=he(t==null?void 0:t.actInsideInputWithModifier))!=null?y:!0,h=(m=he(t==null?void 0:t.preventDefault))!=null?m:!1;if(i=gx(l),(!i||i&&!f)&&Il(l))return;const v=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target,p=(v==null?void 0:v.nodeName)==="BUTTON"||(v==null?void 0:v.nodeName)==="A";!h&&(i||!p)&&l.preventDefault(),r.value=!0},{eventName:"keydown",target:n}),Pp((...l)=>a(...l),l=>{var d;const c=(d=he(t==null?void 0:t.actInsideInputWithModifier))!=null?d:!0;if(r.value){if((!i||i&&!c)&&Il(l))return;i=!1,r.value=!1}},{eventName:"keyup",target:n});function s(){i=!1,o.clear(),r.value=he(e)===!0}function u(l){return l===null?(s(),()=>!1):typeof l=="boolean"?(s(),r.value=l,()=>!1):Array.isArray(l)||typeof l=="string"?yx(l,o):l}return r}const im="vue-flow__node-desc",om="vue-flow__edge-desc",_x="vue-flow__aria-live",am=["Enter"," ","Escape"],Ft={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function ur(e){return ge(H({},e.computedPosition||{x:0,y:0}),{width:e.dimensions.width||0,height:e.dimensions.height||0})}function lr(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)}function Pr(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Rt(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function sm(e,t){return{x:Rt(e.x,t[0][0],t[1][0]),y:Rt(e.y,t[0][1],t[1][1])}}function Jp(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function _t(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function It(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!_t(e)}function fn(e){return It(e)&&"computedPosition"in e}function Fn(e){return!Number.isNaN(e)&&Number.isFinite(e)}function bx(e){return Fn(e.width)&&Fn(e.height)&&Fn(e.x)&&Fn(e.y)}function wx(e,t,n){var i;const r={id:e.id.toString(),type:(i=e.type)!=null?i:"default",dimensions:jn({width:0,height:0}),computedPosition:jn(H({z:0},e.position)),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:Ne(e.data)?e.data:{},events:jn(Ne(e.events)?e.events:{})};return Object.assign(t!=null?t:r,e,{id:e.id.toString(),parentNode:n})}function um(e,t,n){var a,s,u,l,c,d,f;var r,i;const o=H({id:e.id.toString(),type:(s=(a=e.type)!=null?a:t==null?void 0:t.type)!=null?s:"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(r=e.sourceHandle)==null?void 0:r.toString(),targetHandle:(i=e.targetHandle)==null?void 0:i.toString(),updatable:(u=e.updatable)!=null?u:n==null?void 0:n.updatable,selectable:(l=e.selectable)!=null?l:n==null?void 0:n.selectable,focusable:(c=e.focusable)!=null?c:n==null?void 0:n.focusable,data:Ne(e.data)?e.data:{},events:jn(Ne(e.events)?e.events:{}),label:(d=e.label)!=null?d:"",interactionWidth:(f=e.interactionWidth)!=null?f:n==null?void 0:n.interactionWidth},n!=null?n:{});return Object.assign(t!=null?t:o,e,{id:e.id.toString()})}function lm(e,t,n,r){const i=typeof e=="string"?e:e.id,o=new Set,a=r==="source"?"target":"source";for(const s of n)s[a]===i&&o.add(s[r]);return t.filter(s=>o.has(s.id))}function Ex(...e){if(e.length===3){const[o,a,s]=e;return lm(o,a,s,"target")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(o=>_t(o)&&o.source===r).map(o=>n.find(a=>It(a)&&a.id===o.target))}function Sx(...e){if(e.length===3){const[o,a,s]=e;return lm(o,a,s,"source")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(o=>_t(o)&&o.target===r).map(o=>n.find(a=>It(a)&&a.id===o.source))}function cm({source:e,sourceHandle:t,target:n,targetHandle:r}){return`vueflow__edge-${e}${t!=null?t:""}-${n}${r!=null?r:""}`}function xx(e,t){return t.some(n=>_t(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function wn({x:e,y:t},{x:n,y:r,zoom:i}){return{x:e*i+n,y:t*i+r}}function En({x:e,y:t},{x:n,y:r,zoom:i},o=!1,a=[1,1]){const s={x:(e-n)/i,y:(t-r)/i};return o?kr(s,a):s}function Cx(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function dm({x:e,y:t,width:n,height:r}){return{x:e,y:t,x2:e+n,y2:t+r}}function Nx({x:e,y:t,x2:n,y2:r}){return{x:e,y:t,width:n-e,height:r-t}}function fm(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const r=e[n];t=Cx(t,dm(H(H({},r.computedPosition),r.dimensions)))}return Nx(t)}function hm(e,t,n={x:0,y:0,zoom:1},r=!1,i=!1){var s,u,l,c;const o=ge(H({},En(t,n)),{width:t.width/n.zoom,height:t.height/n.zoom}),a=[];for(const d of e){const{dimensions:f,selectable:h=!0,hidden:_=!1}=d,v=(u=(s=f.width)!=null?s:d.width)!=null?u:null,p=(c=(l=f.height)!=null?l:d.height)!=null?c:null;if(i&&!h||_)continue;const y=lr(o,ur(d)),m=v===null||p===null,g=r&&y>0,b=(v!=null?v:0)*(p!=null?p:0);(m||g||y>=b||d.dragging)&&a.push(d)}return a}function vm(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const r of e)n.add(r.id);return t.filter(r=>n.has(r.source)||n.has(r.target))}function Lt(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=Number.parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=Number.parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return nn(`The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Ix(e,t,n){var r,i,o,a,s,u,l,c;if(typeof e=="string"||typeof e=="number"){const d=Lt(e,n),f=Lt(e,t);return{top:d,right:f,bottom:d,left:f,x:f*2,y:d*2}}if(typeof e=="object"){const d=Lt((i=(r=e.top)!=null?r:e.y)!=null?i:0,n),f=Lt((a=(o=e.bottom)!=null?o:e.y)!=null?a:0,n),h=Lt((u=(s=e.left)!=null?s:e.x)!=null?u:0,t),_=Lt((c=(l=e.right)!=null?l:e.x)!=null?c:0,t);return{top:d,right:_,bottom:f,left:h,x:h+_,y:d+f}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function qx(e,t,n,r,i,o){const{x:a,y:s}=wn(e,{x:t,y:n,zoom:r}),{x:u,y:l}=wn({x:e.x+e.width,y:e.y+e.height},{x:t,y:n,zoom:r}),c=i-u,d=o-l;return{left:Math.floor(a),top:Math.floor(s),right:Math.floor(c),bottom:Math.floor(d)}}function Qp(e,t,n,r,i,o=.1){const a=Ix(o,t,n),s=(t-a.x)/e.width,u=(n-a.y)/e.height,l=Math.min(s,u),c=Rt(l,r,i),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*c,_=n/2-f*c,v=qx(e,h,_,c,t,n),p={left:Math.min(v.left-a.left,0),top:Math.min(v.top-a.top,0),right:Math.min(v.right-a.right,0),bottom:Math.min(v.bottom-a.bottom,0)};return{x:h-p.left+p.right,y:_-p.top+p.bottom,zoom:c}}function Tx(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function pm(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:pm(n,t):!1}function Sn(e,t){return typeof e=="undefined"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`}function eg(e){const t=e.ctrlKey&&cr()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t}function tg(e,t,n){return e<t?Rt(Math.abs(e-t),1,t)/t:e>n?-Rt(Math.abs(e-n),1,t)/t:0}function gm(e,t,n=15,r=40){const i=tg(e.x,r,t.width-r)*n,o=tg(e.y,r,t.height-r)*n;return[i,o]}function cl(e,t){var n,r;if(t){const i=e.position.x+e.dimensions.width-t.dimensions.width,o=e.position.y+e.dimensions.height-t.dimensions.height;if(i>0||o>0||e.position.x<0||e.position.y<0){let a={};if(typeof t.style=="function"?a=H({},t.style(t)):t.style&&(a=H({},t.style)),a.width=(n=a.width)!=null?n:`${t.dimensions.width}px`,a.height=(r=a.height)!=null?r:`${t.dimensions.height}px`,i>0)if(typeof a.width=="string"){const s=Number(a.width.replace("px",""));a.width=`${s+i}px`}else a.width+=i;if(o>0)if(typeof a.height=="string"){const s=Number(a.height.replace("px",""));a.height=`${s+o}px`}else a.height+=o;if(e.position.x<0){const s=Math.abs(e.position.x);if(t.position.x=t.position.x-s,typeof a.width=="string"){const u=Number(a.width.replace("px",""));a.width=`${u+s}px`}else a.width+=s;e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);if(t.position.y=t.position.y-s,typeof a.height=="string"){const u=Number(a.height.replace("px",""));a.height=`${u+s}px`}else a.height+=s;e.position.y=0}t.dimensions.width=Number(a.width.toString().replace("px","")),t.dimensions.height=Number(a.height.toString().replace("px","")),typeof t.style=="function"?t.style=s=>{const u=t.style;return H(H({},u(s)),a)}:t.style=H(H({},t.style),a)}}}function ng(e,t){var n,r;const i=e.filter(a=>a.type==="add"||a.type==="remove");for(const a of i)if(a.type==="add")t.findIndex(u=>u.id===a.item.id)===-1&&t.push(a.item);else if(a.type==="remove"){const s=t.findIndex(u=>u.id===a.id);s!==-1&&t.splice(s,1)}const o=t.map(a=>a.id);for(const a of t)for(const s of e)if(s.id===a.id)switch(s.type){case"select":a.selected=s.selected;break;case"position":if(fn(a)&&(typeof s.position!="undefined"&&(a.position=s.position),typeof s.dragging!="undefined"&&(a.dragging=s.dragging),a.expandParent&&a.parentNode)){const u=t[o.indexOf(a.parentNode)];u&&fn(u)&&cl(a,u)}break;case"dimensions":if(fn(a)&&(typeof s.dimensions!="undefined"&&(a.dimensions=s.dimensions),typeof s.updateStyle!="undefined"&&s.updateStyle&&(a.style=ge(H({},a.style||{}),{width:`${(n=s.dimensions)==null?void 0:n.width}px`,height:`${(r=s.dimensions)==null?void 0:r.height}px`})),typeof s.resizing!="undefined"&&(a.resizing=s.resizing),a.expandParent&&a.parentNode)){const u=t[o.indexOf(a.parentNode)];u&&fn(u)&&(!!u.dimensions.width&&!!u.dimensions.height?cl(a,u):Le(()=>{cl(a,u)}))}break}return t}function gt(e,t){return{id:e,type:"select",selected:t}}function rg(e){return{item:e,type:"add"}}function ig(e){return{id:e,type:"remove"}}function og(e,t,n,r,i){return{id:e,source:t,target:n,sourceHandle:r||null,targetHandle:i||null,type:"remove"}}function yt(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const a=t.has(i);!(o.selected===void 0&&!a)&&o.selected!==a&&(n&&(o.selected=a),r.push(gt(o.id,a)))}return r}const ag=()=>{};function Z(e){const t=new Set;let n=ag,r=()=>!1;const i=()=>t.size>0||r(),o=f=>{n=f},a=()=>{n=ag},s=f=>{r=f},u=()=>{r=()=>!1},l=f=>{t.delete(f)};return{on:f=>{t.add(f);const h=()=>l(f);return gn(h),{off:h}},off:l,trigger:f=>{const h=[n];return i()?h.push(...t):e&&h.push(e),Promise.allSettled(h.map(_=>_(f)))},hasListeners:i,listeners:t,setEmitter:o,removeEmitter:a,setHasEmitListeners:s,removeHasEmitListeners:u}}function sg(e,t,n){let r=e;do{if(r&&r.matches(t))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function Rx(e,t,n,r){var i,o;const a=new Map;for(const[s,u]of e)(u.selected||u.id===r)&&(!u.parentNode||!pm(u,e))&&(u.draggable||t&&typeof u.draggable=="undefined")&&e.get(s)&&a.set(s,{id:u.id,position:u.position||{x:0,y:0},distance:{x:n.x-((i=u.computedPosition)==null?void 0:i.x)||0,y:n.y-((o=u.computedPosition)==null?void 0:o.y)||0},from:{x:u.computedPosition.x,y:u.computedPosition.y},extent:u.extent,parentNode:u.parentNode,dimensions:H({},u.dimensions),expandParent:u.expandParent});return Array.from(a.values())}function dl({id:e,dragItems:t,findNode:n}){const r=[];for(const i of t){const o=n(i.id);o&&r.push(o)}return[e?r.find(i=>i.id===e):r[0],r]}function ym(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function Ax(e,t,n){const[r,i,o,a]=typeof e!="string"?ym(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x!="undefined"&&typeof n.computedPosition.y!="undefined"&&typeof n.dimensions.width!="undefined"&&typeof n.dimensions.height!="undefined"?[[n.computedPosition.x+a,n.computedPosition.y+r],[n.computedPosition.x+n.dimensions.width-i,n.computedPosition.y+n.dimensions.height-o]]:!1}function Mx(e,t,n,r){let i=e.extent||n;if((i==="parent"||!Array.isArray(i)&&(i==null?void 0:i.range)==="parent")&&!e.expandParent)if(e.parentNode&&r&&e.dimensions.width&&e.dimensions.height){const o=Ax(i,e,r);o&&(i=o)}else t(new Te(Ie.NODE_EXTENT_INVALID,e.id)),i=n;else if(Array.isArray(i)){const o=(r==null?void 0:r.computedPosition.x)||0,a=(r==null?void 0:r.computedPosition.y)||0;i=[[i[0][0]+o,i[0][1]+a],[i[1][0]+o,i[1][1]+a]]}else if(i!=="parent"&&(i!=null&&i.range)&&Array.isArray(i.range)){const[o,a,s,u]=ym(i.padding),l=(r==null?void 0:r.computedPosition.x)||0,c=(r==null?void 0:r.computedPosition.y)||0;i=[[i.range[0][0]+l+u,i.range[0][1]+c+o],[i.range[1][0]+l-a,i.range[1][1]+c-s]]}return i==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:i}function Px({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function oc(e,t,n,r,i){const o=Px(e.dimensions,Mx(e,n,r,i)),a=sm(t,o);return{position:{x:a.x-((i==null?void 0:i.computedPosition.x)||0),y:a.y-((i==null?void 0:i.computedPosition.y)||0)},computedPosition:a}}function Yt(e,t,n=te.Left,r=!1){var l,c,d;const i=((l=t==null?void 0:t.x)!=null?l:0)+e.computedPosition.x,o=((c=t==null?void 0:t.y)!=null?c:0)+e.computedPosition.y,{width:a,height:s}=t!=null?t:$x(e);if(r)return{x:i+a/2,y:o+s/2};switch((d=t==null?void 0:t.position)!=null?d:n){case te.Top:return{x:i+a/2,y:o};case te.Right:return{x:i+a,y:o+s/2};case te.Bottom:return{x:i+a/2,y:o+s};case te.Left:return{x:i,y:o+s/2}}}function ug(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function kx({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:a,height:s,viewport:u}){const l={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const c=dm({x:(0-u.x)/u.zoom,y:(0-u.y)/u.zoom,width:a/u.zoom,height:s/u.zoom}),d=Math.max(0,Math.min(c.x2,l.x2)-Math.max(c.x,l.x)),f=Math.max(0,Math.min(c.y2,l.y2)-Math.max(c.y,l.y));return Math.ceil(d*f)>0}function Ox(e,t,n=!1){const r=typeof e.zIndex=="number";let i=r?e.zIndex:0;const o=t(e.source),a=t(e.target);return!o||!a?0:(n&&(i=r?e.zIndex:Math.max(o.computedPosition.z||0,a.computedPosition.z||0)),i)}var Ie=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(Ie||{});const lg={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class Te extends Error{constructor(t,...n){var r;super((r=lg[t])==null?void 0:r.call(lg,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function ac(e){return"clientX"in e}function Dx(e){return"sourceEvent"in e}function tt(e,t){var o,a;const n=ac(e);let r,i;return n?(r=e.clientX,i=e.clientY):"touches"in e&&e.touches.length>0?(r=e.touches[0].clientX,i=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(r=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY):(r=0,i=0),{x:r-((o=t==null?void 0:t.left)!=null?o:0),y:i-((a=t==null?void 0:t.top)!=null?a:0)}}const cr=()=>{var e;return typeof navigator!="undefined"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function $x(e){var r,i,o,a;var t,n;return{width:(i=(r=(t=e.dimensions)==null?void 0:t.width)!=null?r:e.width)!=null?i:0,height:(a=(o=(n=e.dimensions)==null?void 0:n.height)!=null?o:e.height)!=null?a:0}}function kr(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const Lx=()=>!0;function fl(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function Bx(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())lr(i,ur(o))>0&&r.push(o);return r}const zx=250;function Fx(e,t,n,r){var l,c,d;var i,o;let a=[],s=Number.POSITIVE_INFINITY;const u=Bx(e,n,t+zx);for(const f of u){const h=[...(l=(i=f.handleBounds)==null?void 0:i.source)!=null?l:[],...(c=(o=f.handleBounds)==null?void 0:o.target)!=null?c:[]];for(const _ of h){if(r.nodeId===_.nodeId&&r.type===_.type&&r.id===_.id)continue;const{x:v,y:p}=Yt(f,_,_.position,!0),y=Math.sqrt(Ot(v-e.x,2)+Ot(p-e.y,2));y>t||(y<s?(a=[ge(H({},_),{x:v,y:p})],s=y):y===s&&a.push(ge(H({},_),{x:v,y:p})))}}if(!a.length)return null;if(a.length>1){const f=r.type==="source"?"target":"source";return(d=a.find(h=>h.type===f))!=null?d:a[0]}return a[0]}function cg(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:a,lib:s,flowId:u,isValidConnection:l=Lx},c,d,f,h){const _=o==="target",v=t?a.querySelector(`.${s}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:p,y}=tt(e),m=a.elementFromPoint(p,y),g=m!=null&&m.classList.contains(`${s}-flow__handle`)?m:v,b={handleDomNode:g,isValid:!1,connection:null,toHandle:null};if(g){const E=mm(void 0,g),I=g.getAttribute("data-nodeid"),q=g.getAttribute("data-handleid"),k=g.classList.contains("connectable"),$=g.classList.contains("connectableend");if(!I||!E)return b;const O={source:_?I:r,sourceHandle:_?q:i,target:_?r:I,targetHandle:_?i:q};b.connection=O;const x=k&&$&&(n===mt.Strict?_&&E==="source"||!_&&E==="target":I!==r||q!==i);b.isValid=x&&l(O,{nodes:d,edges:c,sourceNode:f(O.source),targetNode:f(O.target)}),b.toHandle=_m(I,E,q,h,n,!0)}return b}function mm(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Gx(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Vx(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function _m(e,t,n,r,i,o=!1){var f,h,_;var a,s,u;const l=r.get(e);if(!l)return null;const c=i===mt.Strict?(a=l.handleBounds)==null?void 0:a[t]:[...(f=(s=l.handleBounds)==null?void 0:s.source)!=null?f:[],...(h=(u=l.handleBounds)==null?void 0:u.target)!=null?h:[]],d=(_=n?c==null?void 0:c.find(v=>v.id===n):c==null?void 0:c[0])!=null?_:null;return d&&o?H(H({},d),Yt(l,d,d.position,!0)):d}const ql={[te.Left]:te.Right,[te.Right]:te.Left,[te.Top]:te.Bottom,[te.Bottom]:te.Top},Hx=["production","prod"];function nn(e,...t){bm()&&console.warn(`[Vue Flow]: ${e}`,...t)}function bm(){return!Hx.includes("production")}function dg(e,t,n,r,i){const o=t.querySelectorAll(`.vue-flow__handle.${e}`);return o!=null&&o.length?Array.from(o).map(a=>{const s=a.getBoundingClientRect();return H({id:a.getAttribute("data-handleid"),type:e,nodeId:i,position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r},Pr(a))}):null}function Tl(e,t,n,r,i,o=!1,a){i.value=!1,e.selected?(o||e.selected&&t)&&(r([e]),Le(()=>{a.blur()})):n([e])}function Ne(e){return typeof ee(e)!="undefined"}function Ux(e,t,n,r){var o;if(!e||!e.source||!e.target)return n(new Te(Ie.EDGE_INVALID,(o=e==null?void 0:e.id)!=null?o:"[ID UNKNOWN]")),!1;let i;return _t(e)?i=e:i=ge(H({},e),{id:cm(e)}),i=um(i,void 0,r),xx(i,t)?!1:i}function jx(e,t,n,r,i){if(!t.source||!t.target)return i(new Te(Ie.EDGE_INVALID,e.id)),!1;if(!n)return i(new Te(Ie.EDGE_NOT_FOUND,e.id)),!1;const s=e,{id:o}=s,a=Dt(s,["id"]);return ge(H({},a),{id:r?cm(t):o,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})}function fg(e,t,n){const r={},i=[];for(let o=0;o<e.length;++o){const a=e[o];if(!It(a)){n(new Te(Ie.NODE_INVALID,a==null?void 0:a.id)||`[ID UNKNOWN|INDEX ${o}]`);continue}const s=wx(a,t(a.id),a.parentNode);a.parentNode&&(r[a.parentNode]=!0),i[o]=s}for(const o of i){const a=t(o.parentNode)||i.find(s=>s.id===o.parentNode);o.parentNode&&!a&&n(new Te(Ie.NODE_MISSING_PARENT,o.id,o.parentNode)),(o.parentNode||r[o.id])&&(r[o.id]&&(o.isParent=!0),a&&(a.isParent=!0))}return i}function hg(e,t,n,r,i,o){let a=i;const s=r.get(a)||new Map;r.set(a,s.set(n,t)),a=`${i}-${e}`;const u=r.get(a)||new Map;if(r.set(a,u.set(n,t)),o){a=`${i}-${e}-${o}`;const l=r.get(a)||new Map;r.set(a,l.set(n,t))}}function hl(e,t,n){e.clear();for(const r of n){const{source:i,target:o,sourceHandle:a=null,targetHandle:s=null}=r,u={edgeId:r.id,source:i,target:o,sourceHandle:a,targetHandle:s},l=`${i}-${a}--${o}-${s}`,c=`${o}-${s}--${i}-${a}`;hg("source",u,c,e,i,a),hg("target",u,l,e,o,s)}}function vg(e,t,n){if(!n)return;const r=[];for(const i of e.keys())t.has(i)||r.push(e.get(i));r.length&&n(r)}function Yx(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function pg(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function vl(e,t,n,r,i,o,a,s){const u=[];for(const l of e){const c=_t(l)?l:Ux(l,s,i,o);if(!c)continue;const d=n(c.source),f=n(c.target);if(!d||!f){i(new Te(Ie.EDGE_SOURCE_TARGET_MISSING,c.id,c.source,c.target));continue}if(!d){i(new Te(Ie.EDGE_SOURCE_MISSING,c.id,c.source));continue}if(!f){i(new Te(Ie.EDGE_TARGET_MISSING,c.id,c.target));continue}if(t&&!t(c,{edges:s,nodes:a,sourceNode:d,targetNode:f})){i(new Te(Ie.EDGE_INVALID,c.id));continue}const h=r(c.id);u.push(ge(H({},um(c,h,o)),{sourceNode:d,targetNode:f}))}return u}const gg=Symbol("vueFlow"),wm=Symbol("nodeId"),Em=Symbol("nodeRef"),Kx=Symbol("edgeId"),Xx=Symbol("edgeRef"),Or=Symbol("slots");function Sm(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:r,noDragClassName:i,nodeLookup:o,nodeExtent:a,nodeDragThreshold:s,viewport:u,autoPanOnNodeDrag:l,autoPanSpeed:c,nodesDraggable:d,panBy:f,findNode:h,multiSelectionActive:_,nodesSelectionActive:v,selectNodesOnDrag:p,removeSelectedElements:y,addSelectedNodes:m,updateNodePositions:g,emits:b}=be(),{onStart:E,onDrag:I,onStop:q,onClick:k,el:$,disabled:O,id:M,selectable:x,dragHandle:G}=e,N=Qn(!1);let L=[],A,V=null,U={x:void 0,y:void 0},X={x:0,y:0},j=null,J=!1,ie=!1,le=0,R=!1;const P=Jx(),D=({x:ce,y:ue})=>{U={x:ce,y:ue};let S=!1;if(L=L.map(w=>{const C={x:ce-w.distance.x,y:ue-w.distance.y},{computedPosition:T}=oc(w,n.value?kr(C,r.value):C,b.error,a.value,w.parentNode?h(w.parentNode):void 0);return S=S||w.position.x!==T.x||w.position.y!==T.y,w.position=T,w}),ie=ie||S,!!S&&(g(L,!0,!0),N.value=!0,j)){const[w,C]=dl({id:M,dragItems:L,findNode:h});I({event:j,node:w,nodes:C})}},F=()=>{var S,w;if(!V)return;const[ce,ue]=gm(X,V,c.value);if(ce!==0||ue!==0){const C={x:((S=U.x)!=null?S:0)-ce/u.value.zoom,y:((w=U.y)!=null?w:0)-ue/u.value.zoom};f({x:ce,y:ue})&&D(C)}le=requestAnimationFrame(F)},Y=(ce,ue)=>{J=!0;const S=h(M);!p.value&&!_.value&&S&&(S.selected||y()),S&&he(x)&&p.value&&Tl(S,_.value,m,y,v,!1,ue);const w=P(ce.sourceEvent);if(U=w,L=Rx(o.value,d.value,w,M),L.length){const[C,T]=dl({id:M,dragItems:L,findNode:h});E({event:ce.sourceEvent,node:C,nodes:T})}},re=(ce,ue)=>{var S;ce.sourceEvent.type==="touchmove"&&ce.sourceEvent.touches.length>1||(ie=!1,s.value===0&&Y(ce,ue),U=P(ce.sourceEvent),V=((S=t.value)==null?void 0:S.getBoundingClientRect())||null,X=tt(ce.sourceEvent,V))},oe=(ce,ue)=>{var w,C;const S=P(ce.sourceEvent);if(!R&&J&&l.value&&(R=!0,F()),!J){const T=S.xSnapped-((w=U.x)!=null?w:0),z=S.ySnapped-((C=U.y)!=null?C:0);Math.sqrt(T*T+z*z)>s.value&&Y(ce,ue)}(U.x!==S.xSnapped||U.y!==S.ySnapped)&&L.length&&J&&(j=ce.sourceEvent,X=tt(ce.sourceEvent,V),D(S))},fe=ce=>{var S,w;let ue=!1;if(!J&&!N.value&&!_.value){const C=ce.sourceEvent,T=P(C),z=T.xSnapped-((S=U.x)!=null?S:0),K=T.ySnapped-((w=U.y)!=null?w:0),B=Math.sqrt(z*z+K*K);B!==0&&B<=s.value&&(k==null||k(C),ue=!0)}if(L.length&&!ue){ie&&(g(L,!1,!1),ie=!1);const[C,T]=dl({id:M,dragItems:L,findNode:h});q({event:ce.sourceEvent,node:C,nodes:T})}L=[],N.value=!1,R=!1,J=!1,U={x:void 0,y:void 0},cancelAnimationFrame(le)};return _e([()=>he(O),$],([ce,ue],S,w)=>{if(ue){const C=je(ue);ce||(A=bE().on("start",T=>re(T,ue)).on("drag",T=>oe(T,ue)).on("end",T=>fe(T)).filter(T=>{const z=T.target,K=he(G);return!T.button&&(!i.value||!sg(z,`.${i.value}`,ue)&&(!K||sg(z,K,ue)))}),C.call(A)),w(()=>{C.on(".drag",null),A&&(A.on("start",null),A.on("drag",null),A.on("end",null))})}}),N}function Wx(){return{doubleClick:Z(),click:Z(),mouseEnter:Z(),mouseMove:Z(),mouseLeave:Z(),contextMenu:Z(),updateStart:Z(),update:Z(),updateEnd:Z()}}function Zx(e,t){const n=Wx();return n.doubleClick.on(r=>{var i,o;t.edgeDoubleClick(r),(o=(i=e.events)==null?void 0:i.doubleClick)==null||o.call(i,r)}),n.click.on(r=>{var i,o;t.edgeClick(r),(o=(i=e.events)==null?void 0:i.click)==null||o.call(i,r)}),n.mouseEnter.on(r=>{var i,o;t.edgeMouseEnter(r),(o=(i=e.events)==null?void 0:i.mouseEnter)==null||o.call(i,r)}),n.mouseMove.on(r=>{var i,o;t.edgeMouseMove(r),(o=(i=e.events)==null?void 0:i.mouseMove)==null||o.call(i,r)}),n.mouseLeave.on(r=>{var i,o;t.edgeMouseLeave(r),(o=(i=e.events)==null?void 0:i.mouseLeave)==null||o.call(i,r)}),n.contextMenu.on(r=>{var i,o;t.edgeContextMenu(r),(o=(i=e.events)==null?void 0:i.contextMenu)==null||o.call(i,r)}),n.updateStart.on(r=>{var i,o;t.edgeUpdateStart(r),(o=(i=e.events)==null?void 0:i.updateStart)==null||o.call(i,r)}),n.update.on(r=>{var i,o;t.edgeUpdate(r),(o=(i=e.events)==null?void 0:i.update)==null||o.call(i,r)}),n.updateEnd.on(r=>{var i,o;t.edgeUpdateEnd(r),(o=(i=e.events)==null?void 0:i.updateEnd)==null||o.call(i,r)}),Object.entries(n).reduce((r,[i,o])=>(r.emit[i]=o.trigger,r.on[i]=o.on,r),{emit:{},on:{}})}function Jx(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:r}=be();return i=>{var h;var o;const a=(h=(o=r.value)==null?void 0:o.getBoundingClientRect())!=null?h:{left:0,top:0},s=Dx(i)?i.sourceEvent:i,{x:u,y:l}=tt(s,a),c=En({x:u,y:l},e.value),{x:d,y:f}=n.value?kr(c,t.value):c;return H({xSnapped:d,ySnapped:f},c)}}function Gn(){return!0}function xm({handleId:e,nodeId:t,type:n,isValidConnection:r,edgeUpdaterType:i,onEdgeUpdate:o,onEdgeUpdateEnd:a}){const{id:s,vueFlowRef:u,connectionMode:l,connectionRadius:c,connectOnClick:d,connectionClickStartHandle:f,nodesConnectable:h,autoPanOnConnect:_,autoPanSpeed:v,findNode:p,panBy:y,startConnection:m,updateConnection:g,endConnection:b,emits:E,viewport:I,edges:q,nodes:k,isValidConnection:$,nodeLookup:O}=be();let M=null,x=!1,G=null;function N(A){var V;const U=he(n)==="target",X=ac(A),j=Jp(A.target),J=A.currentTarget;if(J&&(X&&A.button===0||!X)){let ie=function(Q){S=tt(Q,fe),D=Fx(En(S,I.value,!1,[1,1]),c.value,O.value,T),w||(C(),w=!0);const ne=cg(Q,{handle:D,connectionMode:l.value,fromNodeId:he(t),fromHandleId:he(e),fromType:U?"target":"source",isValidConnection:P,doc:j,lib:"vue",flowId:s,nodeLookup:O.value},q.value,k.value,p,O.value);G=ne.handleDomNode,M=ne.connection,x=Vx(!!D,ne.isValid);const ae=ge(H({},W),{isValid:x,to:ne.toHandle&&x?wn({x:ne.toHandle.x,y:ne.toHandle.y},I.value):S,toHandle:ne.toHandle,toPosition:x&&ne.toHandle?ne.toHandle.position:ql[T.position],toNode:ne.toHandle?O.value.get(ne.toHandle.nodeId):null});if(x&&D&&(W!=null&&W.toHandle)&&ae.toHandle&&W.toHandle.type===ae.toHandle.type&&W.toHandle.nodeId===ae.toHandle.nodeId&&W.toHandle.id===ae.toHandle.id&&W.to.x===ae.to.x&&W.to.y===ae.to.y)return;const pe=D!=null?D:ne.toHandle;if(g(pe&&x?wn({x:pe.x,y:pe.y},I.value):S,ne.toHandle,Gx(!!pe,x)),W=ae,!D&&!x&&!G)return fl(ue);M&&M.source!==M.target&&G&&(fl(ue),ue=G,G.classList.add("connecting","vue-flow__handle-connecting"),G.classList.toggle("valid",!!x),G.classList.toggle("vue-flow__handle-valid",!!x))},le=function(Q){"touches"in Q&&Q.touches.length>0||((D||G)&&M&&x&&(o?o(Q,M):E.connect(M)),E.connectEnd(Q),i&&(a==null||a(Q)),fl(ue),cancelAnimationFrame(F),b(Q),w=!1,x=!1,M=null,G=null,j.removeEventListener("mousemove",ie),j.removeEventListener("mouseup",le),j.removeEventListener("touchmove",ie),j.removeEventListener("touchend",le))};const R=p(he(t));let P=he(r)||$.value||Gn;!P&&R&&(P=(U?R.isValidSourcePos:R.isValidTargetPos)||Gn);let D,F=0;const{x:Y,y:re}=tt(A),oe=mm(he(i),J),fe=(V=u.value)==null?void 0:V.getBoundingClientRect();if(!fe||!oe)return;const ce=_m(he(t),oe,he(e),O.value,l.value);if(!ce)return;let ue,S=tt(A,fe),w=!1;const C=()=>{if(!_.value)return;const[Q,ne]=gm(S,fe,v.value);y({x:Q,y:ne}),F=requestAnimationFrame(C)},T=ge(H({},ce),{nodeId:he(t),type:oe,position:ce.position}),z=O.value.get(he(t)),B={inProgress:!0,isValid:null,from:Yt(z,T,te.Left,!0),fromHandle:T,fromPosition:T.position,fromNode:z,to:S,toHandle:null,toPosition:ql[T.position],toNode:null};m(H({nodeId:he(t),id:he(e),type:oe,position:(J==null?void 0:J.getAttribute("data-handlepos"))||te.Top},S),{x:Y-fe.left,y:re-fe.top}),E.connectStart({event:A,nodeId:he(t),handleId:he(e),handleType:oe});let W=B;j.addEventListener("mousemove",ie),j.addEventListener("mouseup",le),j.addEventListener("touchmove",ie),j.addEventListener("touchend",le)}}function L(A){var P;var V,U;if(!d.value)return;const X=he(n)==="target";if(!f.value){E.clickConnectStart({event:A,nodeId:he(t),handleId:he(e)}),m(H({nodeId:he(t),type:he(n),id:he(e),position:te.Top},tt(A)),void 0,!0);return}let j=he(r)||$.value||Gn;const J=p(he(t));if(!j&&J&&(j=(X?J.isValidSourcePos:J.isValidTargetPos)||Gn),J&&(typeof J.connectable=="undefined"?h.value:J.connectable)===!1)return;const ie=Jp(A.target),le=cg(A,{handle:H({nodeId:he(t),id:he(e),type:he(n),position:te.Top},tt(A)),connectionMode:l.value,fromNodeId:f.value.nodeId,fromHandleId:(P=f.value.id)!=null?P:null,fromType:f.value.type,isValidConnection:j,doc:ie,lib:"vue",flowId:s,nodeLookup:O.value},q.value,k.value,p,O.value),R=((V=le.connection)==null?void 0:V.source)===((U=le.connection)==null?void 0:U.target);le.isValid&&le.connection&&!R&&E.connect(le.connection),E.clickConnectEnd(A),b(A,!0)}return{handlePointerDown:N,handleClick:L}}function Cm(){return Xt(wm,"")}function Nm(e){var s;const t=(s=e!=null?e:Cm())!=null?s:"",n=Xt(Em,ye(null)),{findNode:r,edges:i,emits:o}=be(),a=r(t);return a||o.error(new Te(Ie.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:a,parentNode:de(()=>r(a.parentNode)),connectedEdges:de(()=>vm([a],i.value))}}function Qx(){return{doubleClick:Z(),click:Z(),mouseEnter:Z(),mouseMove:Z(),mouseLeave:Z(),contextMenu:Z(),dragStart:Z(),drag:Z(),dragStop:Z()}}function eC(e,t){const n=Qx();return n.doubleClick.on(r=>{var i,o;t.nodeDoubleClick(r),(o=(i=e.events)==null?void 0:i.doubleClick)==null||o.call(i,r)}),n.click.on(r=>{var i,o;t.nodeClick(r),(o=(i=e.events)==null?void 0:i.click)==null||o.call(i,r)}),n.mouseEnter.on(r=>{var i,o;t.nodeMouseEnter(r),(o=(i=e.events)==null?void 0:i.mouseEnter)==null||o.call(i,r)}),n.mouseMove.on(r=>{var i,o;t.nodeMouseMove(r),(o=(i=e.events)==null?void 0:i.mouseMove)==null||o.call(i,r)}),n.mouseLeave.on(r=>{var i,o;t.nodeMouseLeave(r),(o=(i=e.events)==null?void 0:i.mouseLeave)==null||o.call(i,r)}),n.contextMenu.on(r=>{var i,o;t.nodeContextMenu(r),(o=(i=e.events)==null?void 0:i.contextMenu)==null||o.call(i,r)}),n.dragStart.on(r=>{var i,o;t.nodeDragStart(r),(o=(i=e.events)==null?void 0:i.dragStart)==null||o.call(i,r)}),n.drag.on(r=>{var i,o;t.nodeDrag(r),(o=(i=e.events)==null?void 0:i.drag)==null||o.call(i,r)}),n.dragStop.on(r=>{var i,o;t.nodeDragStop(r),(o=(i=e.events)==null?void 0:i.dragStop)==null||o.call(i,r)}),Object.entries(n).reduce((r,[i,o])=>(r.emit[i]=o.trigger,r.on[i]=o.on,r),{emit:{},on:{}})}function Im(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:r,snapGrid:i,snapToGrid:o,nodesDraggable:a,emits:s}=be();return(u,l=!1)=>{const c=o.value?i.value[0]:5,d=o.value?i.value[1]:5,f=l?4:1,h=u.x*c*f,_=u.y*d*f,v=[];for(const p of e.value)if(p.draggable||a&&typeof p.draggable=="undefined"){const y={x:p.computedPosition.x+h,y:p.computedPosition.y+_},{computedPosition:m}=oc(p,y,s.error,t.value,p.parentNode?r(p.parentNode):void 0);v.push({id:p.id,position:m,from:p.position,distance:{x:u.x,y:u.y},dimensions:p.dimensions})}n(v,!0,!1)}}const Vn=.1,tC=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function pt(){return nn("Viewport not initialized yet."),Promise.resolve(!1)}const nC={zoomIn:pt,zoomOut:pt,zoomTo:pt,fitView:pt,setCenter:pt,fitBounds:pt,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:pt,setTransform:pt,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function rC(e){function t(r,i){return new Promise(o=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((i==null?void 0:i.interpolate)==="linear"?hn:Kn).scaleBy(pl(e.d3Selection,i==null?void 0:i.duration,i==null?void 0:i.ease,()=>{o(!0)}),r):o(!1)})}function n(r,i,o,a){return new Promise(s=>{var u;const{x:l,y:c}=sm({x:-r,y:-i},e.translateExtent),d=jt.translate(-l,-c).scale(o);e.d3Selection&&e.d3Zoom?(u=e.d3Zoom)==null||u.interpolate((a==null?void 0:a.interpolate)==="linear"?hn:Kn).transform(pl(e.d3Selection,a==null?void 0:a.duration,a==null?void 0:a.ease,()=>{s(!0)}),d):s(!1)})}return de(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:i=>t(1.2,i),zoomOut:i=>t(1/1.2,i),zoomTo:(i,o)=>new Promise(a=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((o==null?void 0:o.interpolate)==="linear"?hn:Kn).scaleTo(pl(e.d3Selection,o==null?void 0:o.duration,o==null?void 0:o.ease,()=>{a(!0)}),i):a(!1)}),setViewport:(i,o)=>n(i.x,i.y,i.zoom,o),setTransform:(i,o)=>n(i.x,i.y,i.zoom,o),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(i={padding:Vn,includeHiddenNodes:!1,duration:0})=>{var f,h,_;var o,a;const s=[];for(const v of e.nodes)v.dimensions.width&&v.dimensions.height&&((i==null?void 0:i.includeHiddenNodes)||!v.hidden)&&(!((o=i.nodes)!=null&&o.length)||(a=i.nodes)!=null&&a.length&&i.nodes.includes(v.id))&&s.push(v);if(!s.length)return Promise.resolve(!1);const u=fm(s),{x:l,y:c,zoom:d}=Qp(u,e.dimensions.width,e.dimensions.height,(f=i.minZoom)!=null?f:e.minZoom,(h=i.maxZoom)!=null?h:e.maxZoom,(_=i.padding)!=null?_:Vn);return n(l,c,d,i)},setCenter:(i,o,a)=>{const s=typeof(a==null?void 0:a.zoom)!="undefined"?a.zoom:e.maxZoom,u=e.dimensions.width/2-i*s,l=e.dimensions.height/2-o*s;return n(u,l,s,a)},fitBounds:(i,o={padding:Vn})=>{var l;const{x:a,y:s,zoom:u}=Qp(i,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,(l=o.padding)!=null?l:Vn);return n(a,s,u,o)},project:i=>En(i,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:i=>{if(e.vueFlowRef){const{x:o,y:a}=e.vueFlowRef.getBoundingClientRect(),s={x:i.x-o,y:i.y-a};return En(s,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:i=>{if(e.vueFlowRef){const{x:o,y:a}=e.vueFlowRef.getBoundingClientRect(),s={x:i.x+o,y:i.y+a};return wn(s,e.viewport)}return{x:0,y:0}}}:nC)}function pl(e,t=0,n=tC,r=()=>{}){const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e}function iC(e,t,n){const r=xg(!0);return r.run(()=>{const i=()=>{r.run(()=>{let v,p,y=!!(n.nodes.value.length||n.edges.value.length);v=$t([e.modelValue,()=>{var m,g;return(g=(m=e.modelValue)==null?void 0:m.value)==null?void 0:g.length}],([m])=>{m&&Array.isArray(m)&&(p==null||p.pause(),n.setElements(m),!p&&!y&&m.length?y=!0:p==null||p.resume())}),p=$t([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([m,g])=>{var b;(b=e.modelValue)!=null&&b.value&&Array.isArray(e.modelValue.value)&&(v==null||v.pause(),e.modelValue.value=[...m,...g],Le(()=>{v==null||v.resume()}))},{immediate:y}),Un(()=>{v==null||v.stop(),p==null||p.stop()})})},o=()=>{r.run(()=>{let v,p,y=!!n.nodes.value.length;v=$t([e.nodes,()=>{var m,g;return(g=(m=e.nodes)==null?void 0:m.value)==null?void 0:g.length}],([m])=>{m&&Array.isArray(m)&&(p==null||p.pause(),n.setNodes(m),!p&&!y&&m.length?y=!0:p==null||p.resume())}),p=$t([n.nodes,()=>n.nodes.value.length],([m])=>{var g;(g=e.nodes)!=null&&g.value&&Array.isArray(e.nodes.value)&&(v==null||v.pause(),e.nodes.value=[...m],Le(()=>{v==null||v.resume()}))},{immediate:y}),Un(()=>{v==null||v.stop(),p==null||p.stop()})})},a=()=>{r.run(()=>{let v,p,y=!!n.edges.value.length;v=$t([e.edges,()=>{var m,g;return(g=(m=e.edges)==null?void 0:m.value)==null?void 0:g.length}],([m])=>{m&&Array.isArray(m)&&(p==null||p.pause(),n.setEdges(m),!p&&!y&&m.length?y=!0:p==null||p.resume())}),p=$t([n.edges,()=>n.edges.value.length],([m])=>{var g;(g=e.edges)!=null&&g.value&&Array.isArray(e.edges.value)&&(v==null||v.pause(),e.edges.value=[...m],Le(()=>{v==null||v.resume()}))},{immediate:y}),Un(()=>{v==null||v.stop(),p==null||p.stop()})})},s=()=>{r.run(()=>{_e(()=>t.maxZoom,()=>{t.maxZoom&&Ne(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},u=()=>{r.run(()=>{_e(()=>t.minZoom,()=>{t.minZoom&&Ne(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},l=()=>{r.run(()=>{_e(()=>t.translateExtent,()=>{t.translateExtent&&Ne(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},c=()=>{r.run(()=>{_e(()=>t.nodeExtent,()=>{t.nodeExtent&&Ne(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},d=()=>{r.run(()=>{_e(()=>t.applyDefault,()=>{Ne(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},f=()=>{r.run(()=>{const v=p=>Ve(null,null,function*(){let y=p;typeof t.autoConnect=="function"&&(y=yield t.autoConnect(p)),y!==!1&&n.addEdges([y])});_e(()=>t.autoConnect,()=>{Ne(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),_e(n.autoConnect,(p,y,m)=>{p?n.onConnect(v):n.hooks.value.connect.off(v),m(()=>{n.hooks.value.connect.off(v)})},{immediate:!0})})},h=()=>{const v=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const p of Object.keys(t)){const y=p;if(!v.includes(y)){const m=me(()=>t[y]),g=n[y];Al(g)&&r.run(()=>{_e(m,b=>{Ne(b)&&(g.value=b)},{immediate:!0})})}}};(()=>{i(),o(),a(),u(),s(),l(),c(),d(),f(),h()})()}),()=>r.stop()}function oC(){return{edgesChange:Z(),nodesChange:Z(),nodeDoubleClick:Z(),nodeClick:Z(),nodeMouseEnter:Z(),nodeMouseMove:Z(),nodeMouseLeave:Z(),nodeContextMenu:Z(),nodeDragStart:Z(),nodeDrag:Z(),nodeDragStop:Z(),nodesInitialized:Z(),miniMapNodeClick:Z(),miniMapNodeDoubleClick:Z(),miniMapNodeMouseEnter:Z(),miniMapNodeMouseMove:Z(),miniMapNodeMouseLeave:Z(),connect:Z(),connectStart:Z(),connectEnd:Z(),clickConnectStart:Z(),clickConnectEnd:Z(),paneReady:Z(),init:Z(),move:Z(),moveStart:Z(),moveEnd:Z(),selectionDragStart:Z(),selectionDrag:Z(),selectionDragStop:Z(),selectionContextMenu:Z(),selectionStart:Z(),selectionEnd:Z(),viewportChangeStart:Z(),viewportChange:Z(),viewportChangeEnd:Z(),paneScroll:Z(),paneClick:Z(),paneContextMenu:Z(),paneMouseEnter:Z(),paneMouseMove:Z(),paneMouseLeave:Z(),edgeContextMenu:Z(),edgeMouseEnter:Z(),edgeMouseMove:Z(),edgeMouseLeave:Z(),edgeDoubleClick:Z(),edgeClick:Z(),edgeUpdateStart:Z(),edgeUpdate:Z(),edgeUpdateEnd:Z(),updateNodeInternals:Z(),error:Z(e=>nn(e.message))}}function aC(e,t){const n=Wt();Ym(()=>{for(const[i,o]of Object.entries(t.value)){const a=s=>{e(i,s)};o.setEmitter(a),gn(o.removeEmitter),o.setHasEmitListeners(()=>r(i)),gn(o.removeHasEmitListeners)}});function r(i){var o;const a=sC(i);return!!((o=n==null?void 0:n.vnode.props)==null?void 0:o[a])}}function sC(e){const[t,...n]=e.split(":");return`on${t.replace(/(?:^|-)(\w)/g,(i,o)=>o.toUpperCase())}${n.length?`:${n.join(":")}`:""}`}function qm(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:ic.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:vn.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:St.Bezier,style:{}},connectionMode:mt.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:cr()?"Meta":"Control",zoomActivationKeyCode:cr()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:oC(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const uC=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function lC(e,t,n){const r=rC(e),i=S=>{const w=S!=null?S:[];e.hooks.updateNodeInternals.trigger(w)},o=S=>Sx(S,e.nodes,e.edges),a=S=>Ex(S,e.nodes,e.edges),s=S=>vm(S,e.edges),u=({id:S,type:w,nodeId:C})=>{var K;var T;const z=S?`-${w}-${S}`:`-${w}`;return Array.from((K=(T=e.connectionLookup.get(`${C}${z}`))==null?void 0:T.values())!=null?K:[])},l=S=>{if(S)return t.value.get(S)},c=S=>{if(S)return n.value.get(S)},d=(S,w,C)=>{var B,W;var T,z;const K=[];for(const Q of S){const ne={id:Q.id,type:"position",dragging:C,from:Q.from};if(w&&(ne.position=Q.position,Q.parentNode)){const ae=l(Q.parentNode);ne.position={x:ne.position.x-((B=(T=ae==null?void 0:ae.computedPosition)==null?void 0:T.x)!=null?B:0),y:ne.position.y-((W=(z=ae==null?void 0:ae.computedPosition)==null?void 0:z.y)!=null?W:0)}}K.push(ne)}K!=null&&K.length&&e.hooks.nodesChange.trigger(K)},f=S=>{if(!e.vueFlowRef)return;const w=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!w)return;const C=window.getComputedStyle(w),{m22:T}=new window.DOMMatrixReadOnly(C.transform),z=[];for(const K of S){const B=K,W=l(B.id);if(W){const Q=Pr(B.nodeElement);if(!!(Q.width&&Q.height&&(W.dimensions.width!==Q.width||W.dimensions.height!==Q.height||B.forceUpdate))){const ae=B.nodeElement.getBoundingClientRect();W.dimensions=Q,W.handleBounds.source=dg("source",B.nodeElement,ae,T,W.id),W.handleBounds.target=dg("target",B.nodeElement,ae,T,W.id),z.push({id:W.id,type:"dimensions",dimensions:Q})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&r.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),z.length&&e.hooks.nodesChange.trigger(z)},h=(S,w)=>{const C=new Set,T=new Set;for(const B of S)It(B)?C.add(B.id):_t(B)&&T.add(B.id);const z=yt(t.value,C,!0),K=yt(n.value,T);if(e.multiSelectionActive){for(const B of C)z.push(gt(B,w));for(const B of T)K.push(gt(B,w))}z.length&&e.hooks.nodesChange.trigger(z),K.length&&e.hooks.edgesChange.trigger(K)},_=S=>{if(e.multiSelectionActive){const w=S.map(C=>gt(C.id,!0));e.hooks.nodesChange.trigger(w);return}e.hooks.nodesChange.trigger(yt(t.value,new Set(S.map(w=>w.id)),!0)),e.hooks.edgesChange.trigger(yt(n.value))},v=S=>{if(e.multiSelectionActive){const w=S.map(C=>gt(C.id,!0));e.hooks.edgesChange.trigger(w);return}e.hooks.edgesChange.trigger(yt(n.value,new Set(S.map(w=>w.id)))),e.hooks.nodesChange.trigger(yt(t.value,new Set,!0))},p=S=>{h(S,!0)},y=S=>{const C=(S||e.nodes).map(T=>(T.selected=!1,gt(T.id,!1)));e.hooks.nodesChange.trigger(C)},m=S=>{const C=(S||e.edges).map(T=>(T.selected=!1,gt(T.id,!1)));e.hooks.edgesChange.trigger(C)},g=S=>{if(!S||!S.length)return h([],!1);const w=S.reduce((C,T)=>{const z=gt(T.id,!1);return It(T)?C.nodes.push(z):C.edges.push(z),C},{nodes:[],edges:[]});w.nodes.length&&e.hooks.nodesChange.trigger(w.nodes),w.edges.length&&e.hooks.edgesChange.trigger(w.edges)},b=S=>{var w;(w=e.d3Zoom)==null||w.scaleExtent([S,e.maxZoom]),e.minZoom=S},E=S=>{var w;(w=e.d3Zoom)==null||w.scaleExtent([e.minZoom,S]),e.maxZoom=S},I=S=>{var w;(w=e.d3Zoom)==null||w.translateExtent(S),e.translateExtent=S},q=S=>{e.nodeExtent=S,i()},k=S=>{var w;(w=e.d3Zoom)==null||w.clickDistance(S)},$=S=>{e.nodesDraggable=S,e.nodesConnectable=S,e.elementsSelectable=S},O=S=>{const w=S instanceof Function?S(e.nodes):S;!e.initialized&&!w.length||(e.nodes=fg(w,l,e.hooks.error.trigger))},M=S=>{const w=S instanceof Function?S(e.edges):S;if(!e.initialized&&!w.length)return;const C=vl(w,e.isValidConnection,l,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);hl(e.connectionLookup,n.value,C),e.edges=C},x=S=>{const w=S instanceof Function?S([...e.nodes,...e.edges]):S;!e.initialized&&!w.length||(O(w.filter(It)),M(w.filter(_t)))},G=S=>{let w=S instanceof Function?S(e.nodes):S;w=Array.isArray(w)?w:[w];const C=fg(w,l,e.hooks.error.trigger),T=[];for(const z of C)T.push(rg(z));T.length&&e.hooks.nodesChange.trigger(T)},N=S=>{let w=S instanceof Function?S(e.edges):S;w=Array.isArray(w)?w:[w];const C=vl(w,e.isValidConnection,l,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),T=[];for(const z of C)T.push(rg(z));T.length&&e.hooks.edgesChange.trigger(T)},L=(S,w=!0,C=!1)=>{const T=S instanceof Function?S(e.nodes):S,z=Array.isArray(T)?T:[T],K=[],B=[];function W(ne){const ae=s(ne);for(const pe of ae)(!Ne(pe.deletable)||pe.deletable)&&B.push(og(pe.id,pe.source,pe.target,pe.sourceHandle,pe.targetHandle))}function Q(ne){const ae=[];for(const pe of e.nodes)pe.parentNode===ne&&ae.push(pe);if(ae.length){for(const pe of ae)K.push(ig(pe.id));w&&W(ae);for(const pe of ae)Q(pe.id)}}for(const ne of z){const ae=typeof ne=="string"?l(ne):ne;ae&&(Ne(ae.deletable)&&!ae.deletable||(K.push(ig(ae.id)),w&&W([ae]),C&&Q(ae.id)))}B.length&&e.hooks.edgesChange.trigger(B),K.length&&e.hooks.nodesChange.trigger(K)},A=S=>{const w=S instanceof Function?S(e.edges):S,C=Array.isArray(w)?w:[w],T=[];for(const z of C){const K=typeof z=="string"?c(z):z;K&&(Ne(K.deletable)&&!K.deletable||T.push(og(typeof z=="string"?z:z.id,K.source,K.target,K.sourceHandle,K.targetHandle)))}e.hooks.edgesChange.trigger(T)},V=(S,w,C=!0)=>{const T=c(S.id);if(!T)return!1;const z=e.edges.indexOf(T),K=jx(S,w,T,C,e.hooks.error.trigger);if(K){const[B]=vl([K],e.isValidConnection,l,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((W,Q)=>Q===z?B:W),hl(e.connectionLookup,n.value,[B]),B}return!1},U=(S,w,C={replace:!1})=>{const T=c(S);if(!T)return;const z=typeof w=="function"?w(T):w;T.data=C.replace?z:H(H({},T.data),z)},X=S=>ng(S,e.nodes),j=S=>{const w=ng(S,e.edges);return hl(e.connectionLookup,n.value,w),w},J=(S,w,C={replace:!1})=>{const T=l(S);if(!T)return;const z=typeof w=="function"?w(T):w;C.replace?e.nodes.splice(e.nodes.indexOf(T),1,z):Object.assign(T,z)},ie=(S,w,C={replace:!1})=>{const T=l(S);if(!T)return;const z=typeof w=="function"?w(T):w;T.data=C.replace?z:H(H({},T.data),z)},le=(S,w,C=!1)=>{C?e.connectionClickStartHandle=S:e.connectionStartHandle=S,e.connectionEndHandle=null,e.connectionStatus=null,w&&(e.connectionPosition=w)},R=(S,w=null,C=null)=>{e.connectionStartHandle&&(e.connectionPosition=S,e.connectionEndHandle=w,e.connectionStatus=C)},P=(S,w)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,w?e.connectionClickStartHandle=null:e.connectionStartHandle=null},D=S=>{const w=bx(S),C=w?null:fn(S)?S:l(S.id);return!w&&!C?[null,null,w]:[w?S:ur(C),C,w]},F=(S,w=!0,C=e.nodes)=>{const[T,z,K]=D(S);if(!T)return[];const B=[];for(const W of C||e.nodes){if(!K&&(W.id===z.id||!W.computedPosition))continue;const Q=ur(W),ne=lr(Q,T);(w&&ne>0||ne>=Q.width*Q.height||ne>=Number(T.width)*Number(T.height))&&B.push(W)}return B},Y=(S,w,C=!0)=>{const[T]=D(S);if(!T)return!1;const z=lr(T,w);return C&&z>0||z>=Number(T.width)*Number(T.height)},re=S=>{const{viewport:w,dimensions:C,d3Zoom:T,d3Selection:z,translateExtent:K}=e;if(!T||!z||!S.x&&!S.y)return!1;const B=jt.translate(w.x+S.x,w.y+S.y).scale(w.zoom),W=[[0,0],[C.width,C.height]],Q=T.constrain()(B,W,K),ne=e.viewport.x!==Q.x||e.viewport.y!==Q.y||e.viewport.zoom!==Q.k;return T.transform(z,Q),ne},oe=S=>{const w=S instanceof Function?S(e):S,C=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];Ne(w.defaultEdgeOptions)&&(e.defaultEdgeOptions=w.defaultEdgeOptions);const T=w.modelValue||w.nodes||w.edges?[]:void 0;T&&(w.modelValue&&T.push(...w.modelValue),w.nodes&&T.push(...w.nodes),w.edges&&T.push(...w.edges),x(T));const z=()=>{Ne(w.maxZoom)&&E(w.maxZoom),Ne(w.minZoom)&&b(w.minZoom),Ne(w.translateExtent)&&I(w.translateExtent)};for(const K of Object.keys(w)){const B=K,W=w[B];![...uC,...C].includes(B)&&Ne(W)&&(e[B]=W)}yl(()=>e.d3Zoom).not.toBeNull().then(z),e.initialized||(e.initialized=!0)};return{updateNodePositions:d,updateNodeDimensions:f,setElements:x,setNodes:O,setEdges:M,addNodes:G,addEdges:N,removeNodes:L,removeEdges:A,findNode:l,findEdge:c,updateEdge:V,updateEdgeData:U,updateNode:J,updateNodeData:ie,applyEdgeChanges:j,applyNodeChanges:X,addSelectedElements:p,addSelectedNodes:_,addSelectedEdges:v,setMinZoom:b,setMaxZoom:E,setTranslateExtent:I,setNodeExtent:q,setPaneClickDistance:k,removeSelectedElements:g,removeSelectedNodes:y,removeSelectedEdges:m,startConnection:le,updateConnection:R,endConnection:P,setInteractive:$,setState:oe,getIntersectingNodes:F,getIncomers:o,getOutgoers:a,getConnectedEdges:s,getHandleConnections:u,isNodeIntersecting:Y,panBy:re,fitView:S=>r.value.fitView(S),zoomIn:S=>r.value.zoomIn(S),zoomOut:S=>r.value.zoomOut(S),zoomTo:(S,w)=>r.value.zoomTo(S,w),setViewport:(S,w)=>r.value.setViewport(S,w),setTransform:(S,w)=>r.value.setTransform(S,w),getViewport:()=>r.value.getViewport(),getTransform:()=>r.value.getTransform(),setCenter:(S,w,C)=>r.value.setCenter(S,w,C),fitBounds:(S,w)=>r.value.fitBounds(S,w),project:S=>r.value.project(S),screenToFlowCoordinate:S=>r.value.screenToFlowCoordinate(S),flowToScreenCoordinate:S=>r.value.flowToScreenCoordinate(S),toObject:()=>{const S=[],w=[];for(const z of e.nodes){const C=z,{computedPosition:K,handleBounds:B,selected:W,dimensions:Q,isParent:ne,resizing:ae,dragging:pe,events:Ge}=C,De=Dt(C,["computedPosition","handleBounds","selected","dimensions","isParent","resizing","dragging","events"]);S.push(De)}for(const z of e.edges){const T=z,{selected:K,sourceNode:B,targetNode:W,events:Q}=T,ne=Dt(T,["selected","sourceNode","targetNode","events"]);w.push(ne)}return JSON.parse(JSON.stringify({nodes:S,edges:w,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:S=>new Promise(w=>{const{nodes:C,edges:T,position:z,zoom:K,viewport:B}=S;if(C&&O(C),T&&M(T),B!=null&&B.x&&(B!=null&&B.y)||z){const W=(B==null?void 0:B.x)||z[0],Q=(B==null?void 0:B.y)||z[1],ne=(B==null?void 0:B.zoom)||K||e.viewport.zoom;return yl(()=>r.value.viewportInitialized).toBe(!0).then(()=>{r.value.setViewport({x:W,y:Q,zoom:ne}).then(()=>{w(!0)})})}else w(!0)}),updateNodeInternals:i,viewportHelper:r,$reset:()=>{var w,C,T;const S=qm();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const z=jt.translate((w=S.defaultViewport.x)!=null?w:0,(C=S.defaultViewport.y)!=null?C:0).scale(Rt((T=S.defaultViewport.zoom)!=null?T:1,S.minZoom,S.maxZoom)),K=e.viewportRef.getBoundingClientRect(),B=[[0,0],[K.width,K.height]],W=e.d3Zoom.constrain()(z,B,S.translateExtent);e.d3Zoom.transform(e.d3Selection,W)}oe(S)},$destroy:()=>{}}}const cC=["data-id","data-handleid","data-nodeid","data-handlepos"],dC={name:"Handle",compatConfig:{MODE:3}},Kt=Ee(ge(H({},dC),{props:{id:{default:null},type:{},position:{default:()=>te.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=Gm(e,["position","connectable","connectableStart","connectableEnd","id"]),r=me(()=>{var M;return(M=n.type)!=null?M:"source"}),i=me(()=>{var M;return(M=n.isValidConnection)!=null?M:null}),{id:o,connectionStartHandle:a,connectionClickStartHandle:s,connectionEndHandle:u,vueFlowRef:l,nodesConnectable:c,noDragClassName:d,noPanClassName:f}=be(),{id:h,node:_,nodeEl:v,connectedEdges:p}=Nm(),y=ye(),m=me(()=>typeof e.connectableStart!="undefined"?e.connectableStart:!0),g=me(()=>typeof e.connectableEnd!="undefined"?e.connectableEnd:!0),b=me(()=>{var M,x,G,N,L,A;return((M=a.value)==null?void 0:M.nodeId)===h&&((x=a.value)==null?void 0:x.id)===e.id&&((G=a.value)==null?void 0:G.type)===r.value||((N=u.value)==null?void 0:N.nodeId)===h&&((L=u.value)==null?void 0:L.id)===e.id&&((A=u.value)==null?void 0:A.type)===r.value}),E=me(()=>{var M,x,G;return((M=s.value)==null?void 0:M.nodeId)===h&&((x=s.value)==null?void 0:x.id)===e.id&&((G=s.value)==null?void 0:G.type)===r.value}),{handlePointerDown:I,handleClick:q}=xm({nodeId:h,handleId:e.id,isValidConnection:i,type:r}),k=de(()=>typeof e.connectable=="string"&&e.connectable==="single"?!p.value.some(M=>{const x=M[`${r.value}Handle`];return M[r.value]!==h?!1:x?x===e.id:!0}):typeof e.connectable=="number"?p.value.filter(M=>{const x=M[`${r.value}Handle`];return M[r.value]!==h?!1:x?x===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(_,p.value):Ne(e.connectable)?e.connectable:c.value);bt(()=>{var X;var M;if(!_.dimensions.width||!_.dimensions.height)return;const x=(M=_.handleBounds[r.value])==null?void 0:M.find(j=>j.id===e.id);if(!l.value||x)return;const G=l.value.querySelector(".vue-flow__transformationpane");if(!v.value||!y.value||!G||!e.id)return;const N=v.value.getBoundingClientRect(),L=y.value.getBoundingClientRect(),A=window.getComputedStyle(G),{m22:V}=new window.DOMMatrixReadOnly(A.transform),U=H({id:e.id,position:e.position,x:(L.left-N.left)/V,y:(L.top-N.top)/V,type:r.value,nodeId:h},Pr(y.value));_.handleBounds[r.value]=[...(X=_.handleBounds[r.value])!=null?X:[],U]});function $(M){const x=ac(M);k.value&&m.value&&(x&&M.button===0||!x)&&I(M)}function O(M){!h||!s.value&&!m.value||k.value&&q(M)}return t({handleClick:q,handlePointerDown:I,onClick:O,onPointerDown:$}),(M,x)=>(se(),ve("div",{ref_key:"handle",ref:y,"data-id":`${ee(o)}-${ee(h)}-${e.id}-${r.value}`,"data-handleid":e.id,"data-nodeid":ee(h),"data-handlepos":M.position,class:Gt(["vue-flow__handle",[`vue-flow__handle-${M.position}`,`vue-flow__handle-${e.id}`,ee(d),ee(f),r.value,{connectable:k.value,connecting:E.value,connectablestart:m.value,connectableend:g.value,connectionindicator:k.value&&(m.value&&!b.value||g.value&&b.value)}]]),onMousedown:$,onTouchstartPassive:$,onClick:O},[$e(M.$slots,"default",{id:M.id})],42,cC))}})),Dr=function({sourcePosition:e=te.Bottom,targetPosition:t=te.Top,label:n,connectable:r=!0,isValidTargetPos:i,isValidSourcePos:o,data:a}){var u;const s=(u=a.label)!=null?u:n;return[we(Kt,{type:"target",position:t,connectable:r,isValidConnection:i}),typeof s!="string"&&s?we(s):we(Ke,[s]),we(Kt,{type:"source",position:e,connectable:r,isValidConnection:o})]};Dr.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];Dr.inheritAttrs=!1;Dr.compatConfig={MODE:3};const fC=Dr,$r=function({targetPosition:e=te.Top,label:t,connectable:n=!0,isValidTargetPos:r,data:i}){var a;const o=(a=i.label)!=null?a:t;return[we(Kt,{type:"target",position:e,connectable:n,isValidConnection:r}),typeof o!="string"&&o?we(o):we(Ke,[o])]};$r.props=["targetPosition","label","isValidTargetPos","connectable","data"];$r.inheritAttrs=!1;$r.compatConfig={MODE:3};const hC=$r,Lr=function({sourcePosition:e=te.Bottom,label:t,connectable:n=!0,isValidSourcePos:r,data:i}){var a;const o=(a=i.label)!=null?a:t;return[typeof o!="string"&&o?we(o):we(Ke,[o]),we(Kt,{type:"source",position:e,connectable:n,isValidConnection:r})]};Lr.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Lr.inheritAttrs=!1;Lr.compatConfig={MODE:3};const vC=Lr,pC=["transform"],gC=["width","height","x","y","rx","ry"],yC=["y"],mC={name:"EdgeText",compatConfig:{MODE:3}},_C=Ee(ge(H({},mC),{props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=ye({x:0,y:0,width:0,height:0}),n=ye(null),r=de(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);bt(i),_e([()=>e.x,()=>e.y,n,()=>e.label],i);function i(){if(!n.value)return;const o=n.value.getBBox();(o.width!==t.value.width||o.height!==t.value.height)&&(t.value=o)}return(o,a)=>(se(),ve("g",{transform:r.value,class:"vue-flow__edge-textwrapper"},[o.labelShowBg?(se(),ve("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*o.labelBgPadding[0]}px`,height:`${t.value.height+2*o.labelBgPadding[1]}px`,x:-o.labelBgPadding[0],y:-o.labelBgPadding[1],style:ke(o.labelBgStyle),rx:o.labelBgBorderRadius,ry:o.labelBgBorderRadius},null,12,gC)):Re("",!0),Se("text",Cg(o.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:o.labelStyle}),[$e(o.$slots,"default",{},()=>[typeof o.label!="string"?(se(),Be(jm(o.label),{key:0})):(se(),ve(Ke,{key:1},[Ng(Jn(o.label),1)],64))])],16,yC)],8,pC))}})),bC=["id","d","marker-end","marker-start"],wC=["d","stroke-width"],EC={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},An=Ee(ge(H({},EC),{props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=ye(null),r=ye(null),i=ye(null),o=zm();return t({pathEl:n,interactionEl:r,labelEl:i}),(a,s)=>(se(),ve(Ke,null,[Se("path",Cg(ee(o),{id:a.id,ref_key:"pathEl",ref:n,d:a.path,class:"vue-flow__edge-path","marker-end":a.markerEnd,"marker-start":a.markerStart}),null,16,bC),a.interactionWidth?(se(),ve("path",{key:0,ref_key:"interactionEl",ref:r,fill:"none",d:a.path,"stroke-width":a.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,wC)):Re("",!0),a.label&&a.labelX&&a.labelY?(se(),Be(_C,{key:1,ref_key:"labelEl",ref:i,x:a.labelX,y:a.labelY,label:a.label,"label-show-bg":a.labelShowBg,"label-bg-style":a.labelBgStyle,"label-bg-padding":a.labelBgPadding,"label-bg-border-radius":a.labelBgBorderRadius,"label-style":a.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):Re("",!0)],64))}}));function Tm({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,a=Math.abs(r-t)/2,s=r<t?r+a:r-a;return[o,s,i,a]}function Rm({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){const u=e*.125+i*.375+a*.375+n*.125,l=t*.125+o*.375+s*.375+r*.125,c=Math.abs(u-e),d=Math.abs(l-t);return[u,l,c,d]}function Hn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function yg({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){let a,s;switch(e){case te.Left:a=t-Hn(t-r,o),s=n;break;case te.Right:a=t+Hn(r-t,o),s=n;break;case te.Top:a=t,s=n-Hn(n-i,o);break;case te.Bottom:a=t,s=n+Hn(i-n,o);break}return[a,s]}function Am(e){const{sourceX:t,sourceY:n,sourcePosition:r=te.Bottom,targetX:i,targetY:o,targetPosition:a=te.Top,curvature:s=.25}=e,[u,l]=yg({pos:r,x1:t,y1:n,x2:i,y2:o,c:s}),[c,d]=yg({pos:a,x1:i,y1:o,x2:t,y2:n,c:s}),[f,h,_,v]=Rm({sourceX:t,sourceY:n,targetX:i,targetY:o,sourceControlX:u,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${t},${n} C${u},${l} ${c},${d} ${i},${o}`,f,h,_,v]}function mg({pos:e,x1:t,y1:n,x2:r,y2:i}){let o,a;switch(e){case te.Left:case te.Right:o=.5*(t+r),a=n;break;case te.Top:case te.Bottom:o=t,a=.5*(n+i);break}return[o,a]}function Mm(e){const{sourceX:t,sourceY:n,sourcePosition:r=te.Bottom,targetX:i,targetY:o,targetPosition:a=te.Top}=e,[s,u]=mg({pos:r,x1:t,y1:n,x2:i,y2:o}),[l,c]=mg({pos:a,x1:i,y1:o,x2:t,y2:n}),[d,f,h,_]=Rm({sourceX:t,sourceY:n,targetX:i,targetY:o,sourceControlX:s,sourceControlY:u,targetControlX:l,targetControlY:c});return[`M${t},${n} C${s},${u} ${l},${c} ${i},${o}`,d,f,h,_]}const _g={[te.Left]:{x:-1,y:0},[te.Right]:{x:1,y:0},[te.Top]:{x:0,y:-1},[te.Bottom]:{x:0,y:1}};function SC({source:e,sourcePosition:t=te.Bottom,target:n}){return t===te.Left||t===te.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function bg(e,t){return Math.sqrt(Ot(t.x-e.x,2)+Ot(t.y-e.y,2))}function xC({source:e,sourcePosition:t=te.Bottom,target:n,targetPosition:r=te.Top,center:i,offset:o}){var q,k;const a=_g[t],s=_g[r],u={x:e.x+a.x*o,y:e.y+a.y*o},l={x:n.x+s.x*o,y:n.y+s.y*o},c=SC({source:u,sourcePosition:t,target:l}),d=c.x!==0?"x":"y",f=c[d];let h,_,v;const p={x:0,y:0},y={x:0,y:0},[m,g,b,E]=Tm({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[d]*s[d]===-1){_=(q=i.x)!=null?q:m,v=(k=i.y)!=null?k:g;const $=[{x:_,y:u.y},{x:_,y:l.y}],O=[{x:u.x,y:v},{x:l.x,y:v}];a[d]===f?h=d==="x"?$:O:h=d==="x"?O:$}else{const $=[{x:u.x,y:l.y}],O=[{x:l.x,y:u.y}];if(d==="x"?h=a.x===f?O:$:h=a.y===f?$:O,t===r){const L=Math.abs(e[d]-n[d]);if(L<=o){const A=Math.min(o-1,o-L);a[d]===f?p[d]=(u[d]>e[d]?-1:1)*A:y[d]=(l[d]>n[d]?-1:1)*A}}if(t!==r){const L=d==="x"?"y":"x",A=a[d]===s[L],V=u[L]>l[L],U=u[L]<l[L];(a[d]===1&&(!A&&V||A&&U)||a[d]!==1&&(!A&&U||A&&V))&&(h=d==="x"?$:O)}const M={x:u.x+p.x,y:u.y+p.y},x={x:l.x+y.x,y:l.y+y.y},G=Math.max(Math.abs(M.x-h[0].x),Math.abs(x.x-h[0].x)),N=Math.max(Math.abs(M.y-h[0].y),Math.abs(x.y-h[0].y));G>=N?(_=(M.x+x.x)/2,v=h[0].y):(_=h[0].x,v=(M.y+x.y)/2)}return[[e,{x:u.x+p.x,y:u.y+p.y},...h,{x:l.x+y.x,y:l.y+y.y},n],_,v,b,E]}function CC(e,t,n,r){const i=Math.min(bg(e,t)/2,bg(t,n)/2,r),{x:o,y:a}=t;if(e.x===o&&o===n.x||e.y===a&&a===n.y)return`L${o} ${a}`;if(e.y===a){const l=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*l},${a}Q ${o},${a} ${o},${a+i*c}`}const s=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${o},${a+i*u}Q ${o},${a} ${o+i*s},${a}`}function dr(e){const{sourceX:t,sourceY:n,sourcePosition:r=te.Bottom,targetX:i,targetY:o,targetPosition:a=te.Top,borderRadius:s=5,centerX:u,centerY:l,offset:c=20}=e,[d,f,h,_,v]=xC({source:{x:t,y:n},sourcePosition:r,target:{x:i,y:o},targetPosition:a,center:{x:u,y:l},offset:c});return[d.reduce((y,m,g)=>{let b;return g>0&&g<d.length-1?b=CC(d[g-1],m,d[g+1],s):b=`${g===0?"M":"L"}${m.x} ${m.y}`,y+=b,y},""),f,h,_,v]}function NC(e){const{sourceX:t,sourceY:n,targetX:r,targetY:i}=e,[o,a,s,u]=Tm({sourceX:t,sourceY:n,targetX:r,targetY:i});return[`M ${t},${n}L ${r},${i}`,o,a,s,u]}const IC=Ee({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,i]=NC(e);return we(An,H(H({path:n,labelX:r,labelY:i},t),e))}}}),qC=IC,TC=Ee({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var o,a;const[n,r,i]=dr(ge(H({},e),{sourcePosition:(o=e.sourcePosition)!=null?o:te.Bottom,targetPosition:(a=e.targetPosition)!=null?a:te.Top}));return we(An,H(H({path:n,labelX:r,labelY:i},t),e))}}}),Pm=TC,RC=Ee({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>we(Pm,ge(H(H({},e),t),{borderRadius:0}))}}),AC=RC,MC=Ee({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var o,a;const[n,r,i]=Am(ge(H({},e),{sourcePosition:(o=e.sourcePosition)!=null?o:te.Bottom,targetPosition:(a=e.targetPosition)!=null?a:te.Top}));return we(An,H(H({path:n,labelX:r,labelY:i},t),e))}}}),PC=MC,kC=Ee({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var o,a;const[n,r,i]=Mm(ge(H({},e),{sourcePosition:(o=e.sourcePosition)!=null?o:te.Bottom,targetPosition:(a=e.targetPosition)!=null?a:te.Top}));return we(An,H(H({path:n,labelX:r,labelY:i},t),e))}}}),OC=kC,DC={input:vC,default:fC,output:hC},$C={default:PC,straight:qC,step:AC,smoothstep:Pm,simplebezier:OC};function LC(e,t,n){const r=de(()=>v=>t.value.get(v)),i=de(()=>v=>n.value.get(v)),o=de(()=>{const v=H(H({},$C),e.edgeTypes),p=Object.keys(v);for(const y of e.edges)y.type&&!p.includes(y.type)&&(v[y.type]=y.type);return v}),a=de(()=>{const v=H(H({},DC),e.nodeTypes),p=Object.keys(v);for(const y of e.nodes)y.type&&!p.includes(y.type)&&(v[y.type]=y.type);return v}),s=de(()=>e.onlyRenderVisibleElements?hm(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),u=de(()=>{if(e.onlyRenderVisibleElements){const v=[];for(const p of e.edges){const y=t.value.get(p.source),m=t.value.get(p.target);kx({sourcePos:y.computedPosition||{x:0,y:0},targetPos:m.computedPosition||{x:0,y:0},sourceWidth:y.dimensions.width,sourceHeight:y.dimensions.height,targetWidth:m.dimensions.width,targetHeight:m.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&v.push(p)}return v}return e.edges}),l=de(()=>[...s.value,...u.value]),c=de(()=>{const v=[];for(const p of e.nodes)p.selected&&v.push(p);return v}),d=de(()=>{const v=[];for(const p of e.edges)p.selected&&v.push(p);return v}),f=de(()=>[...c.value,...d.value]),h=de(()=>{const v=[];for(const p of e.nodes)p.dimensions.width&&p.dimensions.height&&p.handleBounds!==void 0&&v.push(p);return v}),_=de(()=>s.value.length>0&&h.value.length===s.value.length);return{getNode:r,getEdge:i,getElements:l,getEdgeTypes:o,getNodeTypes:a,getEdges:u,getNodes:s,getSelectedElements:f,getSelectedNodes:c,getSelectedEdges:d,getNodesInitialized:h,areNodesInitialized:_}}class xt{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var i;var t;const n=(t=Wt())==null?void 0:t.appContext.app,r=(i=n==null?void 0:n.config.globalProperties.$vueFlowStorage)!=null?i:xt.instance;return xt.instance=r!=null?r:new xt,n&&(n.config.globalProperties.$vueFlowStorage=xt.instance),xt.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const r=qm(),i=Um(r),o={};for(const[f,h]of Object.entries(i.hooks)){const _=`on${f.charAt(0).toUpperCase()+f.slice(1)}`;o[_]=h.on}const a={};for(const[f,h]of Object.entries(i.hooks))a[f]=h.trigger;const s=de(()=>{const f=new Map;for(const h of i.nodes)f.set(h.id,h);return f}),u=de(()=>{const f=new Map;for(const h of i.edges)f.set(h.id,h);return f}),l=LC(i,s,u),c=lC(i,s,u);c.setState(H(H({},i),n));const d=ge(H(H(H(H({},o),l),c),T1(i)),{nodeLookup:s,edgeLookup:u,emits:a,id:t,vueFlowVersion:"1.47.0",$destroy:()=>{this.remove(t)}});return this.set(t,d),d}getId(){return`vue-flow-${this.currentId++}`}}function be(e){const t=xt.getInstance(),n=Sg(),r=typeof e=="object",i=r?e:{id:e},o=i.id,a=o!=null?o:n==null?void 0:n.vueFlowId;let s;if(n){const u=Xt(gg,null);typeof u!="undefined"&&u!==null&&(!a||u.id===a)&&(s=u)}if(s||a&&(s=t.get(a)),!s||a&&s.id!==a){const u=o!=null?o:t.getId(),l=t.create(u,i);s=l,(n!=null?n:xg(!0)).run(()=>{_e(l.applyDefault,(d,f,h)=>{const _=p=>{l.applyNodeChanges(p)},v=p=>{l.applyEdgeChanges(p)};d?(l.onNodesChange(_),l.onEdgesChange(v)):(l.hooks.value.nodesChange.off(_),l.hooks.value.edgesChange.off(v)),h(()=>{l.hooks.value.nodesChange.off(_),l.hooks.value.edgesChange.off(v)})},{immediate:!0}),gn(()=>{if(s){const d=t.get(s.id);d?d.$destroy():nn(`No store instance found for id ${s.id} in storage.`)}})})}else r&&s.setState(i);if(n&&(Vt(gg,s),n.vueFlowId=s.id),r){const u=Wt();(u==null?void 0:u.type.name)!=="VueFlow"&&s.emits.error(new Te(Ie.USEVUEFLOW_OPTIONS))}return s}function BC(e){const{emits:t,dimensions:n}=be();let r;bt(()=>{const i=()=>{var u;var o,a;if(!e.value||!((u=(a=(o=e.value).checkVisibility)==null?void 0:a.call(o))==null||u))return;const s=Pr(e.value);(s.width===0||s.height===0)&&t.error(new Te(Ie.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:s.width||500,height:s.height||500}};i(),window.addEventListener("resize",i),e.value&&(r=new ResizeObserver(()=>i()),r.observe(e.value)),Ig(()=>{window.removeEventListener("resize",i),r&&e.value&&r.unobserve(e.value)})})}const zC={name:"UserSelection",compatConfig:{MODE:3}},FC=Ee(ge(H({},zC),{props:{userSelectionRect:{}},setup(e){return(t,n)=>(se(),ve("div",{class:"vue-flow__selection vue-flow__container",style:ke({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}})),GC=["tabIndex"],VC={name:"NodesSelection",compatConfig:{MODE:3}},HC=Ee(ge(H({},VC),{setup(e){const{emits:t,viewport:n,getSelectedNodes:r,noPanClassName:i,disableKeyboardA11y:o,userSelectionActive:a}=be(),s=Im(),u=ye(null),l=Sm({el:u,onStart(_){t.selectionDragStart(_),t.nodeDragStart(_)},onDrag(_){t.selectionDrag(_),t.nodeDrag(_)},onStop(_){t.selectionDragStop(_),t.nodeDragStop(_)}});bt(()=>{var _;o.value||(_=u.value)==null||_.focus({preventScroll:!0})});const c=de(()=>fm(r.value)),d=de(()=>({width:`${c.value.width}px`,height:`${c.value.height}px`,top:`${c.value.y}px`,left:`${c.value.x}px`}));function f(_){t.selectionContextMenu({event:_,nodes:r.value})}function h(_){o||Ft[_.key]&&(_.preventDefault(),s({x:Ft[_.key].x,y:Ft[_.key].y},_.shiftKey))}return(_,v)=>!ee(a)&&c.value.width&&c.value.height?(se(),ve("div",{key:0,class:Gt(["vue-flow__nodesselection vue-flow__container",ee(i)]),style:ke({transform:`translate(${ee(n).x}px,${ee(n).y}px) scale(${ee(n).zoom})`})},[Se("div",{ref_key:"el",ref:u,class:Gt([{dragging:ee(l)},"vue-flow__nodesselection-rect"]),style:ke(d.value),tabIndex:ee(o)?void 0:-1,onContextmenu:f,onKeydown:h},null,46,GC)],6)):Re("",!0)}}));function UC(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const jC={name:"Pane",compatConfig:{MODE:3}},YC=Ee(ge(H({},jC),{props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:r,emits:i,userSelectionActive:o,removeSelectedElements:a,userSelectionRect:s,elementsSelectable:u,nodesSelectionActive:l,getSelectedEdges:c,getSelectedNodes:d,removeNodes:f,removeEdges:h,selectionMode:_,deleteKeyCode:v,multiSelectionKeyCode:p,multiSelectionActive:y,edgeLookup:m,nodeLookup:g,connectionLookup:b,defaultEdgeOptions:E,connectionStartHandle:I}=be(),q=ye(null),k=ye(new Set),$=ye(new Set),O=ye(),M=me(()=>u.value&&(e.isSelecting||o.value)),x=me(()=>I.value!==null);let G=!1,N=!1;const L=pn(v,{actInsideInputWithModifier:!1}),A=pn(p);_e(L,R=>{R&&(f(d.value),h(c.value),l.value=!1)}),_e(A,R=>{y.value=R});function V(R,P){return D=>{D.target===P&&(R==null||R(D))}}function U(R){if(G||x.value){G=!1;return}i.paneClick(R),a(),l.value=!1}function X(R){R.preventDefault(),R.stopPropagation(),i.paneContextMenu(R)}function j(R){i.paneScroll(R)}function J(R){var P,D,F;if(O.value=(P=t.value)==null?void 0:P.getBoundingClientRect(),!u.value||!e.isSelecting||R.button!==0||R.target!==q.value||!O.value)return;(F=(D=R.target)==null?void 0:D.setPointerCapture)==null||F.call(D,R.pointerId);const{x:Y,y:re}=UC(R,O.value);N=!0,G=!1,a(),s.value={width:0,height:0,startX:Y,startY:re,x:Y,y:re},i.selectionStart(R)}function ie(R){var S,w;var P;if(!O.value||!s.value)return;G=!0;const{x:D,y:F}=tt(R,O.value),{startX:Y=0,startY:re=0}=s.value,oe={startX:Y,startY:re,x:D<Y?D:Y,y:F<re?F:re,width:Math.abs(D-Y),height:Math.abs(F-re)},fe=k.value,ce=$.value;k.value=new Set(hm(n.value,oe,r.value,_.value===ic.Partial,!0).map(C=>C.id)),$.value=new Set;const ue=(S=(P=E.value)==null?void 0:P.selectable)!=null?S:!0;for(const C of k.value){const T=b.value.get(C);if(T)for(const{edgeId:z}of T.values()){const K=m.value.get(z);K&&((w=K.selectable)!=null?w:ue)&&$.value.add(z)}}if(!pg(fe,k.value)){const C=yt(g.value,k.value,!0);i.nodesChange(C)}if(!pg(ce,$.value)){const C=yt(m.value,$.value);i.edgesChange(C)}s.value=oe,o.value=!0,l.value=!1}function le(R){var P;R.button!==0||!N||((P=R.target)==null||P.releasePointerCapture(R.pointerId),!o.value&&s.value&&R.target===q.value&&U(R),o.value=!1,s.value=null,l.value=k.value.size>0,i.selectionEnd(R),e.selectionKeyPressed&&(G=!1),N=!1)}return(R,P)=>(se(),ve("div",{ref_key:"container",ref:q,class:Gt(["vue-flow__pane vue-flow__container",{selection:R.isSelecting}]),onClick:P[0]||(P[0]=D=>M.value?void 0:V(U,q.value)(D)),onContextmenu:P[1]||(P[1]=D=>V(X,q.value)(D)),onWheelPassive:P[2]||(P[2]=D=>V(j,q.value)(D)),onPointerenter:P[3]||(P[3]=D=>M.value?void 0:ee(i).paneMouseEnter(D)),onPointerdown:P[4]||(P[4]=D=>M.value?J(D):ee(i).paneMouseMove(D)),onPointermove:P[5]||(P[5]=D=>M.value?ie(D):ee(i).paneMouseMove(D)),onPointerup:P[6]||(P[6]=D=>M.value?le(D):void 0),onPointerleave:P[7]||(P[7]=D=>ee(i).paneMouseLeave(D))},[$e(R.$slots,"default"),ee(o)&&ee(s)?(se(),Be(FC,{key:0,"user-selection-rect":ee(s)},null,8,["user-selection-rect"])):Re("",!0),ee(l)&&ee(d).length?(se(),Be(HC,{key:1})):Re("",!0)],34))}})),KC={name:"Transform",compatConfig:{MODE:3}},XC=Ee(ge(H({},KC),{setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:r}=be(),i=de(()=>n.value?!r.value:!1),o=de(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(a,s)=>(se(),ve("div",{class:"vue-flow__transformationpane vue-flow__container",style:ke({transform:o.value,opacity:i.value?0:void 0})},[$e(a.$slots,"default")],4))}})),WC={name:"Viewport",compatConfig:{MODE:3}},ZC=Ee(ge(H({},WC),{setup(e){const{minZoom:t,maxZoom:n,defaultViewport:r,translateExtent:i,zoomActivationKeyCode:o,selectionKeyCode:a,panActivationKeyCode:s,panOnScroll:u,panOnScrollMode:l,panOnScrollSpeed:c,panOnDrag:d,zoomOnDoubleClick:f,zoomOnPinch:h,zoomOnScroll:_,preventScrolling:v,noWheelClassName:p,noPanClassName:y,emits:m,connectionStartHandle:g,userSelectionActive:b,paneDragging:E,d3Zoom:I,d3Selection:q,d3ZoomHandler:k,viewport:$,viewportRef:O,paneClickDistance:M}=be();BC(O);const x=Qn(!1),G=Qn(!1);let N=null,L=!1,A=0,V={x:0,y:0,zoom:0};const U=pn(s),X=pn(a),j=pn(o),J=me(()=>(!X.value||X.value&&a.value===!0)&&(U.value||d.value)),ie=me(()=>U.value||u.value),le=me(()=>X.value||a.value===!0&&J.value!==!0),R=me(()=>g.value!==null);bt(()=>{var T,z,K;if(!O.value){nn("Viewport element is missing");return}const re=O.value,oe=re.getBoundingClientRect(),fe=hx().clickDistance(M.value).scaleExtent([t.value,n.value]).translateExtent(i.value),ce=je(re).call(fe),ue=ce.on("wheel.zoom"),S=jt.translate((T=r.value.x)!=null?T:0,(z=r.value.y)!=null?z:0).scale(Rt((K=r.value.zoom)!=null?K:1,t.value,n.value)),w=[[0,0],[oe.width,oe.height]],C=fe.constrain()(S,w,i.value);fe.transform(ce,C),fe.wheelDelta(eg),I.value=fe,q.value=ce,k.value=ue,$.value={x:C.x,y:C.y,zoom:C.k},fe.on("start",B=>{var W;if(!B.sourceEvent)return null;A=B.sourceEvent.button,x.value=!0;const Q=F(B.transform);((W=B.sourceEvent)==null?void 0:W.type)==="mousedown"&&(E.value=!0),V=Q,m.viewportChangeStart(Q),m.moveStart({event:B,flowTransform:Q})}),fe.on("end",B=>{if(!B.sourceEvent)return null;if(x.value=!1,E.value=!1,P(J.value,A!=null?A:0)&&!L&&m.paneContextMenu(B.sourceEvent),L=!1,D(V,B.transform)){const W=F(B.transform);V=W,m.viewportChangeEnd(W),m.moveEnd({event:B,flowTransform:W})}}),fe.filter(B=>{var W;const Q=j.value||_.value,ne=h.value&&B.ctrlKey,ae=B.button,pe=B.type==="wheel";if(ae===1&&B.type==="mousedown"&&(Y(B,"vue-flow__node")||Y(B,"vue-flow__edge")))return!0;if(!J.value&&!Q&&!ie.value&&!f.value&&!h.value||b.value||R.value&&!pe||!f.value&&B.type==="dblclick"||Y(B,p.value)&&pe||Y(B,y.value)&&(!pe||ie.value&&pe&&!j.value)||!h.value&&B.ctrlKey&&pe||!Q&&!ie.value&&!ne&&pe)return!1;if(!h&&B.type==="touchstart"&&((W=B.touches)==null?void 0:W.length)>1)return B.preventDefault(),!1;if(!J.value&&(B.type==="mousedown"||B.type==="touchstart")||a.value===!0&&Array.isArray(d.value)&&d.value.includes(0)&&ae===0||Array.isArray(d.value)&&!d.value.includes(ae)&&(B.type==="mousedown"||B.type==="touchstart"))return!1;const Ge=Array.isArray(d.value)&&d.value.includes(ae)||a.value===!0&&Array.isArray(d.value)&&!d.value.includes(0)||!ae||ae<=1;return(!B.ctrlKey||U.value||pe)&&Ge}),_e([b,J],()=>{b.value&&!x.value?fe.on("zoom",null):b.value||fe.on("zoom",B=>{$.value={x:B.transform.x,y:B.transform.y,zoom:B.transform.k};const W=F(B.transform);L=P(J.value,A!=null?A:0),m.viewportChange(W),m.move({event:B,flowTransform:W})})},{immediate:!0}),_e([b,ie,l,j,h,v,p],()=>{ie.value&&!j.value&&!b.value?ce.on("wheel.zoom",B=>{if(Y(B,p.value))return!1;const W=j.value||_.value,Q=h.value&&B.ctrlKey;if(!(!v.value||ie.value||W||Q))return!1;B.preventDefault(),B.stopImmediatePropagation();const ae=ce.property("__zoom").k||1,pe=cr();if(!U.value&&B.ctrlKey&&h.value&&pe){const Mn=Qe(B),Br=eg(B),Pn=ae*Ot(2,Br);fe.scaleTo(ce,Pn,Mn,B);return}const Ge=B.deltaMode===1?20:1;let De=l.value===vn.Vertical?0:B.deltaX*Ge,Ae=l.value===vn.Horizontal?0:B.deltaY*Ge;!pe&&B.shiftKey&&l.value!==vn.Vertical&&!De&&Ae&&(De=Ae,Ae=0),fe.translateBy(ce,-(De/ae)*c.value,-(Ae/ae)*c.value);const ot=F(ce.property("__zoom"));N&&clearTimeout(N),G.value?(m.move({event:B,flowTransform:ot}),m.viewportChange(ot),N=setTimeout(()=>{m.moveEnd({event:B,flowTransform:ot}),m.viewportChangeEnd(ot),G.value=!1},150)):(G.value=!0,m.moveStart({event:B,flowTransform:ot}),m.viewportChangeStart(ot))},{passive:!1}):typeof ue!="undefined"&&ce.on("wheel.zoom",function(B,W){const Q=!v.value&&B.type==="wheel"&&!B.ctrlKey,ne=j.value||_.value,ae=h.value&&B.ctrlKey;if(!ne&&!u.value&&!ae&&B.type==="wheel"||Q||Y(B,p.value))return null;B.preventDefault(),ue.call(this,B,W)},{passive:!1})},{immediate:!0})});function P(re,oe){return oe===2&&Array.isArray(re)&&re.includes(2)}function D(re,oe){return re.x!==oe.x&&!Number.isNaN(oe.x)||re.y!==oe.y&&!Number.isNaN(oe.y)||re.zoom!==oe.k&&!Number.isNaN(oe.k)}function F(re){return{x:re.x,y:re.y,zoom:re.k}}function Y(re,oe){return re.target.closest(`.${oe}`)}return(re,oe)=>(se(),ve("div",{ref_key:"viewportRef",ref:O,class:"vue-flow__viewport vue-flow__container"},[Ce(YC,{"is-selecting":le.value,"selection-key-pressed":ee(X),class:Gt({connecting:R.value,dragging:ee(E),draggable:ee(d)===!0||Array.isArray(ee(d))&&ee(d).includes(0)})},{default:ut(()=>[Ce(XC,null,{default:ut(()=>[$e(re.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}})),JC=["id"],QC=["id"],eN=["id"],tN={name:"A11yDescriptions",compatConfig:{MODE:3}},nN=Ee(ge(H({},tN),{setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:r}=be();return(i,o)=>(se(),ve(Ke,null,[Se("div",{id:`${ee(im)}-${ee(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+Jn(ee(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,JC),Se("div",{id:`${ee(om)}-${ee(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,QC),ee(n)?Re("",!0):(se(),ve("div",{key:0,id:`${ee(_x)}-${ee(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},Jn(ee(r)),9,eN))],64))}}));function rN(){const e=be();_e(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function iN(e,t,n){return n===te.Left?e-t:n===te.Right?e+t:e}function oN(e,t,n){return n===te.Top?e-t:n===te.Bottom?e+t:e}const sc=function({radius:e=10,centerX:t=0,centerY:n=0,position:r=te.Top,type:i}){return we("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${i}`,cx:iN(t,e,r),cy:oN(n,e,r),r:e,stroke:"transparent",fill:"transparent"})};sc.props=["radius","centerX","centerY","position","type"];sc.compatConfig={MODE:3};const wg=sc,aN=Ee({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:r,edgeUpdaterRadius:i,emits:o,nodesSelectionActive:a,noPanClassName:s,getEdgeTypes:u,removeSelectedEdges:l,findEdge:c,findNode:d,isValidConnection:f,multiSelectionActive:h,disableKeyboardA11y:_,elementsSelectable:v,edgesUpdatable:p,edgesFocusable:y,hooks:m}=be(),g=de(()=>c(e.id)),{emit:b,on:E}=Zx(g.value,o),I=Xt(Or),q=Wt(),k=ye(!1),$=ye(!1),O=ye(""),M=ye(null),x=ye("source"),G=ye(null),N=me(()=>typeof g.value.selectable=="undefined"?v.value:g.value.selectable),L=me(()=>typeof g.value.updatable=="undefined"?p.value:g.value.updatable),A=me(()=>typeof g.value.focusable=="undefined"?y.value:g.value.focusable);Vt(Kx,e.id),Vt(Xx,G);const V=de(()=>g.value.class instanceof Function?g.value.class(g.value):g.value.class),U=de(()=>g.value.style instanceof Function?g.value.style(g.value):g.value.style),X=de(()=>{var z;const w=g.value.type||"default",C=I==null?void 0:I[`edge-${w}`];if(C)return C;let T=(z=g.value.template)!=null?z:u.value[w];if(typeof T=="string"&&q){const K=Object.keys(q.appContext.components);K&&K.includes(w)&&(T=qg(w,!1))}return T&&typeof T!="string"?T:(o.error(new Te(Ie.EDGE_TYPE_MISSING,T)),!1)}),{handlePointerDown:j}=xm({nodeId:O,handleId:M,type:x,isValidConnection:f,edgeUpdaterType:x,onEdgeUpdate:le,onEdgeUpdateEnd:R});return()=>{var Ae;const w=d(g.value.source),C=d(g.value.target),T="pathOptions"in g.value?g.value.pathOptions:{};if(!w&&!C)return o.error(new Te(Ie.EDGE_SOURCE_TARGET_MISSING,g.value.id,g.value.source,g.value.target)),null;if(!w)return o.error(new Te(Ie.EDGE_SOURCE_MISSING,g.value.id,g.value.source)),null;if(!C)return o.error(new Te(Ie.EDGE_TARGET_MISSING,g.value.id,g.value.target)),null;if(!g.value||g.value.hidden||w.hidden||C.hidden)return null;let z;r.value===mt.Strict?z=w.handleBounds.source:z=[...w.handleBounds.source||[],...w.handleBounds.target||[]];const K=ug(z,g.value.sourceHandle);let B;r.value===mt.Strict?B=C.handleBounds.target:B=[...C.handleBounds.target||[],...C.handleBounds.source||[]];const W=ug(B,g.value.targetHandle),Q=(K==null?void 0:K.position)||te.Bottom,ne=(W==null?void 0:W.position)||te.Top,{x:ae,y:pe}=Yt(w,K,Q),{x:Ge,y:De}=Yt(C,W,ne);return g.value.sourceX=ae,g.value.sourceY=pe,g.value.targetX=Ge,g.value.targetY=De,we("g",ge(H({ref:G,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${X.value===!1?"default":g.value.type||"default"}`,s.value,V.value,{updating:k.value,selected:g.value.selected,animated:g.value.animated,inactive:!N.value&&!m.value.edgeClick.hasListeners()}],tabIndex:A.value?0:void 0,"aria-label":g.value.ariaLabel===null?void 0:(Ae=g.value.ariaLabel)!=null?Ae:`Edge from ${g.value.source} to ${g.value.target}`,"aria-describedby":A.value?`${om}-${t}`:void 0,"aria-roledescription":"edge",role:A.value?"group":"img"},g.value.domAttributes),{onClick:D,onContextmenu:F,onDblclick:Y,onMouseenter:re,onMousemove:oe,onMouseleave:fe,onKeyDown:A.value?S:void 0}),[$.value?null:we(X.value===!1?u.value.default:X.value,H({id:e.id,sourceNode:w,targetNode:C,source:g.value.source,target:g.value.target,type:g.value.type,updatable:L.value,selected:g.value.selected,animated:g.value.animated,label:g.value.label,labelStyle:g.value.labelStyle,labelShowBg:g.value.labelShowBg,labelBgStyle:g.value.labelBgStyle,labelBgPadding:g.value.labelBgPadding,labelBgBorderRadius:g.value.labelBgBorderRadius,data:g.value.data,events:H(H({},g.value.events),E),style:U.value,markerStart:`url('#${Sn(g.value.markerStart,t)}')`,markerEnd:`url('#${Sn(g.value.markerEnd,t)}')`,sourcePosition:Q,targetPosition:ne,sourceX:ae,sourceY:pe,targetX:Ge,targetY:De,sourceHandleId:g.value.sourceHandle,targetHandleId:g.value.targetHandle,interactionWidth:g.value.interactionWidth},T)),[L.value==="source"||L.value===!0?[we("g",{onMousedown:ce,onMouseenter:J,onMouseout:ie},we(wg,{position:Q,centerX:ae,centerY:pe,radius:i.value,type:"source","data-type":"source"}))]:null,L.value==="target"||L.value===!0?[we("g",{onMousedown:ue,onMouseenter:J,onMouseout:ie},we(wg,{position:ne,centerX:Ge,centerY:De,radius:i.value,type:"target","data-type":"target"}))]:null]])};function J(){k.value=!0}function ie(){k.value=!1}function le(w,C){b.update({event:w,edge:g.value,connection:C})}function R(w){b.updateEnd({event:w,edge:g.value}),$.value=!1}function P(w,C){var T;w.button===0&&($.value=!0,O.value=C?g.value.target:g.value.source,M.value=(T=C?g.value.targetHandle:g.value.sourceHandle)!=null?T:null,x.value=C?"target":"source",b.updateStart({event:w,edge:g.value}),j(w))}function D(w){var C;const T={event:w,edge:g.value};N.value&&(a.value=!1,g.value.selected&&h.value?(l([g.value]),(C=G.value)==null||C.blur()):n([g.value])),b.click(T)}function F(w){b.contextMenu({event:w,edge:g.value})}function Y(w){b.doubleClick({event:w,edge:g.value})}function re(w){b.mouseEnter({event:w,edge:g.value})}function oe(w){b.mouseMove({event:w,edge:g.value})}function fe(w){b.mouseLeave({event:w,edge:g.value})}function ce(w){P(w,!0)}function ue(w){P(w,!1)}function S(w){var C;!_.value&&am.includes(w.key)&&N.value&&(w.key==="Escape"?((C=G.value)==null||C.blur(),l([c(e.id)])):n([c(e.id)]))}}}),sN=aN,uN=Ee({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:r,connectionEndHandle:i,connectionPosition:o,connectionLineType:a,connectionLineStyle:s,connectionLineOptions:u,connectionStatus:l,viewport:c,findNode:d}=be(),f=(e=Xt(Or))==null?void 0:e["connection-line"],h=de(()=>{var m;return d((m=r.value)==null?void 0:m.nodeId)}),_=de(()=>{var g;var m;return(g=d((m=i.value)==null?void 0:m.nodeId))!=null?g:null}),v=de(()=>({x:(o.value.x-c.value.x)/c.value.zoom,y:(o.value.y-c.value.y)/c.value.zoom})),p=de(()=>u.value.markerStart?`url(#${Sn(u.value.markerStart,t)})`:""),y=de(()=>u.value.markerEnd?`url(#${Sn(u.value.markerEnd,t)})`:"");return()=>{var U,X,j,J,ie,le,R,P,D;var m,g,b;if(!h.value||!r.value)return null;const E=r.value.id,I=r.value.type,q=h.value.handleBounds;let k=(U=q==null?void 0:q[I])!=null?U:[];if(n.value===mt.Loose){const F=(X=q==null?void 0:q[I==="source"?"target":"source"])!=null?X:[];k=[...k,...F]}if(!k)return null;const $=(j=E?k.find(F=>F.id===E):k[0])!=null?j:null,O=(J=$==null?void 0:$.position)!=null?J:te.Top,{x:M,y:x}=Yt(h.value,$,O);let G=null;_.value&&(n.value===mt.Strict?G=((m=_.value.handleBounds[I==="source"?"target":"source"])==null?void 0:m.find(F=>{var Y;return F.id===((Y=i.value)==null?void 0:Y.id)}))||null:G=((g=[...(ie=_.value.handleBounds.source)!=null?ie:[],...(le=_.value.handleBounds.target)!=null?le:[]])==null?void 0:g.find(F=>{var Y;return F.id===((Y=i.value)==null?void 0:Y.id)}))||null);const N=(R=(b=i.value)==null?void 0:b.position)!=null?R:O?ql[O]:null;if(!O||!N)return null;const L=(D=(P=a.value)!=null?P:u.value.type)!=null?D:St.Bezier;let A="";const V={sourceX:M,sourceY:x,sourcePosition:O,targetX:v.value.x,targetY:v.value.y,targetPosition:N};return L===St.Bezier?[A]=Am(V):L===St.Step?[A]=dr(ge(H({},V),{borderRadius:0})):L===St.SmoothStep?[A]=dr(V):L===St.SimpleBezier?[A]=Mm(V):A=`M${M},${x} ${v.value.x},${v.value.y}`,we("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},we("g",{class:"vue-flow__connection"},f?we(f,{sourceX:M,sourceY:x,sourcePosition:O,targetX:v.value.x,targetY:v.value.y,targetPosition:N,sourceNode:h.value,sourceHandle:$,targetNode:_.value,targetHandle:G,markerEnd:y.value,markerStart:p.value,connectionStatus:l.value}):we("path",{d:A,class:[u.value.class,l.value,"vue-flow__connection-path"],style:H(H({},s.value),u.value.style),"marker-end":y.value,"marker-start":p.value})))}}}),lN=uN,cN=["id","markerWidth","markerHeight","markerUnits","orient"],dN={name:"MarkerType",compatConfig:{MODE:3}},fN=Ee(ge(H({},dN),{props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(se(),ve("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===ee(Nl).ArrowClosed?(se(),ve("polyline",{key:0,style:ke({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):Re("",!0),t.type===ee(Nl).Arrow?(se(),ve("polyline",{key:1,style:ke({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):Re("",!0)],8,cN))}})),hN={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},vN={name:"MarkerDefinitions",compatConfig:{MODE:3}},pN=Ee(ge(H({},vN),{setup(e){const{id:t,edges:n,connectionLineOptions:r,defaultMarkerColor:i}=be(),o=de(()=>{const a=new Set,s=[],u=l=>{if(l){const c=Sn(l,t);a.has(c)||(typeof l=="object"?s.push(ge(H({},l),{id:c,color:l.color||i.value})):s.push({id:c,color:i.value,type:l}),a.add(c))}};for(const l of[r.value.markerEnd,r.value.markerStart])u(l);for(const l of n.value)for(const c of[l.markerStart,l.markerEnd])u(c);return s.sort((l,c)=>l.id.localeCompare(c.id))});return(a,s)=>(se(),ve("svg",hN,[Se("defs",null,[(se(!0),ve(Ke,null,Rl(o.value,u=>(se(),Be(fN,{id:u.id,key:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,"stroke-width":u.strokeWidth,orient:u.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}})),gN={name:"Edges",compatConfig:{MODE:3}},yN=Ee(ge(H({},gN),{setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:r}=be();return(i,o)=>(se(),ve(Ke,null,[Ce(pN),(se(!0),ve(Ke,null,Rl(ee(n),a=>(se(),ve("svg",{key:a.id,class:"vue-flow__edges vue-flow__container",style:ke({zIndex:ee(Ox)(a,ee(t),ee(r))})},[Ce(ee(sN),{id:a.id},null,8,["id"])],4))),128)),Ce(ee(lN))],64))}})),mN=Ee({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:r,nodesSelectionActive:i,multiSelectionActive:o,emits:a,removeSelectedNodes:s,addSelectedNodes:u,updateNodeDimensions:l,onUpdateNodeInternals:c,getNodeTypes:d,nodeExtent:f,elevateNodesOnSelect:h,disableKeyboardA11y:_,ariaLiveMessage:v,snapToGrid:p,snapGrid:y,nodeDragThreshold:m,nodesDraggable:g,elementsSelectable:b,nodesConnectable:E,nodesFocusable:I,hooks:q}=be(),k=ye(null);Vt(Em,k),Vt(wm,e.id);const $=Xt(Or),O=Wt(),M=Im(),{node:x,parentNode:G}=Nm(e.id),{emit:N,on:L}=eC(x,a),A=me(()=>typeof x.draggable=="undefined"?g.value:x.draggable),V=me(()=>typeof x.selectable=="undefined"?b.value:x.selectable),U=me(()=>typeof x.connectable=="undefined"?E.value:x.connectable),X=me(()=>typeof x.focusable=="undefined"?I.value:x.focusable),j=de(()=>V.value||A.value||q.value.nodeClick.hasListeners()||q.value.nodeDoubleClick.hasListeners()||q.value.nodeMouseEnter.hasListeners()||q.value.nodeMouseMove.hasListeners()||q.value.nodeMouseLeave.hasListeners()),J=me(()=>!!x.dimensions.width&&!!x.dimensions.height),ie=de(()=>{const C=x.type||"default",T=$==null?void 0:$[`node-${C}`];if(T)return T;let z=x.template||d.value[C];if(typeof z=="string"&&O){const K=Object.keys(O.appContext.components);K&&K.includes(C)&&(z=qg(C,!1))}return z&&typeof z!="string"?z:(a.error(new Te(Ie.NODE_TYPE_MISSING,z)),!1)}),le=Sm({id:e.id,el:k,disabled:()=>!A.value,selectable:V,dragHandle:()=>x.dragHandle,onStart(C){N.dragStart(C)},onDrag(C){N.drag(C)},onStop(C){N.dragStop(C)},onClick(C){S(C)}}),R=de(()=>x.class instanceof Function?x.class(x):x.class),P=de(()=>{const C=(x.style instanceof Function?x.style(x):x.style)||{},T=x.width instanceof Function?x.width(x):x.width,z=x.height instanceof Function?x.height(x):x.height;return!C.width&&T&&(C.width=typeof T=="string"?T:`${T}px`),!C.height&&z&&(C.height=typeof z=="string"?z:`${z}px`),C}),D=me(()=>{var C,T;return Number((T=(C=x.zIndex)!=null?C:P.value.zIndex)!=null?T:0)});return c(C=>{(C.includes(e.id)||!C.length)&&Y()}),bt(()=>{_e(()=>x.hidden,(C=!1,T,z)=>{!C&&k.value&&(e.resizeObserver.observe(k.value),z(()=>{k.value&&e.resizeObserver.unobserve(k.value)}))},{immediate:!0,flush:"post"})}),_e([()=>x.type,()=>x.sourcePosition,()=>x.targetPosition],()=>{Le(()=>{l([{id:e.id,nodeElement:k.value,forceUpdate:!0}])})}),_e([()=>x.position.x,()=>x.position.y,()=>{var C;return(C=G.value)==null?void 0:C.computedPosition.x},()=>{var C;return(C=G.value)==null?void 0:C.computedPosition.y},()=>{var C;return(C=G.value)==null?void 0:C.computedPosition.z},D,()=>x.selected,()=>x.dimensions.height,()=>x.dimensions.width,()=>{var C;return(C=G.value)==null?void 0:C.dimensions.height},()=>{var C;return(C=G.value)==null?void 0:C.dimensions.width}],([C,T,z,K,B,W])=>{const Q={x:C,y:T,z:W+(h.value&&x.selected?1e3:0)};typeof z!="undefined"&&typeof K!="undefined"?x.computedPosition=Tx({x:z,y:K,z:B},Q):x.computedPosition=Q},{flush:"post",immediate:!0}),_e([()=>x.extent,f],([C,T],[z,K])=>{(C!==z||T!==K)&&F()}),x.extent==="parent"||typeof x.extent=="object"&&"range"in x.extent&&x.extent.range==="parent"?yl(()=>J).toBe(!0).then(F):F(),()=>{var C,T;return x.hidden?null:we("div",ge(H({ref:k,"data-id":x.id,class:["vue-flow__node",`vue-flow__node-${ie.value===!1?"default":x.type||"default"}`,{[n.value]:A.value,dragging:le==null?void 0:le.value,draggable:A.value,selected:x.selected,selectable:V.value,parent:x.isParent},R.value],style:H({visibility:J.value?"visible":"hidden",zIndex:(C=x.computedPosition.z)!=null?C:D.value,transform:`translate(${x.computedPosition.x}px,${x.computedPosition.y}px)`,pointerEvents:j.value?"all":"none"},P.value),tabIndex:X.value?0:void 0,role:X.value?"group":void 0,"aria-describedby":_.value?void 0:`${im}-${t}`,"aria-label":x.ariaLabel,"aria-roledescription":"node"},x.domAttributes),{onMouseenter:re,onMousemove:oe,onMouseleave:fe,onContextmenu:ce,onClick:S,onDblclick:ue,onKeydown:w}),[we(ie.value===!1?d.value.default:ie.value,{id:x.id,type:x.type,data:x.data,events:H(H({},x.events),L),selected:x.selected,resizing:x.resizing,dragging:le.value,connectable:U.value,position:x.computedPosition,dimensions:x.dimensions,isValidTargetPos:x.isValidTargetPos,isValidSourcePos:x.isValidSourcePos,parent:x.parentNode,parentNodeId:x.parentNode,zIndex:(T=x.computedPosition.z)!=null?T:D.value,targetPosition:x.targetPosition,sourcePosition:x.sourcePosition,label:x.label,dragHandle:x.dragHandle,onUpdateNodeInternals:Y})])};function F(){const C=x.computedPosition,{computedPosition:T,position:z}=oc(x,p.value?kr(C,y.value):C,a.error,f.value,G.value);(x.computedPosition.x!==T.x||x.computedPosition.y!==T.y)&&(x.computedPosition=H(H({},x.computedPosition),T)),(x.position.x!==z.x||x.position.y!==z.y)&&(x.position=z)}function Y(){k.value&&l([{id:e.id,nodeElement:k.value,forceUpdate:!0}])}function re(C){le!=null&&le.value||N.mouseEnter({event:C,node:x})}function oe(C){le!=null&&le.value||N.mouseMove({event:C,node:x})}function fe(C){le!=null&&le.value||N.mouseLeave({event:C,node:x})}function ce(C){return N.contextMenu({event:C,node:x})}function ue(C){return N.doubleClick({event:C,node:x})}function S(C){V.value&&(!r.value||!A.value||m.value>0)&&Tl(x,o.value,u,s,i,!1,k.value),N.click({event:C,node:x})}function w(C){if(!(Il(C)||_.value))if(am.includes(C.key)&&V.value){const T=C.key==="Escape";Tl(x,o.value,u,s,i,T,k.value)}else A.value&&x.selected&&Ft[C.key]&&(C.preventDefault(),v.value=`Moved selected node ${C.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~x.position.x}, y: ${~~x.position.y}`,M({x:Ft[C.key].x,y:Ft[C.key].y},C.shiftKey))}}}),_N=mN,bN={height:"0",width:"0"},wN={name:"EdgeLabelRenderer",compatConfig:{MODE:3}},EN=Ee(ge(H({},wN),{setup(e){const{viewportRef:t}=be(),n=me(()=>{var r;return(r=t.value)==null?void 0:r.getElementsByClassName("vue-flow__edge-labels")[0]});return(r,i)=>(se(),ve("svg",null,[(se(),ve("foreignObject",bN,[(se(),Be(Fm,{to:n.value,disabled:!n.value},[$e(r.$slots,"default")],8,["to","disabled"]))]))]))}}));function SN(e={includeHiddenNodes:!1}){const{nodes:t}=be();return de(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&((n==null?void 0:n.handleBounds)===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const xN={class:"vue-flow__nodes vue-flow__container"},CN={name:"Nodes",compatConfig:{MODE:3}},NN=Ee(ge(H({},CN),{setup(e){const{getNodes:t,updateNodeDimensions:n,emits:r}=be(),i=SN(),o=ye();return _e(i,a=>{a&&Le(()=>{r.nodesInitialized(t.value)})},{immediate:!0}),bt(()=>{o.value=new ResizeObserver(a=>{const s=a.map(u=>({id:u.target.getAttribute("data-id"),nodeElement:u.target,forceUpdate:!0}));Le(()=>n(s))})}),Ig(()=>{var a;return(a=o.value)==null?void 0:a.disconnect()}),(a,s)=>(se(),ve("div",xN,[o.value?(se(!0),ve(Ke,{key:0},Rl(ee(t),(u,l,c,d)=>{const f=[u.id];if(d&&d.key===u.id&&Km(d,f))return d;const h=(se(),Be(ee(_N),{id:u.id,key:u.id,"resize-observer":o.value},null,8,["id","resize-observer"]));return h.memo=f,h},s,0),128)):Re("",!0)]))}}));function IN(){const{emits:e}=be();bt(()=>{if(bm()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new Te(Ie.MISSING_STYLES))}})}const qN=Se("div",{class:"vue-flow__edge-labels"},null,-1),TN={name:"VueFlow",compatConfig:{MODE:3}},RN=Ee(ge(H({},TN),{props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const r=e,i=Vm(),o=ol(r,"modelValue",n),a=ol(r,"nodes",n),s=ol(r,"edges",n),u=be(r),l=iC({modelValue:o,nodes:a,edges:s},r,u);return aC(n,u.hooks),rN(),IN(),Vt(Or,i),Hm(l),t(u),(c,d)=>(se(),ve("div",{ref:ee(u).vueFlowRef,class:"vue-flow"},[Ce(ZC,null,{default:ut(()=>[Ce(yN),qN,Ce(NN),$e(c.$slots,"zoom-pane")]),_:3}),$e(c.$slots,"default"),Ce(nN)],512))}})),AN={name:"Panel",compatConfig:{MODE:3}},MN=Ee(ge(H({},AN),{props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=be(),r=de(()=>`${t.position}`.split("-"));return(i,o)=>(se(),ve("div",{class:Gt(["vue-flow__panel",r.value]),style:ke({pointerEvents:ee(n)?"none":"all"})},[$e(i.$slots,"default")],6))}}));function Eg(e={}){const{handleType:t,handleId:n,nodeId:r,onConnect:i,onDisconnect:o}=e,{connectionLookup:a}=be(),s=Cm(),u=ye(null),l=ye(),c=de(()=>{var v;const d=(v=he(r))!=null?v:s,f=he(t),h=he(n);let _="";return f&&(_=h?`-${f}-${h}`:`-${f}`),`${d}${_}`});return _e(()=>a.value.get(c.value),d=>{Yx(l.value,d)||(l.value=d)},{immediate:!0}),_e([l,()=>typeof i!="undefined",()=>typeof o!="undefined"],([d=new Map])=>{u.value&&u.value!==d&&(vg(u.value,d,o),vg(d,u.value,i)),u.value=d},{immediate:!0}),de(()=>l.value?Array.from(l.value.values()):[])}function PN(e){const{findNode:t}=be();return de({get(){const n=he(e);if(!Array.isArray(n)){const i=t(n);return i?{id:i.id,type:i.type,data:i.data}:null}const r=[];for(const i of n){const o=t(i);o&&r.push({id:o.id,type:o.type,data:o.data})}return r},set(){nn("You are trying to set node data via useNodesData. This is not supported.")}})}function kN(){const{findNode:e}=be(),t=ye(new il.graphlib.Graph),n=ye("LR");function r(i,o,a){const s=new il.graphlib.Graph;t.value=s,s.setDefaultEdgeLabel(()=>({}));const u=a==="LR";s.setGraph({rankdir:a}),n.value=a;for(const l of i){const c=e(l.id);s.setNode(l.id,{width:c.dimensions.width||150,height:c.dimensions.height||50})}for(const l of o)s.setEdge(l.source,l.target);return il.layout(s),i.map(l=>{const c=s.node(l.id);return ge(H({},l),{targetPosition:u?te.Left:te.Top,sourcePosition:u?te.Right:te.Bottom,position:{x:c.x,y:c.y}})})}return{graph:t,layout:r,previousDirection:n}}function ON(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}function DN(e){const t=[];for(const n of e)for(const r of e)if(n.id!==r.id){const i=`e${n.id}-${r.id}`;t.push({id:i,source:n.id,target:r.id,type:"animation",animated:!0})}return t}function $N(){return e=>{const t=DN(e);ON(t);const n=new Set,r=[];for(const i of t)!n.has(i.target)&&(n.size===0||n.has(i.source))&&(r.push(i),n.add(i.source),n.add(i.target));return r}}const LN={key:0},BN={key:2,class:"spinner"},zN={key:3},FN=Ee({__name:"processNode",props:{data:{type:Object,required:!0},sourcePosition:{type:String},targetPosition:{type:String}},setup(e){const t=e,n=Eg({handleType:"target"}),r=Eg({handleType:"source"}),i=me(()=>n.value.length<=0),o=me(()=>r.value.length<=0),a=me(()=>i.value?"#2563eb":t.data.hasError?"#f87171":t.data.isFinished?"#42B983":t.data.isCancelled?"#fbbf24":"#4b5563"),s=me(()=>t.data.hasError?"":t.data.isSkipped?"":t.data.isCancelled?"":i.value?"":t.data.isFinished?"":"");return(u,l)=>(se(),ve("div",{class:"process-node",style:ke({backgroundColor:a.value,boxShadow:e.data.isRunning?"0 0 10px rgba(0, 0, 0, 0.5)":""})},[i.value?Re("",!0):(se(),Be(ee(Kt),{key:0,type:"target",position:e.targetPosition},{default:ut(()=>[!e.data.isRunning&&!e.data.isFinished&&!e.data.isCancelled&&!e.data.isSkipped&&!e.data.hasError?(se(),ve("span",LN," ")):Re("",!0)]),_:1},8,["position"])),o.value?Re("",!0):(se(),Be(ee(Kt),{key:1,type:"source",position:e.sourcePosition},null,8,["position"])),!i.value&&e.data.isRunning?(se(),ve("div",BN)):(se(),ve("span",zN,Jn(s.value),1))],4))}}),GN=Ml(FN,[["__scopeId","data-v-6688ebf5"]]);function VN({graph:e,cancelOnError:t=!0}){const{updateNodeData:n,getConnectedEdges:r}=be(),i=me(()=>he(e)),o=ye(!1),a=new Set,s=new Map,u=new Set;function l(v,p=!1){return Ve(this,null,function*(){if(a.has(v.id))return;u.add(v.id);const y=r(v.id).filter(g=>g.target===v.id);if(yield Promise.all(y.map(g=>HN(()=>!g.data.isAnimating))),u.clear(),!o.value)return;a.add(v.id),n(v.id,{isRunning:!0,isFinished:!1,hasError:!1,isCancelled:!1});const m=Math.floor(Math.random()*2e3)+1e3;return new Promise(g=>{const b=setTimeout(()=>Ve(null,null,function*(){const E=i.value.successors(v.id),I=Math.random()<.15;if(!p&&I&&(n(v.id,{isRunning:!1,hasError:!0}),he(t))){yield f(v.id),s.delete(v.id),g();return}n(v.id,{isRunning:!1,isFinished:!0}),s.delete(v.id),E.length>0&&(yield Promise.all(E.map(q=>l({id:q})))),g()}),p?0:m);s.set(v.id,b)})})}function c(v){return Ve(this,null,function*(){if(o.value)return;d(v),o.value=!0;const p=v.filter(y=>{var m;return((m=i.value.predecessors(y.id))==null?void 0:m.length)===0});yield Promise.all(p.map(y=>l(y,!0))),_()})}function d(v){_();for(const p of v)n(p.id,{isRunning:!1,isFinished:!1,hasError:!1,isSkipped:!1,isCancelled:!1})}function f(v){return Ve(this,null,function*(){const p=i.value.successors(v);for(const y of p)n(y,{isRunning:!1,isSkipped:!0}),yield f(y)})}function h(){return Ve(this,null,function*(){o.value=!1;for(const v of u)clearTimeout(s.get(v)),s.delete(v),n(v,{isRunning:!1,isFinished:!1,hasError:!1,isSkipped:!1,isCancelled:!0}),yield f(v);for(const[v,p]of s)clearTimeout(p),s.delete(v),n(v,{isRunning:!1,isFinished:!1,hasError:!1,isSkipped:!1,isCancelled:!0}),yield f(v);a.clear(),u.clear()})}function _(){o.value=!1,a.clear(),s.clear()}return{run:c,stop:h,reset:d,isRunning:o}}function HN(e){return Ve(this,null,function*(){return new Promise(t=>{const n=setInterval(()=>{e()&&(clearInterval(n),t())},100)})})}const UN=Ee({__name:"animationEdge",props:{id:{type:String,required:!0},source:{type:String,required:!0},target:{type:String,required:!0},sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0},sourcePosition:{type:String,default:te.Right},targetPosition:{type:String,default:te.Left}},setup(e){const t=e,{findEdge:n}=be(),r=PN([t.target,t.source]),i=ye(0),o=ye(),a=ye({x:0,y:0}),s=ye(0),u=me(()=>r.value[0].data),l=me(()=>r.value[1].data),c=me(()=>l.value.isFinished),d=me(()=>u.value.isCancelled),f=ye(!1),h=me(()=>u.value.hasError?"#f87171":u.value.isFinished?"#42B983":u.value.isCancelled||u.value.isSkipped?"#fbbf24":u.value.isRunning||f.value?"#2563eb":"#6b7280"),_=de(()=>dr(t));_e(d,y=>{y&&p()}),_e(f,y=>{const m=n(t.id);m&&(m.data=ge(H({},m.data),{isAnimating:y}))}),_e(i,y=>{var b;const m=(b=o.value)==null?void 0:b.pathEl;if(!m||y===0||!f.value)return;const g=m.getTotalLength();if(s.value!==g){v();return}a.value=m.getPointAtLength(y)}),_e(c,y=>{y&&v()});function v(){return Ve(this,null,function*(){var b;const y=(b=o.value)==null?void 0:b.pathEl;if(!y)return;const m=y.getTotalLength(),g=i.value||0;a.value=y.getPointAtLength(g),f.value=!0,s.value!==m&&(s.value=m),yield Jm(i,g,m,{transition:Qm.easeInOutCubic,duration:Math.max(1500,m/2),abort:()=>!f.value}),p()})}function p(){Le(()=>{i.value=0,s.value=0,a.value={x:0,y:0},f.value=!1})}return(y,m)=>(se(),ve(Ke,null,[Ce(ee(An),{id:e.id,ref_key:"edgeRef",ref:o,path:_.value[0],style:ke({stroke:h.value})},null,8,["id","path","style"]),f.value?(se(),Be(ee(EN),{key:0},{default:ut(()=>[Se("div",{style:ke({transform:`translate(-50%, -50%) translate(${a.value.x}px,${a.value.y}px)`}),class:"nodrag nopan animated-edge-label"},[...m[0]||(m[0]=[Se("span",{class:"truck"},[Se("span",{class:"box"},""),Ng("  ")],-1)])],4)]),_:1})):Re("",!0)],64))}}),jN=Ml(UN,[["__scopeId","data-v-74dc1f4b"]]);var ct=(e=>(e.Lines="lines",e.Dots="dots",e))(ct||{});const km=function({dimensions:e,size:t,color:n}){return we("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},Om=function({radius:e,color:t}){return we("circle",{cx:e,cy:e,r:e,fill:t})};ct.Lines+"",ct.Dots+"";const YN={[ct.Dots]:"#81818a",[ct.Lines]:"#eee"},KN=["id","x","y","width","height","patternTransform"],XN={key:2,height:"100",width:"100"},WN=["fill"],ZN=["x","y","fill"],JN={name:"Background",compatConfig:{MODE:3}},QN=Ee(ge(H({},JN),{props:{id:{},variant:{default:()=>ct.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=be(),r=de(()=>{const a=n.value.zoom,[s,u]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],l=[s*a||1,u*a||1],c=e.size*a,[d,f]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],h=[d*a||1+l[0]/2,f*a||1+l[1]/2];return{scaledGap:l,offset:h,size:c}}),i=me(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),o=me(()=>e.color||e.patternColor||YN[e.variant||ct.Dots]);return(a,s)=>(se(),ve("svg",{class:"vue-flow__background vue-flow__container",style:ke({height:`${a.height>100?100:a.height}%`,width:`${a.width>100?100:a.width}%`})},[$e(a.$slots,"pattern-container",{id:i.value},()=>[Se("pattern",{id:i.value,x:ee(n).x%r.value.scaledGap[0],y:ee(n).y%r.value.scaledGap[1],width:r.value.scaledGap[0],height:r.value.scaledGap[1],patternTransform:`translate(-${r.value.offset[0]},-${r.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[$e(a.$slots,"pattern",{},()=>[a.variant===ee(ct).Lines?(se(),Be(ee(km),{key:0,size:a.lineWidth,color:o.value,dimensions:r.value.scaledGap},null,8,["size","color","dimensions"])):a.variant===ee(ct).Dots?(se(),Be(ee(Om),{key:1,color:o.value,radius:r.value.size/2},null,8,["color","radius"])):Re("",!0),a.bgColor?(se(),ve("svg",XN,[Se("rect",{width:"100%",height:"100%",fill:a.bgColor},null,8,WN)])):Re("",!0)])],8,KN)]),Se("rect",{x:a.x,y:a.y,width:"100%",height:"100%",fill:`url(#${i.value})`},null,8,ZN),$e(a.$slots,"default",{id:i.value})],4))}})),He={x:0,y:0},Ue="process",Je="animation",eI=[{id:"1",position:He,type:Ue},{id:"2",position:He,type:Ue},{id:"2a",position:He,type:Ue},{id:"2b",position:He,type:Ue},{id:"2c",position:He,type:Ue},{id:"2d",position:He,type:Ue},{id:"3",position:He,type:Ue},{id:"4",position:He,type:Ue},{id:"5",position:He,type:Ue},{id:"6",position:He,type:Ue},{id:"7",position:He,type:Ue}],tI=[{id:"e1-2",source:"1",target:"2",type:Je,animated:!0},{id:"e1-3",source:"1",target:"3",type:Je,animated:!0},{id:"e2-2a",source:"2",target:"2a",type:Je,animated:!0},{id:"e2-2b",source:"2",target:"2b",type:Je,animated:!0},{id:"e2-2c",source:"2",target:"2c",type:Je,animated:!0},{id:"e2c-2d",source:"2c",target:"2d",type:Je,animated:!0},{id:"e3-7",source:"3",target:"4",type:Je,animated:!0},{id:"e4-5",source:"4",target:"5",type:Je,animated:!0},{id:"e5-6",source:"5",target:"6",type:Je,animated:!0},{id:"e5-7",source:"5",target:"7",type:Je,animated:!0}],nI={class:"layout-flow"},rI={class:"layout-panel"},iI=Ee({__name:"index",setup(e){const t=ye(eI),n=ye(tI),r=ye(!0),i=$N(),{graph:o,layout:a,previousDirection:s}=kN(),{run:u,stop:l,reset:c,isRunning:d}=VN({graph:o,cancelOnError:r}),{fitView:f}=be();function h(){return Ve(this,null,function*(){yield l(),c(t.value),n.value=i(t.value),Le(()=>{_(s.value)})})}function _(v){return Ve(this,null,function*(){yield l(),c(t.value),t.value=a(t.value,n.value,v),Le(()=>{f(),u(t.value)})})}return(v,p)=>(se(),ve("div",nI,[Ce(ee(RN),{nodes:t.value,edges:n.value,onNodesInitialized:p[4]||(p[4]=y=>_("LR"))},{"node-process":ut(y=>[Ce(GN,{data:y.data,"source-position":y.sourcePosition,"target-position":y.targetPosition},null,8,["data","source-position","target-position"])]),"edge-animation":ut(y=>[Ce(jN,{id:y.id,source:y.source,target:y.target,"source-x":y.sourceX,"source-y":y.sourceY,targetX:y.targetX,targetY:y.targetY,"source-position":y.sourcePosition,"target-position":y.targetPosition},null,8,["id","source","target","source-x","source-y","targetX","targetY","source-position","target-position"])]),default:ut(()=>[Ce(ee(QN)),Ce(ee(MN),{class:"process-panel",position:"top-left"},{default:ut(()=>[Se("div",rI,[ee(d)?(se(),ve("button",{key:0,class:"stop-btn",title:"stop",onClick:p[0]||(p[0]=(...y)=>ee(l)&&ee(l)(...y))},[Ce(rn,{name:"stop"}),p[5]||(p[5]=Se("span",{class:"spinner"},null,-1))])):(se(),ve("button",{key:1,title:"start",onClick:p[1]||(p[1]=y=>ee(u)(t.value))},[Ce(rn,{name:"play"})])),Se("button",{title:"set horizontal layout",onClick:p[2]||(p[2]=y=>_("LR"))},[Ce(rn,{name:"horizontal"})]),Se("button",{title:"set vertical layout",onClick:p[3]||(p[3]=y=>_("TB"))},[Ce(rn,{name:"vertical"})]),Se("button",{title:"shuffle graph",onClick:h},[Ce(rn,{name:"shuffle"})])])]),_:1})]),_:1},8,["nodes","edges"])]))}}),uI=Ml(iI,[["__scopeId","data-v-f97c9ea4"]]);export{uI as default};
