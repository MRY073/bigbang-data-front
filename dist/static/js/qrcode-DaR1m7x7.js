var pe=Object.defineProperty;var qt=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var Dt=(r,o,i)=>o in r?pe(r,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[o]=i,kt=(r,o)=>{for(var i in o||(o={}))be.call(o,i)&&Dt(r,i,o[i]);if(qt)for(var i of qt(o))Be.call(o,i)&&Dt(r,i,o[i]);return r};var st=(r,o,i)=>new Promise((n,e)=>{var t=a=>{try{u(i.next(a))}catch(l){e(l)}},s=a=>{try{u(i.throw(a))}catch(l){e(l)}},u=a=>a.done?n(a.value):Promise.resolve(a.value).then(t,s);u((i=i.apply(r,o)).next())});import{V as ve,d as he,a as Pt,p as Ut,n as Re,f as P,A as Te,B as Ae,u as _,h as $,F as Se,x as Ie,Z as Ne,$ as Ft,Y as Pe,k as Me,e as Le,w as L,g as D,j as tt,J as zt}from"./index-CrpkX2s8.js";import{p as et}from"./propTypes-B9jTUFW5.js";import{R as _e}from"./refresh-right-D33AqR4f.js";var G={},at,xt;function qe(){return xt||(xt=1,at=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),at}var ut={},V={},Vt;function j(){if(Vt)return V;Vt=1;let r;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return V.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},V.getSymbolTotalCodewords=function(n){return o[n]},V.getBCHDigit=function(i){let n=0;for(;i!==0;)n++,i>>>=1;return n},V.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');r=n},V.isKanjiModeEnabled=function(){return typeof r!="undefined"},V.toSJIS=function(n){return r(n)},V}var lt={},Ht;function Mt(){return Ht||(Ht=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function o(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+i)}}r.isValid=function(n){return n&&typeof n.bit!="undefined"&&n.bit>=0&&n.bit<4},r.from=function(n,e){if(r.isValid(n))return n;try{return o(n)}catch(t){return e}}})(lt)),lt}var ct,Kt;function De(){if(Kt)return ct;Kt=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(o){const i=Math.floor(o/8);return(this.buffer[i]>>>7-o%8&1)===1},put:function(o,i){for(let n=0;n<i;n++)this.putBit((o>>>i-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),o&&(this.buffer[i]|=128>>>this.length%8),this.length++}},ct=r,ct}var ft,Ot;function ke(){if(Ot)return ft;Ot=1;function r(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}return r.prototype.set=function(o,i,n,e){const t=o*this.size+i;this.data[t]=n,e&&(this.reservedBit[t]=!0)},r.prototype.get=function(o,i){return this.data[o*this.size+i]},r.prototype.xor=function(o,i,n){this.data[o*this.size+i]^=n},r.prototype.isReserved=function(o,i){return this.reservedBit[o*this.size+i]},ft=r,ft}var dt={},jt;function Ue(){return jt||(jt=1,(function(r){const o=j().getSymbolSize;r.getRowColCoords=function(n){if(n===1)return[];const e=Math.floor(n/7)+2,t=o(n),s=t===145?26:Math.ceil((t-13)/(2*e-2))*2,u=[t-7];for(let a=1;a<e-1;a++)u[a]=u[a-1]-s;return u.push(6),u.reverse()},r.getPositions=function(n){const e=[],t=r.getRowColCoords(n),s=t.length;for(let u=0;u<s;u++)for(let a=0;a<s;a++)u===0&&a===0||u===0&&a===s-1||u===s-1&&a===0||e.push([t[u],t[a]]);return e}})(dt)),dt}var gt={},Jt;function Fe(){if(Jt)return gt;Jt=1;const r=j().getSymbolSize,o=7;return gt.getPositions=function(n){const e=r(n);return[[0,0],[e-o,0],[0,e-o]]},gt}var ht={},Yt;function ze(){return Yt||(Yt=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const o={N1:3,N2:3,N3:40,N4:10};r.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7},r.from=function(e){return r.isValid(e)?parseInt(e,10):void 0},r.getPenaltyN1=function(e){const t=e.size;let s=0,u=0,a=0,l=null,m=null;for(let A=0;A<t;A++){u=a=0,l=m=null;for(let E=0;E<t;E++){let g=e.get(A,E);g===l?u++:(u>=5&&(s+=o.N1+(u-5)),l=g,u=1),g=e.get(E,A),g===m?a++:(a>=5&&(s+=o.N1+(a-5)),m=g,a=1)}u>=5&&(s+=o.N1+(u-5)),a>=5&&(s+=o.N1+(a-5))}return s},r.getPenaltyN2=function(e){const t=e.size;let s=0;for(let u=0;u<t-1;u++)for(let a=0;a<t-1;a++){const l=e.get(u,a)+e.get(u,a+1)+e.get(u+1,a)+e.get(u+1,a+1);(l===4||l===0)&&s++}return s*o.N2},r.getPenaltyN3=function(e){const t=e.size;let s=0,u=0,a=0;for(let l=0;l<t;l++){u=a=0;for(let m=0;m<t;m++)u=u<<1&2047|e.get(l,m),m>=10&&(u===1488||u===93)&&s++,a=a<<1&2047|e.get(m,l),m>=10&&(a===1488||a===93)&&s++}return s*o.N3},r.getPenaltyN4=function(e){let t=0;const s=e.data.length;for(let a=0;a<s;a++)t+=e.data[a];return Math.abs(Math.ceil(t*100/s/5)-10)*o.N4};function i(n,e,t){switch(n){case r.Patterns.PATTERN000:return(e+t)%2===0;case r.Patterns.PATTERN001:return e%2===0;case r.Patterns.PATTERN010:return t%3===0;case r.Patterns.PATTERN011:return(e+t)%3===0;case r.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case r.Patterns.PATTERN101:return e*t%2+e*t%3===0;case r.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case r.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}r.applyMask=function(e,t){const s=t.size;for(let u=0;u<s;u++)for(let a=0;a<s;a++)t.isReserved(a,u)||t.xor(a,u,i(e,a,u))},r.getBestMask=function(e,t){const s=Object.keys(r.Patterns).length;let u=0,a=1/0;for(let l=0;l<s;l++){t(l),r.applyMask(l,e);const m=r.getPenaltyN1(e)+r.getPenaltyN2(e)+r.getPenaltyN3(e)+r.getPenaltyN4(e);r.applyMask(l,e),m<a&&(a=m,u=l)}return u}})(ht)),ht}var nt={},Qt;function me(){if(Qt)return nt;Qt=1;const r=Mt(),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return nt.getBlocksCount=function(e,t){switch(t){case r.L:return o[(e-1)*4+0];case r.M:return o[(e-1)*4+1];case r.Q:return o[(e-1)*4+2];case r.H:return o[(e-1)*4+3];default:return}},nt.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return i[(e-1)*4+0];case r.M:return i[(e-1)*4+1];case r.Q:return i[(e-1)*4+2];case r.H:return i[(e-1)*4+3];default:return}},nt}var mt={},W={},Gt;function xe(){if(Gt)return W;Gt=1;const r=new Uint8Array(512),o=new Uint8Array(256);return(function(){let n=1;for(let e=0;e<255;e++)r[e]=n,o[n]=e,n<<=1,n&256&&(n^=285);for(let e=255;e<512;e++)r[e]=r[e-255]})(),W.log=function(n){if(n<1)throw new Error("log("+n+")");return o[n]},W.exp=function(n){return r[n]},W.mul=function(n,e){return n===0||e===0?0:r[o[n]+o[e]]},W}var Wt;function Ve(){return Wt||(Wt=1,(function(r){const o=xe();r.mul=function(n,e){const t=new Uint8Array(n.length+e.length-1);for(let s=0;s<n.length;s++)for(let u=0;u<e.length;u++)t[s+u]^=o.mul(n[s],e[u]);return t},r.mod=function(n,e){let t=new Uint8Array(n);for(;t.length-e.length>=0;){const s=t[0];for(let a=0;a<e.length;a++)t[a]^=o.mul(e[a],s);let u=0;for(;u<t.length&&t[u]===0;)u++;t=t.slice(u)}return t},r.generateECPolynomial=function(n){let e=new Uint8Array([1]);for(let t=0;t<n;t++)e=r.mul(e,new Uint8Array([1,o.exp(t)]));return e}})(mt)),mt}var wt,$t;function He(){if($t)return wt;$t=1;const r=Ve();function o(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}return o.prototype.initialize=function(n){this.degree=n,this.genPoly=r.generateECPolynomial(this.degree)},o.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(n.length+this.degree);e.set(n);const t=r.mod(e,this.genPoly),s=this.degree-t.length;if(s>0){const u=new Uint8Array(this.degree);return u.set(t,s),u}return t},wt=o,wt}var Ct={},yt={},Et={},Xt;function we(){return Xt||(Xt=1,Et.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}),Et}var k={},Zt;function Ce(){if(Zt)return k;Zt=1;const r="[0-9]+",o="[A-Z $%*+\\-./:]+";let i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";i=i.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+i+`)(?:.|[\r
]))+`;k.KANJI=new RegExp(i,"g"),k.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),k.BYTE=new RegExp(n,"g"),k.NUMERIC=new RegExp(r,"g"),k.ALPHANUMERIC=new RegExp(o,"g");const e=new RegExp("^"+i+"$"),t=new RegExp("^"+r+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return k.testKanji=function(a){return e.test(a)},k.testNumeric=function(a){return t.test(a)},k.testAlphanumeric=function(a){return s.test(a)},k}var te;function J(){return te||(te=1,(function(r){const o=we(),i=Ce();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(t,s){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!o.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?t.ccBits[0]:s<27?t.ccBits[1]:t.ccBits[2]},r.getBestModeForData=function(t){return i.testNumeric(t)?r.NUMERIC:i.testAlphanumeric(t)?r.ALPHANUMERIC:i.testKanji(t)?r.KANJI:r.BYTE},r.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},r.isValid=function(t){return t&&t.bit&&t.ccBits};function n(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+e)}}r.from=function(t,s){if(r.isValid(t))return t;try{return n(t)}catch(u){return s}}})(yt)),yt}var ee;function Ke(){return ee||(ee=1,(function(r){const o=j(),i=me(),n=Mt(),e=J(),t=we(),s=7973,u=o.getBCHDigit(s);function a(E,g,I){for(let f=1;f<=40;f++)if(g<=r.getCapacity(f,I,E))return f}function l(E,g){return e.getCharCountIndicator(E,g)+4}function m(E,g){let I=0;return E.forEach(function(f){const N=l(f.mode,g);I+=N+f.getBitsLength()}),I}function A(E,g){for(let I=1;I<=40;I++)if(m(E,I)<=r.getCapacity(I,g,e.MIXED))return I}r.from=function(g,I){return t.isValid(g)?parseInt(g,10):I},r.getCapacity=function(g,I,f){if(!t.isValid(g))throw new Error("Invalid QR Code version");typeof f=="undefined"&&(f=e.BYTE);const N=o.getSymbolTotalCodewords(g),h=i.getTotalCodewordsCount(g,I),T=(N-h)*8;if(f===e.MIXED)return T;const B=T-l(f,g);switch(f){case e.NUMERIC:return Math.floor(B/10*3);case e.ALPHANUMERIC:return Math.floor(B/11*2);case e.KANJI:return Math.floor(B/13);case e.BYTE:default:return Math.floor(B/8)}},r.getBestVersionForData=function(g,I){let f;const N=n.from(I,n.M);if(Array.isArray(g)){if(g.length>1)return A(g,N);if(g.length===0)return 1;f=g[0]}else f=g;return a(f.mode,f.getLength(),N)},r.getEncodedBits=function(g){if(!t.isValid(g)||g<7)throw new Error("Invalid QR Code version");let I=g<<12;for(;o.getBCHDigit(I)-u>=0;)I^=s<<o.getBCHDigit(I)-u;return g<<12|I}})(Ct)),Ct}var pt={},ne;function Oe(){if(ne)return pt;ne=1;const r=j(),o=1335,i=21522,n=r.getBCHDigit(o);return pt.getEncodedBits=function(t,s){const u=t.bit<<3|s;let a=u<<10;for(;r.getBCHDigit(a)-n>=0;)a^=o<<r.getBCHDigit(a)-n;return(u<<10|a)^i},pt}var bt={},Bt,re;function je(){if(re)return Bt;re=1;const r=J();function o(i){this.mode=r.NUMERIC,this.data=i.toString()}return o.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(n){let e,t,s;for(e=0;e+3<=this.data.length;e+=3)t=this.data.substr(e,3),s=parseInt(t,10),n.put(s,10);const u=this.data.length-e;u>0&&(t=this.data.substr(e),s=parseInt(t,10),n.put(s,u*3+1))},Bt=o,Bt}var vt,oe;function Je(){if(oe)return vt;oe=1;const r=J(),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(n){this.mode=r.ALPHANUMERIC,this.data=n}return i.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let s=o.indexOf(this.data[t])*45;s+=o.indexOf(this.data[t+1]),e.put(s,11)}this.data.length%2&&e.put(o.indexOf(this.data[t]),6)},vt=i,vt}var Rt,ie;function Ye(){if(ie)return Rt;ie=1;const r=J();function o(i){this.mode=r.BYTE,typeof i=="string"?this.data=new TextEncoder().encode(i):this.data=new Uint8Array(i)}return o.getBitsLength=function(n){return n*8},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(i){for(let n=0,e=this.data.length;n<e;n++)i.put(this.data[n],8)},Rt=o,Rt}var Tt,se;function Qe(){if(se)return Tt;se=1;const r=J(),o=j();function i(n){this.mode=r.KANJI,this.data=n}return i.getBitsLength=function(e){return e*13},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=o.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}},Tt=i,Tt}var At={exports:{}},ae;function Ge(){return ae||(ae=1,(function(r){var o={single_source_shortest_paths:function(i,n,e){var t={},s={};s[n]=0;var u=o.PriorityQueue.make();u.push(n,0);for(var a,l,m,A,E,g,I,f,N;!u.empty();){a=u.pop(),l=a.value,A=a.cost,E=i[l]||{};for(m in E)E.hasOwnProperty(m)&&(g=E[m],I=A+g,f=s[m],N=typeof s[m]=="undefined",(N||f>I)&&(s[m]=I,u.push(m,I),t[m]=l))}if(typeof e!="undefined"&&typeof s[e]=="undefined"){var h=["Could not find a path from ",n," to ",e,"."].join("");throw new Error(h)}return t},extract_shortest_path_from_predecessor_list:function(i,n){for(var e=[],t=n;t;)e.push(t),i[t],t=i[t];return e.reverse(),e},find_path:function(i,n,e){var t=o.single_source_shortest_paths(i,n,e);return o.extract_shortest_path_from_predecessor_list(t,e)},PriorityQueue:{make:function(i){var n=o.PriorityQueue,e={},t;i=i||{};for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e.queue=[],e.sorter=i.sorter||n.default_sorter,e},default_sorter:function(i,n){return i.cost-n.cost},push:function(i,n){var e={value:i,cost:n};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=o})(At)),At.exports}var ue;function We(){return ue||(ue=1,(function(r){const o=J(),i=je(),n=Je(),e=Ye(),t=Qe(),s=Ce(),u=j(),a=Ge();function l(h){return unescape(encodeURIComponent(h)).length}function m(h,T,B){const C=[];let M;for(;(M=h.exec(B))!==null;)C.push({data:M[0],index:M.index,mode:T,length:M[0].length});return C}function A(h){const T=m(s.NUMERIC,o.NUMERIC,h),B=m(s.ALPHANUMERIC,o.ALPHANUMERIC,h);let C,M;return u.isKanjiModeEnabled()?(C=m(s.BYTE,o.BYTE,h),M=m(s.KANJI,o.KANJI,h)):(C=m(s.BYTE_KANJI,o.BYTE,h),M=[]),T.concat(B,C,M).sort(function(b,v){return b.index-v.index}).map(function(b){return{data:b.data,mode:b.mode,length:b.length}})}function E(h,T){switch(T){case o.NUMERIC:return i.getBitsLength(h);case o.ALPHANUMERIC:return n.getBitsLength(h);case o.KANJI:return t.getBitsLength(h);case o.BYTE:return e.getBitsLength(h)}}function g(h){return h.reduce(function(T,B){const C=T.length-1>=0?T[T.length-1]:null;return C&&C.mode===B.mode?(T[T.length-1].data+=B.data,T):(T.push(B),T)},[])}function I(h){const T=[];for(let B=0;B<h.length;B++){const C=h[B];switch(C.mode){case o.NUMERIC:T.push([C,{data:C.data,mode:o.ALPHANUMERIC,length:C.length},{data:C.data,mode:o.BYTE,length:C.length}]);break;case o.ALPHANUMERIC:T.push([C,{data:C.data,mode:o.BYTE,length:C.length}]);break;case o.KANJI:T.push([C,{data:C.data,mode:o.BYTE,length:l(C.data)}]);break;case o.BYTE:T.push([{data:C.data,mode:o.BYTE,length:l(C.data)}])}}return T}function f(h,T){const B={},C={start:{}};let M=["start"];for(let w=0;w<h.length;w++){const b=h[w],v=[];for(let c=0;c<b.length;c++){const y=b[c],p=""+w+c;v.push(p),B[p]={node:y,lastCount:0},C[p]={};for(let R=0;R<M.length;R++){const d=M[R];B[d]&&B[d].node.mode===y.mode?(C[d][p]=E(B[d].lastCount+y.length,y.mode)-E(B[d].lastCount,y.mode),B[d].lastCount+=y.length):(B[d]&&(B[d].lastCount=y.length),C[d][p]=E(y.length,y.mode)+4+o.getCharCountIndicator(y.mode,T))}}M=v}for(let w=0;w<M.length;w++)C[M[w]].end=0;return{map:C,table:B}}function N(h,T){let B;const C=o.getBestModeForData(h);if(B=o.from(T,C),B!==o.BYTE&&B.bit<C.bit)throw new Error('"'+h+'" cannot be encoded with mode '+o.toString(B)+`.
 Suggested mode is: `+o.toString(C));switch(B===o.KANJI&&!u.isKanjiModeEnabled()&&(B=o.BYTE),B){case o.NUMERIC:return new i(h);case o.ALPHANUMERIC:return new n(h);case o.KANJI:return new t(h);case o.BYTE:return new e(h)}}r.fromArray=function(T){return T.reduce(function(B,C){return typeof C=="string"?B.push(N(C,null)):C.data&&B.push(N(C.data,C.mode)),B},[])},r.fromString=function(T,B){const C=A(T,u.isKanjiModeEnabled()),M=I(C),w=f(M,B),b=a.find_path(w.map,"start","end"),v=[];for(let c=1;c<b.length-1;c++)v.push(w.table[b[c]].node);return r.fromArray(g(v))},r.rawSplit=function(T){return r.fromArray(A(T,u.isKanjiModeEnabled()))}})(bt)),bt}var le;function $e(){if(le)return ut;le=1;const r=j(),o=Mt(),i=De(),n=ke(),e=Ue(),t=Fe(),s=ze(),u=me(),a=He(),l=Ke(),m=Oe(),A=J(),E=We();function g(w,b){const v=w.size,c=t.getPositions(b);for(let y=0;y<c.length;y++){const p=c[y][0],R=c[y][1];for(let d=-1;d<=7;d++)if(!(p+d<=-1||v<=p+d))for(let S=-1;S<=7;S++)R+S<=-1||v<=R+S||(d>=0&&d<=6&&(S===0||S===6)||S>=0&&S<=6&&(d===0||d===6)||d>=2&&d<=4&&S>=2&&S<=4?w.set(p+d,R+S,!0,!0):w.set(p+d,R+S,!1,!0))}}function I(w){const b=w.size;for(let v=8;v<b-8;v++){const c=v%2===0;w.set(v,6,c,!0),w.set(6,v,c,!0)}}function f(w,b){const v=e.getPositions(b);for(let c=0;c<v.length;c++){const y=v[c][0],p=v[c][1];for(let R=-2;R<=2;R++)for(let d=-2;d<=2;d++)R===-2||R===2||d===-2||d===2||R===0&&d===0?w.set(y+R,p+d,!0,!0):w.set(y+R,p+d,!1,!0)}}function N(w,b){const v=w.size,c=l.getEncodedBits(b);let y,p,R;for(let d=0;d<18;d++)y=Math.floor(d/3),p=d%3+v-8-3,R=(c>>d&1)===1,w.set(y,p,R,!0),w.set(p,y,R,!0)}function h(w,b,v){const c=w.size,y=m.getEncodedBits(b,v);let p,R;for(p=0;p<15;p++)R=(y>>p&1)===1,p<6?w.set(p,8,R,!0):p<8?w.set(p+1,8,R,!0):w.set(c-15+p,8,R,!0),p<8?w.set(8,c-p-1,R,!0):p<9?w.set(8,15-p-1+1,R,!0):w.set(8,15-p-1,R,!0);w.set(c-8,8,1,!0)}function T(w,b){const v=w.size;let c=-1,y=v-1,p=7,R=0;for(let d=v-1;d>0;d-=2)for(d===6&&d--;;){for(let S=0;S<2;S++)if(!w.isReserved(y,d-S)){let q=!1;R<b.length&&(q=(b[R]>>>p&1)===1),w.set(y,d-S,q),p--,p===-1&&(R++,p=7)}if(y+=c,y<0||v<=y){y-=c,c=-c;break}}}function B(w,b,v){const c=new i;v.forEach(function(S){c.put(S.mode.bit,4),c.put(S.getLength(),A.getCharCountIndicator(S.mode,w)),S.write(c)});const y=r.getSymbolTotalCodewords(w),p=u.getTotalCodewordsCount(w,b),R=(y-p)*8;for(c.getLengthInBits()+4<=R&&c.put(0,4);c.getLengthInBits()%8!==0;)c.putBit(0);const d=(R-c.getLengthInBits())/8;for(let S=0;S<d;S++)c.put(S%2?17:236,8);return C(c,w,b)}function C(w,b,v){const c=r.getSymbolTotalCodewords(b),y=u.getTotalCodewordsCount(b,v),p=c-y,R=u.getBlocksCount(b,v),d=c%R,S=R-d,q=Math.floor(c/R),H=Math.floor(p/R),K=H+1,O=q-H,X=new a(O);let Y=0;const Z=new Array(R),Lt=new Array(R);let rt=0;const Ee=new Uint8Array(w.buffer);for(let Q=0;Q<R;Q++){const it=Q<S?H:K;Z[Q]=Ee.slice(Y,Y+it),Lt[Q]=X.encode(Z[Q]),Y+=it,rt=Math.max(rt,it)}const ot=new Uint8Array(c);let _t=0,U,F;for(U=0;U<rt;U++)for(F=0;F<R;F++)U<Z[F].length&&(ot[_t++]=Z[F][U]);for(U=0;U<O;U++)for(F=0;F<R;F++)ot[_t++]=Lt[F][U];return ot}function M(w,b,v,c){let y;if(Array.isArray(w))y=E.fromArray(w);else if(typeof w=="string"){let q=b;if(!q){const H=E.rawSplit(w);q=l.getBestVersionForData(H,v)}y=E.fromString(w,q||40)}else throw new Error("Invalid data");const p=l.getBestVersionForData(y,v);if(!p)throw new Error("The amount of data is too big to be stored in a QR Code");if(!b)b=p;else if(b<p)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+p+`.
`);const R=B(b,v,y),d=r.getSymbolSize(b),S=new n(d);return g(S,b),I(S),f(S,b),h(S,v,0),b>=7&&N(S,b),T(S,R),isNaN(c)&&(c=s.getBestMask(S,h.bind(null,S,v))),s.applyMask(c,S),h(S,v,c),{modules:S,version:b,errorCorrectionLevel:v,maskPattern:c,segments:y}}return ut.create=function(b,v){if(typeof b=="undefined"||b==="")throw new Error("No input text");let c=o.M,y,p;return typeof v!="undefined"&&(c=o.from(v.errorCorrectionLevel,o.M),y=l.from(v.version),p=s.from(v.maskPattern),v.toSJISFunc&&r.setToSJISFunction(v.toSJISFunc)),M(b,y,c,p)},ut}var St={},It={},ce;function ye(){return ce||(ce=1,(function(r){function o(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let n=i.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+i);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(t){return[t,t]}))),n.length===6&&n.push("F","F");const e=parseInt(n.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+n.slice(0,6).join("")}}r.getOptions=function(n){n||(n={}),n.color||(n.color={});const e=typeof n.margin=="undefined"||n.margin===null||n.margin<0?4:n.margin,t=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:t,scale:t?4:s,margin:e,color:{dark:o(n.color.dark||"#000000ff"),light:o(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},r.getScale=function(n,e){return e.width&&e.width>=n+e.margin*2?e.width/(n+e.margin*2):e.scale},r.getImageWidth=function(n,e){const t=r.getScale(n,e);return Math.floor((n+e.margin*2)*t)},r.qrToImageData=function(n,e,t){const s=e.modules.size,u=e.modules.data,a=r.getScale(s,t),l=Math.floor((s+t.margin*2)*a),m=t.margin*a,A=[t.color.light,t.color.dark];for(let E=0;E<l;E++)for(let g=0;g<l;g++){let I=(E*l+g)*4,f=t.color.light;if(E>=m&&g>=m&&E<l-m&&g<l-m){const N=Math.floor((E-m)/a),h=Math.floor((g-m)/a);f=A[u[N*s+h]?1:0]}n[I++]=f.r,n[I++]=f.g,n[I++]=f.b,n[I]=f.a}}})(It)),It}var fe;function Xe(){return fe||(fe=1,(function(r){const o=ye();function i(e,t,s){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=s,t.width=s,t.style.height=s+"px",t.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}r.render=function(t,s,u){let a=u,l=s;typeof a=="undefined"&&(!s||!s.getContext)&&(a=s,s=void 0),s||(l=n()),a=o.getOptions(a);const m=o.getImageWidth(t.modules.size,a),A=l.getContext("2d"),E=A.createImageData(m,m);return o.qrToImageData(E.data,t,a),i(A,l,m),A.putImageData(E,0,0),l},r.renderToDataURL=function(t,s,u){let a=u;typeof a=="undefined"&&(!s||!s.getContext)&&(a=s,s=void 0),a||(a={});const l=r.render(t,s,a),m=a.type||"image/png",A=a.rendererOpts||{};return l.toDataURL(m,A.quality)}})(St)),St}var Nt={},de;function Ze(){if(de)return Nt;de=1;const r=ye();function o(e,t){const s=e.a/255,u=t+'="'+e.hex+'"';return s<1?u+" "+t+'-opacity="'+s.toFixed(2).slice(1)+'"':u}function i(e,t,s){let u=e+t;return typeof s!="undefined"&&(u+=" "+s),u}function n(e,t,s){let u="",a=0,l=!1,m=0;for(let A=0;A<e.length;A++){const E=Math.floor(A%t),g=Math.floor(A/t);!E&&!l&&(l=!0),e[A]?(m++,A>0&&E>0&&e[A-1]||(u+=l?i("M",E+s,.5+g+s):i("m",a,0),a=0,l=!1),E+1<t&&e[A+1]||(u+=i("h",m),m=0)):a++}return u}return Nt.render=function(t,s,u){const a=r.getOptions(s),l=t.modules.size,m=t.modules.data,A=l+a.margin*2,E=a.color.light.a?"<path "+o(a.color.light,"fill")+' d="M0 0h'+A+"v"+A+'H0z"/>':"",g="<path "+o(a.color.dark,"stroke")+' d="'+n(m,l,a.margin)+'"/>',I='viewBox="0 0 '+A+" "+A+'"',N='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+I+' shape-rendering="crispEdges">'+E+g+`</svg>
`;return typeof u=="function"&&u(null,N),N},Nt}var ge;function tn(){if(ge)return G;ge=1;const r=qe(),o=$e(),i=Xe(),n=Ze();function e(t,s,u,a,l){const m=[].slice.call(arguments,1),A=m.length,E=typeof m[A-1]=="function";if(!E&&!r())throw new Error("Callback required as last argument");if(E){if(A<2)throw new Error("Too few arguments provided");A===2?(l=u,u=s,s=a=void 0):A===3&&(s.getContext&&typeof l=="undefined"?(l=a,a=void 0):(l=a,a=u,u=s,s=void 0))}else{if(A<1)throw new Error("Too few arguments provided");return A===1?(u=s,s=a=void 0):A===2&&!s.getContext&&(a=u,u=s,s=void 0),new Promise(function(g,I){try{const f=o.create(u,a);g(t(f,s,a))}catch(f){I(f)}})}try{const g=o.create(u,a);l(null,t(g,s,a))}catch(g){l(g)}}return G.create=o.create,G.toCanvas=e.bind(null,i.render),G.toDataURL=e.bind(null,i.renderToDataURL),G.toString=e.bind(null,function(t,s,u){return n.render(t,u)}),G}var en=tn();const nn=ve(en),rn={tag:et.string.validate(r=>["canvas","img"].includes(r)).def("canvas"),text:{type:[String,Array],default:null},options:{type:Object,default:()=>({})},width:et.number.def(200),logo:{type:[String,Object],default:()=>""},disabled:et.bool.def(!1),disabledText:et.string.def("")},on=he({name:"ReQrcode",props:rn,emits:["done","click","disabled-click"],setup(r,{emit:o}){const{toCanvas:i,toDataURL:n}=nn,e=Pt(!0),t=Pt(null),s=Ut(()=>String(r.text)),u=Ut(()=>({width:r.width+"px",height:r.width+"px"})),a=()=>st(null,null,function*(){yield Ie();const f=Ne(r.options||{});if(r.tag==="canvas"){f.errorCorrectionLevel=f.errorCorrectionLevel||A(_(s));const N=yield m(_(s),f);f.scale=r.width===0?void 0:r.width/N*4;const h=yield i(_(t),_(s),f);if(r.logo){const T=yield l(h);o("done",T),e.value=!1}else o("done",h.toDataURL()),e.value=!1}else{const N=yield n(s.value,kt({errorCorrectionLevel:"H",width:r.width},f));_(t).src=N,o("done",N),e.value=!1}});Re(()=>s.value,f=>{f&&a()},{deep:!0,immediate:!0});const l=f=>{const N=f.width,h=Object.assign({logoSize:.15,bgColor:"#ffffff",borderSize:.05,crossOrigin:"anonymous",borderRadius:8,logoRadius:0},Ft(r.logo)?{}:r.logo),{logoSize:T=.15,bgColor:B="#ffffff",borderSize:C=.05,crossOrigin:M="anonymous",borderRadius:w=8,logoRadius:b=0}=h,v=Ft(r.logo)?r.logo:r.logo.src,c=N*T,y=N*(1-T)/2,p=N*(T+C),R=N*(1-T-C)/2,d=f.getContext("2d");if(!d)return;E(d)(R,R,p,p,w),d.fillStyle=B,d.fill();const S=new Image;(M||b)&&S.setAttribute("crossOrigin",M),S.src=v;const q=K=>{d.drawImage(K,y,y,c,c)},H=K=>{const O=document.createElement("canvas");O.width=y+c,O.height=y+c;const X=O.getContext("2d");if(!X||!d||(X.drawImage(K,y,y,c,c),E(d)(y,y,c,c,b),!d))return;const Y=d.createPattern(O,"no-repeat");Y&&(d.fillStyle=Y,d.fill())};return new Promise(K=>{S.onload=()=>{b?H(S):q(S),K(f.toDataURL())}})},m=(f,N)=>st(null,null,function*(){const h=document.createElement("canvas");return yield i(h,f,N),h.width}),A=f=>f.length>36?"M":f.length>16?"Q":"H",E=f=>(N,h,T,B,C)=>{const M=Math.min(T,B);return C>M/2&&(C=M/2),f.beginPath(),f.moveTo(N+C,h),f.arcTo(N+T,h,N+T,h+B,C),f.arcTo(N+T,h+B,N,h+B,C),f.arcTo(N,h+B,N,h,C),f.arcTo(N,h,N+T,h,C),f.closePath(),f},g=()=>{o("click")},I=()=>{o("disabled-click")};return()=>P(Se,null,[Te(P("div",{class:"qrcode relative inline-block",style:_(u)},[r.tag==="canvas"?P("canvas",{ref:t,onClick:g},null):P("img",{ref:t,onClick:g},null),r.disabled&&P("div",{class:"qrcode--disabled absolute top-0 left-0 flex w-full h-full items-center justify-center",onClick:I},[P("div",{class:"absolute top-[50%] left-[50%] font-bold"},[P($("iconify-icon-offline"),{class:"cursor-pointer",icon:_e,width:"30",color:"var(--el-color-primary)"},null),P("div",null,[r.disabledText])])])]),[[Ae("loading"),_(e)]])])}}),z=Pe(on),sn={class:"font-medium"},x="vue-pure-admin",fn=he({name:"QrCode",__name:"qrcode",setup(r){const o=Pt("");setTimeout(()=>{o.value=_(x)},3e3);const i=()=>{zt("点击事件",{type:"info"})},n=()=>{zt("失效",{type:"info"})};return(e,t)=>{const s=$("el-link"),u=$("el-card"),a=$("el-col"),l=$("el-row");return Le(),Me("div",null,[P(u,{shadow:"never"},{header:L(()=>[D("div",sn,[t[1]||(t[1]=tt(" 二维码（基于 ",-1)),P(s,{href:"https://github.com/soldair/node-qrcode",target:"_blank",style:{margin:"0 5px 4px 0","font-size":"16px"}},{default:L(()=>[...t[0]||(t[0]=[tt(" qrcode ",-1)])]),_:1}),t[2]||(t[2]=tt(" 生成） ",-1))]),P(s,{class:"mt-2",href:"https://github.com/pure-admin/vue-pure-admin/blob/main/src/views/able/qrcode.vue",target:"_blank"},{default:L(()=>[...t[3]||(t[3]=[tt(" 代码位置 src/views/able/qrcode.vue ",-1)])]),_:1})]),default:L(()=>[P(l,{gutter:20,justify:"space-between"},{default:L(()=>[P(a,{xl:6,lg:6,md:12,sm:24,xs:24},{default:L(()=>[P(u,{shadow:"hover",class:"mb-[10px] text-center"},{default:L(()=>[t[4]||(t[4]=D("div",{class:"font-bold"},"基础用法",-1)),P(_(z),{text:x})]),_:1})]),_:1}),P(a,{xl:6,lg:6,md:12,sm:24,xs:24},{default:L(()=>[P(u,{shadow:"hover",class:"mb-[10px] text-center"},{default:L(()=>[t[5]||(t[5]=D("div",{class:"font-bold"},"img标签",-1)),P(_(z),{text:x,tag:"img"})]),_:1})]),_:1}),P(a,{xl:6,lg:6,md:12,sm:24,xs:24},{default:L(()=>[P(u,{shadow:"hover",class:"mb-[10px] text-center"},{default:L(()=>[t[6]||(t[6]=D("div",{class:"font-bold"},"样式配置",-1)),P(_(z),{text:x,options:{color:{dark:"#55D187",light:"#2d8cf0"}}})]),_:1})]),_:1}),P(a,{xl:6,lg:6,md:12,sm:24,xs:24},{default:L(()=>[P(u,{shadow:"hover",class:"mb-[10px] text-center"},{default:L(()=>[t[7]||(t[7]=D("div",{class:"font-bold"},"点击事件",-1)),P(_(z),{text:x,onClick:i})]),_:1})]),_:1}),P(a,{xl:6,lg:6,md:12,sm:24,xs:24},{default:L(()=>[P(u,{shadow:"hover",class:"mb-[10px] text-center"},{default:L(()=>[t[8]||(t[8]=D("div",{class:"font-bold"},"异步内容",-1)),P(_(z),{text:o.value},null,8,["text"])]),_:1})]),_:1}),P(a,{xl:6,lg:6,md:12,sm:24,xs:24},{default:L(()=>[P(u,{shadow:"hover",class:"mb-[10px] text-center"},{default:L(()=>[t[9]||(t[9]=D("div",{class:"font-bold"},"失效",-1)),P(_(z),{text:x,disabled:"",onDisabledClick:n})]),_:1})]),_:1}),P(a,{xl:6,lg:6,md:12,sm:24,xs:24},{default:L(()=>[P(u,{shadow:"hover",class:"mb-[10px] text-center"},{default:L(()=>[t[10]||(t[10]=D("div",{class:"font-bold"},"logo配置",-1)),P(_(z),{text:x,logo:"https://avatars.githubusercontent.com/u/44761321?v=4"})]),_:1})]),_:1}),P(a,{xl:6,lg:6,md:12,sm:24,xs:24},{default:L(()=>[P(u,{shadow:"hover",class:"mb-[10px] text-center"},{default:L(()=>[t[11]||(t[11]=D("div",{class:"font-bold"},"logo样式",-1)),P(_(z),{text:x,logo:{src:"https://avatars.githubusercontent.com/u/44761321?v=4",logoSize:.2,borderSize:.05,borderRadius:50,bgColor:"blue"}})]),_:1})]),_:1}),P(a,{xl:6,lg:6,md:12,sm:24,xs:24},{default:L(()=>[P(u,{shadow:"hover",class:"mb-[10px] text-center"},{default:L(()=>[t[12]||(t[12]=D("div",{class:"font-bold"},"大小配置",-1)),P(_(z),{text:x,width:100})]),_:1})]),_:1})]),_:1})]),_:1})])}}});export{fn as default};
